(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pp={exports:{}},Oa={},fp={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),Fg=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),Vg=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),Gg=Symbol.for("react.memo"),Kg=Symbol.for("react.lazy"),qd=Symbol.iterator;function $g(e){return e===null||typeof e!="object"?null:(e=qd&&e[qd]||e["@@iterator"],typeof e=="function"?e:null)}var mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gp=Object.assign,yp={};function Dr(e,t,i){this.props=e,this.context=t,this.refs=yp,this.updater=i||mp}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vp(){}vp.prototype=Dr.prototype;function au(e,t,i){this.props=e,this.context=t,this.refs=yp,this.updater=i||mp}var lu=au.prototype=new vp;lu.constructor=au;gp(lu,Dr.prototype);lu.isPureReactComponent=!0;var Qd=Array.isArray,xp=Object.prototype.hasOwnProperty,cu={current:null},_p={key:!0,ref:!0,__self:!0,__source:!0};function wp(e,t,i){var o,l={},c=null,d=null;if(t!=null)for(o in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(c=""+t.key),t)xp.call(t,o)&&!_p.hasOwnProperty(o)&&(l[o]=t[o]);var p=arguments.length-2;if(p===1)l.children=i;else if(1<p){for(var f=Array(p),g=0;g<p;g++)f[g]=arguments[g+2];l.children=f}if(e&&e.defaultProps)for(o in p=e.defaultProps,p)l[o]===void 0&&(l[o]=p[o]);return{$$typeof:io,type:e,key:c,ref:d,props:l,_owner:cu.current}}function Yg(e,t){return{$$typeof:io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===io}function qg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Xd=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qg(""+e.key):t.toString(36)}function Xo(e,t,i,o,l){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case io:case Fg:d=!0}}if(d)return d=e,l=l(d),e=o===""?"."+Tl(d,0):o,Qd(l)?(i="",e!=null&&(i=e.replace(Xd,"$&/")+"/"),Xo(l,t,i,"",function(g){return g})):l!=null&&(uu(l)&&(l=Yg(l,i+(!l.key||d&&d.key===l.key?"":(""+l.key).replace(Xd,"$&/")+"/")+e)),t.push(l)),1;if(d=0,o=o===""?".":o+":",Qd(e))for(var p=0;p<e.length;p++){c=e[p];var f=o+Tl(c,p);d+=Xo(c,t,i,f,l)}else if(f=$g(e),typeof f=="function")for(e=f.call(e),p=0;!(c=e.next()).done;)c=c.value,f=o+Tl(c,p++),d+=Xo(c,t,i,f,l);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function To(e,t,i){if(e==null)return e;var o=[],l=0;return Xo(e,o,"","",function(c){return t.call(i,c,l++)}),o}function Qg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},Jo={transition:null},Xg={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Jo,ReactCurrentOwner:cu};function bp(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:To,forEach:function(e,t,i){To(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return To(e,function(){t++}),t},toArray:function(e){return To(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Dr;we.Fragment=Og;we.Profiler=Wg;we.PureComponent=au;we.StrictMode=Dg;we.Suspense=Zg;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;we.act=bp;we.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=gp({},e.props),l=e.key,c=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,d=cu.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(f in t)xp.call(t,f)&&!_p.hasOwnProperty(f)&&(o[f]=t[f]===void 0&&p!==void 0?p[f]:t[f])}var f=arguments.length-2;if(f===1)o.children=i;else if(1<f){p=Array(f);for(var g=0;g<f;g++)p[g]=arguments[g+2];o.children=p}return{$$typeof:io,type:e.type,key:l,ref:c,props:o,_owner:d}};we.createContext=function(e){return e={$$typeof:Vg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hg,_context:e},e.Consumer=e};we.createElement=wp;we.createFactory=function(e){var t=wp.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:Ug,render:e}};we.isValidElement=uu;we.lazy=function(e){return{$$typeof:Kg,_payload:{_status:-1,_result:e},_init:Qg}};we.memo=function(e,t){return{$$typeof:Gg,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Jo.transition;Jo.transition={};try{e()}finally{Jo.transition=t}};we.unstable_act=bp;we.useCallback=function(e,t){return xt.current.useCallback(e,t)};we.useContext=function(e){return xt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};we.useEffect=function(e,t){return xt.current.useEffect(e,t)};we.useId=function(){return xt.current.useId()};we.useImperativeHandle=function(e,t,i){return xt.current.useImperativeHandle(e,t,i)};we.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return xt.current.useMemo(e,t)};we.useReducer=function(e,t,i){return xt.current.useReducer(e,t,i)};we.useRef=function(e){return xt.current.useRef(e)};we.useState=function(e){return xt.current.useState(e)};we.useSyncExternalStore=function(e,t,i){return xt.current.useSyncExternalStore(e,t,i)};we.useTransition=function(){return xt.current.useTransition()};we.version="18.3.1";fp.exports=we;var S=fp.exports;const Ai=hp(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=S,e0=Symbol.for("react.element"),t0=Symbol.for("react.fragment"),n0=Object.prototype.hasOwnProperty,i0=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r0={key:!0,ref:!0,__self:!0,__source:!0};function Sp(e,t,i){var o,l={},c=null,d=null;i!==void 0&&(c=""+i),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(d=t.ref);for(o in t)n0.call(t,o)&&!r0.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)l[o]===void 0&&(l[o]=t[o]);return{$$typeof:e0,type:e,key:c,ref:d,props:l,_owner:i0.current}}Oa.Fragment=t0;Oa.jsx=Sp;Oa.jsxs=Sp;pp.exports=Oa;var s=pp.exports,ac={},kp={exports:{}},Ft={},jp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,K){var D=B.length;B.push(K);e:for(;0<D;){var re=D-1>>>1,ge=B[re];if(0<l(ge,K))B[re]=K,B[D]=ge,D=re;else break e}}function i(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var K=B[0],D=B.pop();if(D!==K){B[0]=D;e:for(var re=0,ge=B.length,Pe=ge>>>1;re<Pe;){var _e=2*(re+1)-1,pe=B[_e],oe=_e+1,Fe=B[oe];if(0>l(pe,D))oe<ge&&0>l(Fe,pe)?(B[re]=Fe,B[oe]=D,re=oe):(B[re]=pe,B[_e]=D,re=_e);else if(oe<ge&&0>l(Fe,D))B[re]=Fe,B[oe]=D,re=oe;else break e}}return K}function l(B,K){var D=B.sortIndex-K.sortIndex;return D!==0?D:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var f=[],g=[],_=1,y=null,k=3,j=!1,I=!1,z=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var K=i(g);K!==null;){if(K.callback===null)o(g);else if(K.startTime<=B)o(g),K.sortIndex=K.expirationTime,t(f,K);else break;K=i(g)}}function T(B){if(z=!1,w(B),!I)if(i(f)!==null)I=!0,ve(M);else{var K=i(g);K!==null&&Ae(T,K.startTime-B)}}function M(B,K){I=!1,z&&(z=!1,x(O),O=-1),j=!0;var D=k;try{for(w(K),y=i(f);y!==null&&(!(y.expirationTime>K)||B&&!te());){var re=y.callback;if(typeof re=="function"){y.callback=null,k=y.priorityLevel;var ge=re(y.expirationTime<=K);K=e.unstable_now(),typeof ge=="function"?y.callback=ge:y===i(f)&&o(f),w(K)}else o(f);y=i(f)}if(y!==null)var Pe=!0;else{var _e=i(g);_e!==null&&Ae(T,_e.startTime-K),Pe=!1}return Pe}finally{y=null,k=D,j=!1}}var E=!1,U=null,O=-1,V=5,A=-1;function te(){return!(e.unstable_now()-A<V)}function Y(){if(U!==null){var B=e.unstable_now();A=B;var K=!0;try{K=U(!0,B)}finally{K?X():(E=!1,U=null)}}else E=!1}var X;if(typeof v=="function")X=function(){v(Y)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,me=Q.port2;Q.port1.onmessage=Y,X=function(){me.postMessage(null)}}else X=function(){N(Y,0)};function ve(B){U=B,E||(E=!0,X())}function Ae(B,K){O=N(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){I||j||(I=!0,ve(M))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return i(f)},e.unstable_next=function(B){switch(k){case 1:case 2:case 3:var K=3;break;default:K=k}var D=k;k=K;try{return B()}finally{k=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var D=k;k=B;try{return K()}finally{k=D}},e.unstable_scheduleCallback=function(B,K,D){var re=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?re+D:re):D=re,B){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=D+ge,B={id:_++,callback:K,priorityLevel:B,startTime:D,expirationTime:ge,sortIndex:-1},D>re?(B.sortIndex=D,t(g,B),i(f)===null&&B===i(g)&&(z?(x(O),O=-1):z=!0,Ae(T,D-re))):(B.sortIndex=ge,t(f,B),I||j||(I=!0,ve(M))),B},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(B){var K=k;return function(){var D=k;k=K;try{return B.apply(this,arguments)}finally{k=D}}}})(Cp);jp.exports=Cp;var s0=jp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=S,At=s0;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,Os={};function Ui(e,t){Mr(e,t),Mr(e+"Capture",t)}function Mr(e,t){for(Os[e]=t,e=0;e<t.length;e++)zp.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=Object.prototype.hasOwnProperty,a0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jd={},eh={};function l0(e){return lc.call(eh,e)?!0:lc.call(Jd,e)?!1:a0.test(e)?eh[e]=!0:(Jd[e]=!0,!1)}function c0(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u0(e,t,i,o){if(t===null||typeof t>"u"||c0(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,i,o,l,c,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=d}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var du=/[\-:]([a-z])/g;function hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(du,hu);at[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(du,hu);at[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(du,hu);at[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function pu(e,t,i,o){var l=at.hasOwnProperty(t)?at[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u0(t,i,l,o)&&(i=null),o||l===null?l0(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(t=l.attributeName,o=l.attributeNamespace,i===null?e.removeAttribute(t):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var Dn=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),hr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),cc=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),mu=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),dc=Symbol.for("react.suspense_list"),gu=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),Lp=Symbol.for("react.offscreen"),th=Symbol.iterator;function ps(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Pl;function bs(e){if(Pl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Pl=t&&t[1]||""}return`
`+Pl+e}var Ll=!1;function Il(e,t){if(!e||Ll)return"";Ll=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var l=g.stack.split(`
`),c=o.stack.split(`
`),d=l.length-1,p=c.length-1;1<=d&&0<=p&&l[d]!==c[p];)p--;for(;1<=d&&0<=p;d--,p--)if(l[d]!==c[p]){if(d!==1||p!==1)do if(d--,p--,0>p||l[d]!==c[p]){var f=`
`+l[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=p);break}}}finally{Ll=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?bs(e):""}function d0(e){switch(e.tag){case 5:return bs(e.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return e=Il(e.type,!1),e;case 11:return e=Il(e.type.render,!1),e;case 1:return e=Il(e.type,!0),e;default:return""}}function hc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pr:return"Fragment";case hr:return"Portal";case cc:return"Profiler";case fu:return"StrictMode";case uc:return"Suspense";case dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pp:return(e.displayName||"Context")+".Consumer";case Tp:return(e._context.displayName||"Context")+".Provider";case mu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gu:return t=e.displayName||null,t!==null?t:hc(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return hc(e(t))}catch{}}return null}function h0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hc(t);case 8:return t===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p0(e){var t=Ip(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lo(e){e._valueTracker||(e._valueTracker=p0(e))}function Ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ip(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ha(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pc(e,t){var i=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function nh(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=mi(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mp(e,t){t=t.checked,t!=null&&pu(e,"checked",t,!1)}function fc(e,t){Mp(e,t);var i=mi(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mc(e,t.type,i):t.hasOwnProperty("defaultValue")&&mc(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ih(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function mc(e,t,i){(t!=="number"||ha(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ss=Array.isArray;function Cr(e,t,i,o){if(e=e.options,t){t={};for(var l=0;l<i.length;l++)t["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=t.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&o&&(e[i].defaultSelected=!0)}else{for(i=""+mi(i),t=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function gc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rh(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(H(92));if(Ss(i)){if(1<i.length)throw Error(H(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:mi(i)}}function Rp(e,t){var i=mi(t.value),o=mi(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Io,Np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Io=Io||document.createElement("div"),Io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f0=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){f0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function Ap(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function Fp(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,l=Ap(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,l):e[i]=l}}var m0=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(e,t){if(t){if(m0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function xc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=null;function yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wc=null,zr=null,Tr=null;function oh(e){if(e=oo(e)){if(typeof wc!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ua(t),wc(e.stateNode,e.type,t))}}function Op(e){zr?Tr?Tr.push(e):Tr=[e]:zr=e}function Dp(){if(zr){var e=zr,t=Tr;if(Tr=zr=null,oh(e),t)for(e=0;e<t.length;e++)oh(t[e])}}function Wp(e,t){return e(t)}function Hp(){}var El=!1;function Vp(e,t,i){if(El)return e(t,i);El=!0;try{return Wp(e,t,i)}finally{El=!1,(zr!==null||Tr!==null)&&(Hp(),Dp())}}function Ws(e,t){var i=e.stateNode;if(i===null)return null;var o=Ua(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(H(231,t,typeof i));return i}var bc=!1;if(Nn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){bc=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{bc=!1}function g0(e,t,i,o,l,c,d,p,f){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(_){this.onError(_)}}var Ts=!1,pa=null,fa=!1,Sc=null,y0={onError:function(e){Ts=!0,pa=e}};function v0(e,t,i,o,l,c,d,p,f){Ts=!1,pa=null,g0.apply(y0,arguments)}function x0(e,t,i,o,l,c,d,p,f){if(v0.apply(this,arguments),Ts){if(Ts){var g=pa;Ts=!1,pa=null}else throw Error(H(198));fa||(fa=!0,Sc=g)}}function Zi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ah(e){if(Zi(e)!==e)throw Error(H(188))}function _0(e){var t=e.alternate;if(!t){if(t=Zi(e),t===null)throw Error(H(188));return t!==e?null:e}for(var i=e,o=t;;){var l=i.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){i=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===i)return ah(l),e;if(c===o)return ah(l),t;c=c.sibling}throw Error(H(188))}if(i.return!==o.return)i=l,o=c;else{for(var d=!1,p=l.child;p;){if(p===i){d=!0,i=l,o=c;break}if(p===o){d=!0,o=l,i=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===i){d=!0,i=c,o=l;break}if(p===o){d=!0,o=c,i=l;break}p=p.sibling}if(!d)throw Error(H(189))}}if(i.alternate!==o)throw Error(H(190))}if(i.tag!==3)throw Error(H(188));return i.stateNode.current===i?e:t}function Zp(e){return e=_0(e),e!==null?Gp(e):null}function Gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gp(e);if(t!==null)return t;e=e.sibling}return null}var Kp=At.unstable_scheduleCallback,lh=At.unstable_cancelCallback,w0=At.unstable_shouldYield,b0=At.unstable_requestPaint,Ke=At.unstable_now,S0=At.unstable_getCurrentPriorityLevel,vu=At.unstable_ImmediatePriority,$p=At.unstable_UserBlockingPriority,ma=At.unstable_NormalPriority,k0=At.unstable_LowPriority,Yp=At.unstable_IdlePriority,Da=null,xn=null;function j0(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Da,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:T0,C0=Math.log,z0=Math.LN2;function T0(e){return e>>>=0,e===0?32:31-(C0(e)/z0|0)|0}var Eo=64,Mo=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ga(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,l=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var p=d&~l;p!==0?o=ks(p):(c&=d,c!==0&&(o=ks(c)))}else d=i&~l,d!==0?o=ks(d):c!==0&&(o=ks(c));if(o===0)return 0;if(t!==0&&t!==o&&!(t&l)&&(l=o&-o,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-nn(t),l=1<<i,o|=e[i],t&=~l;return o}function P0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-nn(c),p=1<<d,f=l[d];f===-1?(!(p&i)||p&o)&&(l[d]=P0(p,t)):f<=t&&(e.expiredLanes|=p),c&=~p}}function kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qp(){var e=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),e}function Ml(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ro(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=i}function I0(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-nn(i),c=1<<l;t[l]=0,o[l]=-1,e[l]=-1,i&=~c}}function xu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-nn(i),l=1<<o;l&t|e[o]&t&&(e[o]|=t),i&=~l}}var Le=0;function Qp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xp,_u,Jp,ef,tf,jc=!1,Ro=[],oi=null,ai=null,li=null,Hs=new Map,Vs=new Map,ni=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function ms(e,t,i,o,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},t!==null&&(t=oo(t),t!==null&&_u(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function M0(e,t,i,o,l){switch(t){case"focusin":return oi=ms(oi,e,t,i,o,l),!0;case"dragenter":return ai=ms(ai,e,t,i,o,l),!0;case"mouseover":return li=ms(li,e,t,i,o,l),!0;case"pointerover":var c=l.pointerId;return Hs.set(c,ms(Hs.get(c)||null,e,t,i,o,l)),!0;case"gotpointercapture":return c=l.pointerId,Vs.set(c,ms(Vs.get(c)||null,e,t,i,o,l)),!0}return!1}function nf(e){var t=Ii(e.target);if(t!==null){var i=Zi(t);if(i!==null){if(t=i.tag,t===13){if(t=Up(i),t!==null){e.blockedOn=t,tf(e.priority,function(){Jp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ea(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);_c=o,i.target.dispatchEvent(o),_c=null}else return t=oo(i),t!==null&&_u(t),e.blockedOn=i,!1;t.shift()}return!0}function uh(e,t,i){ea(e)&&i.delete(t)}function R0(){jc=!1,oi!==null&&ea(oi)&&(oi=null),ai!==null&&ea(ai)&&(ai=null),li!==null&&ea(li)&&(li=null),Hs.forEach(uh),Vs.forEach(uh)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,R0)))}function Us(e){function t(l){return gs(l,e)}if(0<Ro.length){gs(Ro[0],e);for(var i=1;i<Ro.length;i++){var o=Ro[i];o.blockedOn===e&&(o.blockedOn=null)}}for(oi!==null&&gs(oi,e),ai!==null&&gs(ai,e),li!==null&&gs(li,e),Hs.forEach(t),Vs.forEach(t),i=0;i<ni.length;i++)o=ni[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<ni.length&&(i=ni[0],i.blockedOn===null);)nf(i),i.blockedOn===null&&ni.shift()}var Pr=Dn.ReactCurrentBatchConfig,ya=!0;function B0(e,t,i,o){var l=Le,c=Pr.transition;Pr.transition=null;try{Le=1,wu(e,t,i,o)}finally{Le=l,Pr.transition=c}}function N0(e,t,i,o){var l=Le,c=Pr.transition;Pr.transition=null;try{Le=4,wu(e,t,i,o)}finally{Le=l,Pr.transition=c}}function wu(e,t,i,o){if(ya){var l=Cc(e,t,i,o);if(l===null)Vl(e,t,o,va,i),ch(e,o);else if(M0(l,e,t,i,o))o.stopPropagation();else if(ch(e,o),t&4&&-1<E0.indexOf(e)){for(;l!==null;){var c=oo(l);if(c!==null&&Xp(c),c=Cc(e,t,i,o),c===null&&Vl(e,t,o,va,i),c===l)break;l=c}l!==null&&o.stopPropagation()}else Vl(e,t,o,null,i)}}var va=null;function Cc(e,t,i,o){if(va=null,e=yu(o),e=Ii(e),e!==null)if(t=Zi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Up(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return va=e,null}function rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S0()){case vu:return 1;case $p:return 4;case ma:case k0:return 16;case Yp:return 536870912;default:return 16}default:return 16}}var ri=null,bu=null,ta=null;function sf(){if(ta)return ta;var e,t=bu,i=t.length,o,l="value"in ri?ri.value:ri.textContent,c=l.length;for(e=0;e<i&&t[e]===l[e];e++);var d=i-e;for(o=1;o<=d&&t[i-o]===l[c-o];o++);return ta=l.slice(e,1<o?1-o:void 0)}function na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function dh(){return!1}function Ot(e){function t(i,o,l,c,d){this._reactName=i,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Bo:dh,this.isPropagationStopped=dh,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=Ot(Wr),so=Ve({},Wr,{view:0,detail:0}),A0=Ot(so),Rl,Bl,ys,Wa=Ve({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(Rl=e.screenX-ys.screenX,Bl=e.screenY-ys.screenY):Bl=Rl=0,ys=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),hh=Ot(Wa),F0=Ve({},Wa,{dataTransfer:0}),O0=Ot(F0),D0=Ve({},so,{relatedTarget:0}),Nl=Ot(D0),W0=Ve({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=Ot(W0),V0=Ve({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U0=Ot(V0),Z0=Ve({},Wr,{data:0}),ph=Ot(Z0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$0[e])?!!t[e]:!1}function ku(){return Y0}var q0=Ve({},so,{key:function(e){if(e.key){var t=G0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q0=Ot(q0),X0=Ve({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fh=Ot(X0),J0=Ve({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),ey=Ot(J0),ty=Ve({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ny=Ot(ty),iy=Ve({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=Ot(iy),sy=[9,13,27,32],ju=Nn&&"CompositionEvent"in window,Ps=null;Nn&&"documentMode"in document&&(Ps=document.documentMode);var oy=Nn&&"TextEvent"in window&&!Ps,of=Nn&&(!ju||Ps&&8<Ps&&11>=Ps),mh=" ",gh=!1;function af(e,t){switch(e){case"keyup":return sy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function ay(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(gh=!0,mh);case"textInput":return e=t.data,e===mh&&gh?null:e;default:return null}}function ly(e,t){if(fr)return e==="compositionend"||!ju&&af(e,t)?(e=sf(),ta=bu=ri=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return of&&t.locale!=="ko"?null:t.data;default:return null}}var cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cy[e.type]:t==="textarea"}function cf(e,t,i,o){Op(o),t=xa(t,"onChange"),0<t.length&&(i=new Su("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Ls=null,Zs=null;function uy(e){_f(e,0)}function Ha(e){var t=yr(e);if(Ep(t))return e}function dy(e,t){if(e==="change")return t}var uf=!1;if(Nn){var Al;if(Nn){var Fl="oninput"in document;if(!Fl){var vh=document.createElement("div");vh.setAttribute("oninput","return;"),Fl=typeof vh.oninput=="function"}Al=Fl}else Al=!1;uf=Al&&(!document.documentMode||9<document.documentMode)}function xh(){Ls&&(Ls.detachEvent("onpropertychange",df),Zs=Ls=null)}function df(e){if(e.propertyName==="value"&&Ha(Zs)){var t=[];cf(t,Zs,e,yu(e)),Vp(uy,t)}}function hy(e,t,i){e==="focusin"?(xh(),Ls=t,Zs=i,Ls.attachEvent("onpropertychange",df)):e==="focusout"&&xh()}function py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(Zs)}function fy(e,t){if(e==="click")return Ha(t)}function my(e,t){if(e==="input"||e==="change")return Ha(t)}function gy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:gy;function Gs(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var l=i[o];if(!lc.call(t,l)||!sn(e[l],t[l]))return!1}return!0}function _h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var i=_h(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=_h(i)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pf(){for(var e=window,t=ha();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ha(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yy(e){var t=pf(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&hf(i.ownerDocument.documentElement,i)){if(o!==null&&Cu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!e.extend&&c>o&&(l=o,o=c,c=l),l=wh(i,c);var d=wh(i,o);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vy=Nn&&"documentMode"in document&&11>=document.documentMode,mr=null,zc=null,Is=null,Tc=!1;function bh(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Tc||mr==null||mr!==ha(o)||(o=mr,"selectionStart"in o&&Cu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Is&&Gs(Is,o)||(Is=o,o=xa(zc,"onSelect"),0<o.length&&(t=new Su("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=mr)))}function No(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var gr={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Ol={},ff={};Nn&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Va(e){if(Ol[e])return Ol[e];if(!gr[e])return e;var t=gr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ff)return Ol[e]=t[i];return e}var mf=Va("animationend"),gf=Va("animationiteration"),yf=Va("animationstart"),vf=Va("transitionend"),xf=new Map,Sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(e,t){xf.set(e,t),Ui(t,[e])}for(var Dl=0;Dl<Sh.length;Dl++){var Wl=Sh[Dl],xy=Wl.toLowerCase(),_y=Wl[0].toUpperCase()+Wl.slice(1);yi(xy,"on"+_y)}yi(mf,"onAnimationEnd");yi(gf,"onAnimationIteration");yi(yf,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(vf,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function kh(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,x0(o,t,void 0,e),e.currentTarget=null}function _f(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],l=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var d=o.length-1;0<=d;d--){var p=o[d],f=p.instance,g=p.currentTarget;if(p=p.listener,f!==c&&l.isPropagationStopped())break e;kh(l,p,g),c=f}else for(d=0;d<o.length;d++){if(p=o[d],f=p.instance,g=p.currentTarget,p=p.listener,f!==c&&l.isPropagationStopped())break e;kh(l,p,g),c=f}}}if(fa)throw e=Sc,fa=!1,Sc=null,e}function Re(e,t){var i=t[Mc];i===void 0&&(i=t[Mc]=new Set);var o=e+"__bubble";i.has(o)||(wf(t,e,2,!1),i.add(o))}function Hl(e,t,i){var o=0;t&&(o|=4),wf(i,e,o,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[Ao]){e[Ao]=!0,zp.forEach(function(i){i!=="selectionchange"&&(wy.has(i)||Hl(i,!1,e),Hl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,Hl("selectionchange",!1,t))}}function wf(e,t,i,o){switch(rf(t)){case 1:var l=B0;break;case 4:l=N0;break;default:l=wu}i=l.bind(null,t,i,e),l=void 0,!bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,i,{capture:!0,passive:l}):e.addEventListener(t,i,!0):l!==void 0?e.addEventListener(t,i,{passive:l}):e.addEventListener(t,i,!1)}function Vl(e,t,i,o,l){var c=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var p=o.stateNode.containerInfo;if(p===l||p.nodeType===8&&p.parentNode===l)break;if(d===4)for(d=o.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===l||f.nodeType===8&&f.parentNode===l))return;d=d.return}for(;p!==null;){if(d=Ii(p),d===null)return;if(f=d.tag,f===5||f===6){o=c=d;continue e}p=p.parentNode}}o=o.return}Vp(function(){var g=c,_=yu(i),y=[];e:{var k=xf.get(e);if(k!==void 0){var j=Su,I=e;switch(e){case"keypress":if(na(i)===0)break e;case"keydown":case"keyup":j=Q0;break;case"focusin":I="focus",j=Nl;break;case"focusout":I="blur",j=Nl;break;case"beforeblur":case"afterblur":j=Nl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=ey;break;case mf:case gf:case yf:j=H0;break;case vf:j=ny;break;case"scroll":j=A0;break;case"wheel":j=ry;break;case"copy":case"cut":case"paste":j=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=fh}var z=(t&4)!==0,N=!z&&e==="scroll",x=z?k!==null?k+"Capture":null:k;z=[];for(var v=g,w;v!==null;){w=v;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,x!==null&&(T=Ws(v,x),T!=null&&z.push($s(v,T,w)))),N)break;v=v.return}0<z.length&&(k=new j(k,I,null,i,_),y.push({event:k,listeners:z}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",k&&i!==_c&&(I=i.relatedTarget||i.fromElement)&&(Ii(I)||I[An]))break e;if((j||k)&&(k=_.window===_?_:(k=_.ownerDocument)?k.defaultView||k.parentWindow:window,j?(I=i.relatedTarget||i.toElement,j=g,I=I?Ii(I):null,I!==null&&(N=Zi(I),I!==N||I.tag!==5&&I.tag!==6)&&(I=null)):(j=null,I=g),j!==I)){if(z=hh,T="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(z=fh,T="onPointerLeave",x="onPointerEnter",v="pointer"),N=j==null?k:yr(j),w=I==null?k:yr(I),k=new z(T,v+"leave",j,i,_),k.target=N,k.relatedTarget=w,T=null,Ii(_)===g&&(z=new z(x,v+"enter",I,i,_),z.target=w,z.relatedTarget=N,T=z),N=T,j&&I)t:{for(z=j,x=I,v=0,w=z;w;w=ar(w))v++;for(w=0,T=x;T;T=ar(T))w++;for(;0<v-w;)z=ar(z),v--;for(;0<w-v;)x=ar(x),w--;for(;v--;){if(z===x||x!==null&&z===x.alternate)break t;z=ar(z),x=ar(x)}z=null}else z=null;j!==null&&jh(y,k,j,z,!1),I!==null&&N!==null&&jh(y,N,I,z,!0)}}e:{if(k=g?yr(g):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var M=dy;else if(yh(k))if(uf)M=my;else{M=py;var E=hy}else(j=k.nodeName)&&j.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(M=fy);if(M&&(M=M(e,g))){cf(y,M,i,_);break e}E&&E(e,k,g),e==="focusout"&&(E=k._wrapperState)&&E.controlled&&k.type==="number"&&mc(k,"number",k.value)}switch(E=g?yr(g):window,e){case"focusin":(yh(E)||E.contentEditable==="true")&&(mr=E,zc=g,Is=null);break;case"focusout":Is=zc=mr=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,bh(y,i,_);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":bh(y,i,_)}var U;if(ju)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else fr?af(e,i)&&(O="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(O="onCompositionStart");O&&(of&&i.locale!=="ko"&&(fr||O!=="onCompositionStart"?O==="onCompositionEnd"&&fr&&(U=sf()):(ri=_,bu="value"in ri?ri.value:ri.textContent,fr=!0)),E=xa(g,O),0<E.length&&(O=new ph(O,e,null,i,_),y.push({event:O,listeners:E}),U?O.data=U:(U=lf(i),U!==null&&(O.data=U)))),(U=oy?ay(e,i):ly(e,i))&&(g=xa(g,"onBeforeInput"),0<g.length&&(_=new ph("onBeforeInput","beforeinput",null,i,_),y.push({event:_,listeners:g}),_.data=U))}_f(y,t)})}function $s(e,t,i){return{instance:e,listener:t,currentTarget:i}}function xa(e,t){for(var i=t+"Capture",o=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Ws(e,i),c!=null&&o.unshift($s(e,c,l)),c=Ws(e,t),c!=null&&o.push($s(e,c,l))),e=e.return}return o}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jh(e,t,i,o,l){for(var c=t._reactName,d=[];i!==null&&i!==o;){var p=i,f=p.alternate,g=p.stateNode;if(f!==null&&f===o)break;p.tag===5&&g!==null&&(p=g,l?(f=Ws(i,c),f!=null&&d.unshift($s(i,f,p))):l||(f=Ws(i,c),f!=null&&d.push($s(i,f,p)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var by=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function Ch(e){return(typeof e=="string"?e:""+e).replace(by,`
`).replace(Sy,"")}function Fo(e,t,i){if(t=Ch(t),Ch(e)!==t&&i)throw Error(H(425))}function _a(){}var Pc=null,Lc=null;function Ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(Cy)}:Ec;function Cy(e){setTimeout(function(){throw e})}function Ul(e,t){var i=t,o=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(o===0){e.removeChild(l),Us(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=l}while(i);Us(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),yn="__reactFiber$"+Hr,Ys="__reactProps$"+Hr,An="__reactContainer$"+Hr,Mc="__reactEvents$"+Hr,zy="__reactListeners$"+Hr,Ty="__reactHandles$"+Hr;function Ii(e){var t=e[yn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[An]||i[yn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Th(e);e!==null;){if(i=e[yn])return i;e=Th(e)}return t}e=i,i=e.parentNode}return null}function oo(e){return e=e[yn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ua(e){return e[Ys]||null}var Rc=[],vr=-1;function vi(e){return{current:e}}function Be(e){0>vr||(e.current=Rc[vr],Rc[vr]=null,vr--)}function Me(e,t){vr++,Rc[vr]=e.current,e.current=t}var gi={},mt=vi(gi),Pt=vi(!1),Fi=gi;function Rr(e,t){var i=e.type.contextTypes;if(!i)return gi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in i)l[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Lt(e){return e=e.childContextTypes,e!=null}function wa(){Be(Pt),Be(mt)}function Ph(e,t,i){if(mt.current!==gi)throw Error(H(168));Me(mt,t),Me(Pt,i)}function bf(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(H(108,h0(e)||"Unknown",l));return Ve({},i,o)}function ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,Fi=mt.current,Me(mt,e),Me(Pt,Pt.current),!0}function Lh(e,t,i){var o=e.stateNode;if(!o)throw Error(H(169));i?(e=bf(e,t,Fi),o.__reactInternalMemoizedMergedChildContext=e,Be(Pt),Be(mt),Me(mt,e)):Be(Pt),Me(Pt,i)}var Ln=null,Za=!1,Zl=!1;function Sf(e){Ln===null?Ln=[e]:Ln.push(e)}function Py(e){Za=!0,Sf(e)}function xi(){if(!Zl&&Ln!==null){Zl=!0;var e=0,t=Le;try{var i=Ln;for(Le=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Ln=null,Za=!1}catch(l){throw Ln!==null&&(Ln=Ln.slice(e+1)),Kp(vu,xi),l}finally{Le=t,Zl=!1}}return null}var xr=[],_r=0,Sa=null,ka=0,Ht=[],Vt=0,Oi=null,En=1,Mn="";function Pi(e,t){xr[_r++]=ka,xr[_r++]=Sa,Sa=e,ka=t}function kf(e,t,i){Ht[Vt++]=En,Ht[Vt++]=Mn,Ht[Vt++]=Oi,Oi=e;var o=En;e=Mn;var l=32-nn(o)-1;o&=~(1<<l),i+=1;var c=32-nn(t)+l;if(30<c){var d=l-l%5;c=(o&(1<<d)-1).toString(32),o>>=d,l-=d,En=1<<32-nn(t)+l|i<<l|o,Mn=c+e}else En=1<<c|i<<l|o,Mn=e}function zu(e){e.return!==null&&(Pi(e,1),kf(e,1,0))}function Tu(e){for(;e===Sa;)Sa=xr[--_r],xr[_r]=null,ka=xr[--_r],xr[_r]=null;for(;e===Oi;)Oi=Ht[--Vt],Ht[Vt]=null,Mn=Ht[--Vt],Ht[Vt]=null,En=Ht[--Vt],Ht[Vt]=null}var Nt=null,Bt=null,Ne=!1,tn=null;function jf(e,t){var i=Ut(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ih(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Bt=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Oi!==null?{id:En,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ut(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Nt=e,Bt=null,!0):!1;default:return!1}}function Bc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nc(e){if(Ne){var t=Bt;if(t){var i=t;if(!Ih(e,t)){if(Bc(e))throw Error(H(418));t=ci(i.nextSibling);var o=Nt;t&&Ih(e,t)?jf(o,i):(e.flags=e.flags&-4097|2,Ne=!1,Nt=e)}}else{if(Bc(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ne=!1,Nt=e}}}function Eh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Oo(e){if(e!==Nt)return!1;if(!Ne)return Eh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ic(e.type,e.memoizedProps)),t&&(t=Bt)){if(Bc(e))throw Cf(),Error(H(418));for(;t;)jf(e,t),t=ci(t.nextSibling)}if(Eh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Bt=ci(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Nt?ci(e.stateNode.nextSibling):null;return!0}function Cf(){for(var e=Bt;e;)e=ci(e.nextSibling)}function Br(){Bt=Nt=null,Ne=!1}function Pu(e){tn===null?tn=[e]:tn.push(e)}var Ly=Dn.ReactCurrentBatchConfig;function vs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(H(309));var o=i.stateNode}if(!o)throw Error(H(147,e));var l=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(d){var p=l.refs;d===null?delete p[c]:p[c]=d},t._stringRef=c,t)}if(typeof e!="string")throw Error(H(284));if(!i._owner)throw Error(H(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mh(e){var t=e._init;return t(e._payload)}function zf(e){function t(x,v){if(e){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function i(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function o(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function l(x,v){return x=pi(x,v),x.index=0,x.sibling=null,x}function c(x,v,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function d(x){return e&&x.alternate===null&&(x.flags|=2),x}function p(x,v,w,T){return v===null||v.tag!==6?(v=Xl(w,x.mode,T),v.return=x,v):(v=l(v,w),v.return=x,v)}function f(x,v,w,T){var M=w.type;return M===pr?_(x,v,w.props.children,T,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ei&&Mh(M)===v.type)?(T=l(v,w.props),T.ref=vs(x,v,w),T.return=x,T):(T=ca(w.type,w.key,w.props,null,x.mode,T),T.ref=vs(x,v,w),T.return=x,T)}function g(x,v,w,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Jl(w,x.mode,T),v.return=x,v):(v=l(v,w.children||[]),v.return=x,v)}function _(x,v,w,T,M){return v===null||v.tag!==7?(v=Bi(w,x.mode,T,M),v.return=x,v):(v=l(v,w),v.return=x,v)}function y(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xl(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Po:return w=ca(v.type,v.key,v.props,null,x.mode,w),w.ref=vs(x,null,v),w.return=x,w;case hr:return v=Jl(v,x.mode,w),v.return=x,v;case ei:var T=v._init;return y(x,T(v._payload),w)}if(Ss(v)||ps(v))return v=Bi(v,x.mode,w,null),v.return=x,v;Do(x,v)}return null}function k(x,v,w,T){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:p(x,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Po:return w.key===M?f(x,v,w,T):null;case hr:return w.key===M?g(x,v,w,T):null;case ei:return M=w._init,k(x,v,M(w._payload),T)}if(Ss(w)||ps(w))return M!==null?null:_(x,v,w,T,null);Do(x,w)}return null}function j(x,v,w,T,M){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(w)||null,p(v,x,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Po:return x=x.get(T.key===null?w:T.key)||null,f(v,x,T,M);case hr:return x=x.get(T.key===null?w:T.key)||null,g(v,x,T,M);case ei:var E=T._init;return j(x,v,w,E(T._payload),M)}if(Ss(T)||ps(T))return x=x.get(w)||null,_(v,x,T,M,null);Do(v,T)}return null}function I(x,v,w,T){for(var M=null,E=null,U=v,O=v=0,V=null;U!==null&&O<w.length;O++){U.index>O?(V=U,U=null):V=U.sibling;var A=k(x,U,w[O],T);if(A===null){U===null&&(U=V);break}e&&U&&A.alternate===null&&t(x,U),v=c(A,v,O),E===null?M=A:E.sibling=A,E=A,U=V}if(O===w.length)return i(x,U),Ne&&Pi(x,O),M;if(U===null){for(;O<w.length;O++)U=y(x,w[O],T),U!==null&&(v=c(U,v,O),E===null?M=U:E.sibling=U,E=U);return Ne&&Pi(x,O),M}for(U=o(x,U);O<w.length;O++)V=j(U,x,O,w[O],T),V!==null&&(e&&V.alternate!==null&&U.delete(V.key===null?O:V.key),v=c(V,v,O),E===null?M=V:E.sibling=V,E=V);return e&&U.forEach(function(te){return t(x,te)}),Ne&&Pi(x,O),M}function z(x,v,w,T){var M=ps(w);if(typeof M!="function")throw Error(H(150));if(w=M.call(w),w==null)throw Error(H(151));for(var E=M=null,U=v,O=v=0,V=null,A=w.next();U!==null&&!A.done;O++,A=w.next()){U.index>O?(V=U,U=null):V=U.sibling;var te=k(x,U,A.value,T);if(te===null){U===null&&(U=V);break}e&&U&&te.alternate===null&&t(x,U),v=c(te,v,O),E===null?M=te:E.sibling=te,E=te,U=V}if(A.done)return i(x,U),Ne&&Pi(x,O),M;if(U===null){for(;!A.done;O++,A=w.next())A=y(x,A.value,T),A!==null&&(v=c(A,v,O),E===null?M=A:E.sibling=A,E=A);return Ne&&Pi(x,O),M}for(U=o(x,U);!A.done;O++,A=w.next())A=j(U,x,O,A.value,T),A!==null&&(e&&A.alternate!==null&&U.delete(A.key===null?O:A.key),v=c(A,v,O),E===null?M=A:E.sibling=A,E=A);return e&&U.forEach(function(Y){return t(x,Y)}),Ne&&Pi(x,O),M}function N(x,v,w,T){if(typeof w=="object"&&w!==null&&w.type===pr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Po:e:{for(var M=w.key,E=v;E!==null;){if(E.key===M){if(M=w.type,M===pr){if(E.tag===7){i(x,E.sibling),v=l(E,w.props.children),v.return=x,x=v;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ei&&Mh(M)===E.type){i(x,E.sibling),v=l(E,w.props),v.ref=vs(x,E,w),v.return=x,x=v;break e}i(x,E);break}else t(x,E);E=E.sibling}w.type===pr?(v=Bi(w.props.children,x.mode,T,w.key),v.return=x,x=v):(T=ca(w.type,w.key,w.props,null,x.mode,T),T.ref=vs(x,v,w),T.return=x,x=T)}return d(x);case hr:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){i(x,v.sibling),v=l(v,w.children||[]),v.return=x,x=v;break e}else{i(x,v);break}else t(x,v);v=v.sibling}v=Jl(w,x.mode,T),v.return=x,x=v}return d(x);case ei:return E=w._init,N(x,v,E(w._payload),T)}if(Ss(w))return I(x,v,w,T);if(ps(w))return z(x,v,w,T);Do(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(i(x,v.sibling),v=l(v,w),v.return=x,x=v):(i(x,v),v=Xl(w,x.mode,T),v.return=x,x=v),d(x)):i(x,v)}return N}var Nr=zf(!0),Tf=zf(!1),ja=vi(null),Ca=null,wr=null,Lu=null;function Iu(){Lu=wr=Ca=null}function Eu(e){var t=ja.current;Be(ja),e._currentValue=t}function Ac(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Lr(e,t){Ca=e,Lu=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Lu!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(Ca===null)throw Error(H(308));wr=e,Ca.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Ei=null;function Mu(e){Ei===null?Ei=[e]:Ei.push(e)}function Pf(e,t,i,o){var l=t.interleaved;return l===null?(i.next=i,Mu(t)):(i.next=l.next,l.next=i),t.interleaved=i,Fn(e,o)}function Fn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var ti=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Te&2){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Fn(e,i)}return l=o.interleaved,l===null?(t.next=t,Mu(o)):(t.next=l.next,l.next=t),o.interleaved=t,Fn(e,i)}function ia(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,xu(e,i)}}function Rh(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var l=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?l=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?l=c=t:c=c.next=t}else l=c=t;i={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function za(e,t,i,o){var l=e.updateQueue;ti=!1;var c=l.firstBaseUpdate,d=l.lastBaseUpdate,p=l.shared.pending;if(p!==null){l.shared.pending=null;var f=p,g=f.next;f.next=null,d===null?c=g:d.next=g,d=f;var _=e.alternate;_!==null&&(_=_.updateQueue,p=_.lastBaseUpdate,p!==d&&(p===null?_.firstBaseUpdate=g:p.next=g,_.lastBaseUpdate=f))}if(c!==null){var y=l.baseState;d=0,_=g=f=null,p=c;do{var k=p.lane,j=p.eventTime;if((o&k)===k){_!==null&&(_=_.next={eventTime:j,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var I=e,z=p;switch(k=t,j=i,z.tag){case 1:if(I=z.payload,typeof I=="function"){y=I.call(j,y,k);break e}y=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=z.payload,k=typeof I=="function"?I.call(j,y,k):I,k==null)break e;y=Ve({},y,k);break e;case 2:ti=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,k=l.effects,k===null?l.effects=[p]:k.push(p))}else j={eventTime:j,lane:k,tag:p.tag,payload:p.payload,callback:p.callback,next:null},_===null?(g=_=j,f=y):_=_.next=j,d|=k;if(p=p.next,p===null){if(p=l.shared.pending,p===null)break;k=p,p=k.next,k.next=null,l.lastBaseUpdate=k,l.shared.pending=null}}while(!0);if(_===null&&(f=y),l.baseState=f,l.firstBaseUpdate=g,l.lastBaseUpdate=_,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Wi|=d,e.lanes=d,e.memoizedState=y}}function Bh(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=i,typeof l!="function")throw Error(H(191,l));l.call(o)}}}var ao={},_n=vi(ao),qs=vi(ao),Qs=vi(ao);function Mi(e){if(e===ao)throw Error(H(174));return e}function Bu(e,t){switch(Me(Qs,t),Me(qs,e),Me(_n,ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yc(t,e)}Be(_n),Me(_n,t)}function Ar(){Be(_n),Be(qs),Be(Qs)}function If(e){Mi(Qs.current);var t=Mi(_n.current),i=yc(t,e.type);t!==i&&(Me(qs,e),Me(_n,i))}function Nu(e){qs.current===e&&(Be(_n),Be(qs))}var We=vi(0);function Ta(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Au(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var ra=Dn.ReactCurrentDispatcher,Kl=Dn.ReactCurrentBatchConfig,Di=0,He=null,qe=null,et=null,Pa=!1,Es=!1,Xs=0,Iy=0;function ht(){throw Error(H(321))}function Fu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sn(e[i],t[i]))return!1;return!0}function Ou(e,t,i,o,l,c){if(Di=c,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=e===null||e.memoizedState===null?By:Ny,e=i(o,l),Es){c=0;do{if(Es=!1,Xs=0,25<=c)throw Error(H(301));c+=1,et=qe=null,t.updateQueue=null,ra.current=Ay,e=i(o,l)}while(Es)}if(ra.current=La,t=qe!==null&&qe.next!==null,Di=0,et=qe=He=null,Pa=!1,t)throw Error(H(300));return e}function Du(){var e=Xs!==0;return Xs=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?He.memoizedState=et=e:et=et.next=e,et}function Kt(){if(qe===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=et===null?He.memoizedState:et.next;if(t!==null)et=t,qe=e;else{if(e===null)throw Error(H(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},et===null?He.memoizedState=et=e:et=et.next=e}return et}function Js(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=Kt(),i=t.queue;if(i===null)throw Error(H(311));i.lastRenderedReducer=e;var o=qe,l=o.baseQueue,c=i.pending;if(c!==null){if(l!==null){var d=l.next;l.next=c.next,c.next=d}o.baseQueue=l=c,i.pending=null}if(l!==null){c=l.next,o=o.baseState;var p=d=null,f=null,g=c;do{var _=g.lane;if((Di&_)===_)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var y={lane:_,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(p=f=y,d=o):f=f.next=y,He.lanes|=_,Wi|=_}g=g.next}while(g!==null&&g!==c);f===null?d=o:f.next=p,sn(o,t.memoizedState)||(Tt=!0),t.memoizedState=o,t.baseState=d,t.baseQueue=f,i.lastRenderedState=o}if(e=i.interleaved,e!==null){l=e;do c=l.lane,He.lanes|=c,Wi|=c,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Yl(e){var t=Kt(),i=t.queue;if(i===null)throw Error(H(311));i.lastRenderedReducer=e;var o=i.dispatch,l=i.pending,c=t.memoizedState;if(l!==null){i.pending=null;var d=l=l.next;do c=e(c,d.action),d=d.next;while(d!==l);sn(c,t.memoizedState)||(Tt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,o]}function Ef(){}function Mf(e,t){var i=He,o=Kt(),l=t(),c=!sn(o.memoizedState,l);if(c&&(o.memoizedState=l,Tt=!0),o=o.queue,Wu(Nf.bind(null,i,o,e),[e]),o.getSnapshot!==t||c||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,eo(9,Bf.bind(null,i,o,l,t),void 0,null),tt===null)throw Error(H(349));Di&30||Rf(i,t,l)}return l}function Rf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bf(e,t,i,o){t.value=i,t.getSnapshot=o,Af(t)&&Ff(e)}function Nf(e,t,i){return i(function(){Af(t)&&Ff(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sn(e,i)}catch{return!0}}function Ff(e){var t=Fn(e,1);t!==null&&rn(t,e,1,-1)}function Nh(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:e},t.queue=e,e=e.dispatch=Ry.bind(null,He,e),[t.memoizedState,e]}function eo(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Of(){return Kt().memoizedState}function sa(e,t,i,o){var l=gn();He.flags|=e,l.memoizedState=eo(1|t,i,void 0,o===void 0?null:o)}function Ga(e,t,i,o){var l=Kt();o=o===void 0?null:o;var c=void 0;if(qe!==null){var d=qe.memoizedState;if(c=d.destroy,o!==null&&Fu(o,d.deps)){l.memoizedState=eo(t,i,c,o);return}}He.flags|=e,l.memoizedState=eo(1|t,i,c,o)}function Ah(e,t){return sa(8390656,8,e,t)}function Wu(e,t){return Ga(2048,8,e,t)}function Df(e,t){return Ga(4,2,e,t)}function Wf(e,t){return Ga(4,4,e,t)}function Hf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,i){return i=i!=null?i.concat([e]):null,Ga(4,4,Hf.bind(null,t,e),i)}function Hu(){}function Uf(e,t){var i=Kt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Fu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Zf(e,t){var i=Kt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Fu(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Gf(e,t,i){return Di&21?(sn(i,t)||(i=qp(),He.lanes|=i,Wi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=i)}function Ey(e,t){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var o=Kl.transition;Kl.transition={};try{e(!1),t()}finally{Le=i,Kl.transition=o}}function Kf(){return Kt().memoizedState}function My(e,t,i){var o=hi(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},$f(e))Yf(t,i);else if(i=Pf(e,t,i,o),i!==null){var l=vt();rn(i,e,o,l),qf(i,t,o)}}function Ry(e,t,i){var o=hi(e),l={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if($f(e))Yf(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,i);if(l.hasEagerState=!0,l.eagerState=p,sn(p,d)){var f=t.interleaved;f===null?(l.next=l,Mu(t)):(l.next=f.next,f.next=l),t.interleaved=l;return}}catch{}finally{}i=Pf(e,t,l,o),i!==null&&(l=vt(),rn(i,e,o,l),qf(i,t,o))}}function $f(e){var t=e.alternate;return e===He||t!==null&&t===He}function Yf(e,t){Es=Pa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function qf(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,xu(e,i)}}var La={readContext:Gt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},By={readContext:Gt,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Ah,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,sa(4194308,4,Hf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return sa(4194308,4,e,t)},useInsertionEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var i=gn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=gn();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=My.bind(null,He,e),[o.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:Nh,useDebugValue:Hu,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=Nh(!1),t=e[0];return e=Ey.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=He,l=gn();if(Ne){if(i===void 0)throw Error(H(407));i=i()}else{if(i=t(),tt===null)throw Error(H(349));Di&30||Rf(o,t,i)}l.memoizedState=i;var c={value:i,getSnapshot:t};return l.queue=c,Ah(Nf.bind(null,o,c,e),[e]),o.flags|=2048,eo(9,Bf.bind(null,o,c,i,t),void 0,null),i},useId:function(){var e=gn(),t=tt.identifierPrefix;if(Ne){var i=Mn,o=En;i=(o&~(1<<32-nn(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Xs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Iy++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ny={readContext:Gt,useCallback:Uf,useContext:Gt,useEffect:Wu,useImperativeHandle:Vf,useInsertionEffect:Df,useLayoutEffect:Wf,useMemo:Zf,useReducer:$l,useRef:Of,useState:function(){return $l(Js)},useDebugValue:Hu,useDeferredValue:function(e){var t=Kt();return Gf(t,qe.memoizedState,e)},useTransition:function(){var e=$l(Js)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Ef,useSyncExternalStore:Mf,useId:Kf,unstable_isNewReconciler:!1},Ay={readContext:Gt,useCallback:Uf,useContext:Gt,useEffect:Wu,useImperativeHandle:Vf,useInsertionEffect:Df,useLayoutEffect:Wf,useMemo:Zf,useReducer:Yl,useRef:Of,useState:function(){return Yl(Js)},useDebugValue:Hu,useDeferredValue:function(e){var t=Kt();return qe===null?t.memoizedState=e:Gf(t,qe.memoizedState,e)},useTransition:function(){var e=Yl(Js)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Ef,useSyncExternalStore:Mf,useId:Kf,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Fc(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Ve({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ka={isMounted:function(e){return(e=e._reactInternals)?Zi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=vt(),l=hi(e),c=Bn(o,l);c.payload=t,i!=null&&(c.callback=i),t=ui(e,c,l),t!==null&&(rn(t,e,l,o),ia(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=vt(),l=hi(e),c=Bn(o,l);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=ui(e,c,l),t!==null&&(rn(t,e,l,o),ia(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=vt(),o=hi(e),l=Bn(i,o);l.tag=2,t!=null&&(l.callback=t),t=ui(e,l,o),t!==null&&(rn(t,e,o,i),ia(t,e,o))}};function Fh(e,t,i,o,l,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):t.prototype&&t.prototype.isPureReactComponent?!Gs(i,o)||!Gs(l,c):!0}function Qf(e,t,i){var o=!1,l=gi,c=t.contextType;return typeof c=="object"&&c!==null?c=Gt(c):(l=Lt(t)?Fi:mt.current,o=t.contextTypes,c=(o=o!=null)?Rr(e,l):gi),t=new t(i,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ka,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function Oh(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Ka.enqueueReplaceState(t,t.state,null)}function Oc(e,t,i,o){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs={},Ru(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=Gt(c):(c=Lt(t)?Fi:mt.current,l.context=Rr(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Fc(e,t,c,i),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ka.enqueueReplaceState(l,l.state,null),za(e,i,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var i="",o=t;do i+=d0(o),o=o.return;while(o);var l=i}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function ql(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Dc(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Fy=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,i){i=Bn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Ea||(Ea=!0,qc=o),Dc(e,t)},i}function Jf(e,t,i){i=Bn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;i.payload=function(){return o(l)},i.callback=function(){Dc(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Dc(e,t),typeof o!="function"&&(di===null?di=new Set([this]):di.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),i}function Dh(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Fy;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(i)||(l.add(i),e=Xy.bind(null,e,t,i),t.then(e,e))}function Wh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hh(e,t,i,o,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Bn(-1,1),t.tag=2,ui(i,t,1))),i.lanes|=1),e)}var Oy=Dn.ReactCurrentOwner,Tt=!1;function yt(e,t,i,o){t.child=e===null?Tf(t,null,i,o):Nr(t,e.child,i,o)}function Vh(e,t,i,o,l){i=i.render;var c=t.ref;return Lr(t,l),o=Ou(e,t,i,o,c,l),i=Du(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,On(e,t,l)):(Ne&&i&&zu(t),t.flags|=1,yt(e,t,o,l),t.child)}function Uh(e,t,i,o,l){if(e===null){var c=i.type;return typeof c=="function"&&!qu(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=c,em(e,t,c,o,l)):(e=ca(i.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&l)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Gs,i(d,o)&&e.ref===t.ref)return On(e,t,l)}return t.flags|=1,e=pi(c,o),e.ref=t.ref,e.return=t,t.child=e}function em(e,t,i,o,l){if(e!==null){var c=e.memoizedProps;if(Gs(c,o)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=o=c,(e.lanes&l)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,On(e,t,l)}return Wc(e,t,i,o,l)}function tm(e,t,i){var o=t.pendingProps,l=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Sr,Rt),Rt|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Sr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:i,Me(Sr,Rt),Rt|=o}else c!==null?(o=c.baseLanes|i,t.memoizedState=null):o=i,Me(Sr,Rt),Rt|=o;return yt(e,t,l,i),t.child}function nm(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Wc(e,t,i,o,l){var c=Lt(i)?Fi:mt.current;return c=Rr(t,c),Lr(t,l),i=Ou(e,t,i,o,c,l),o=Du(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,On(e,t,l)):(Ne&&o&&zu(t),t.flags|=1,yt(e,t,i,l),t.child)}function Zh(e,t,i,o,l){if(Lt(i)){var c=!0;ba(t)}else c=!1;if(Lr(t,l),t.stateNode===null)oa(e,t),Qf(t,i,o),Oc(t,i,o,l),o=!0;else if(e===null){var d=t.stateNode,p=t.memoizedProps;d.props=p;var f=d.context,g=i.contextType;typeof g=="object"&&g!==null?g=Gt(g):(g=Lt(i)?Fi:mt.current,g=Rr(t,g));var _=i.getDerivedStateFromProps,y=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==o||f!==g)&&Oh(t,d,o,g),ti=!1;var k=t.memoizedState;d.state=k,za(t,o,d,l),f=t.memoizedState,p!==o||k!==f||Pt.current||ti?(typeof _=="function"&&(Fc(t,i,_,o),f=t.memoizedState),(p=ti||Fh(t,i,p,o,k,f,g))?(y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=f),d.props=o,d.state=f,d.context=g,o=p):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,Lf(e,t),p=t.memoizedProps,g=t.type===t.elementType?p:Jt(t.type,p),d.props=g,y=t.pendingProps,k=d.context,f=i.contextType,typeof f=="object"&&f!==null?f=Gt(f):(f=Lt(i)?Fi:mt.current,f=Rr(t,f));var j=i.getDerivedStateFromProps;(_=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==y||k!==f)&&Oh(t,d,o,f),ti=!1,k=t.memoizedState,d.state=k,za(t,o,d,l);var I=t.memoizedState;p!==y||k!==I||Pt.current||ti?(typeof j=="function"&&(Fc(t,i,j,o),I=t.memoizedState),(g=ti||Fh(t,i,g,o,k,I,f)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,I,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,I,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=I),d.props=o,d.state=I,d.context=f,o=g):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),o=!1)}return Hc(e,t,i,o,c,l)}function Hc(e,t,i,o,l,c){nm(e,t);var d=(t.flags&128)!==0;if(!o&&!d)return l&&Lh(t,i,!1),On(e,t,c);o=t.stateNode,Oy.current=t;var p=d&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&d?(t.child=Nr(t,e.child,null,c),t.child=Nr(t,null,p,c)):yt(e,t,p,c),t.memoizedState=o.state,l&&Lh(t,i,!0),t.child}function im(e){var t=e.stateNode;t.pendingContext?Ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ph(e,t.context,!1),Bu(e,t.containerInfo)}function Gh(e,t,i,o,l){return Br(),Pu(l),t.flags|=256,yt(e,t,i,o),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function rm(e,t,i){var o=t.pendingProps,l=We.current,c=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(l&2)!==0),p?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Me(We,l&1),e===null)return Nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=o.children,e=o.fallback,c?(o=t.mode,c=t.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qa(d,o,0,null),e=Bi(e,o,i,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Uc(i),t.memoizedState=Vc,e):Vu(t,d));if(l=e.memoizedState,l!==null&&(p=l.dehydrated,p!==null))return Dy(e,t,d,o,p,l,i);if(c){c=o.fallback,d=t.mode,l=e.child,p=l.sibling;var f={mode:"hidden",children:o.children};return!(d&1)&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=f,t.deletions=null):(o=pi(l,f),o.subtreeFlags=l.subtreeFlags&14680064),p!==null?c=pi(p,c):(c=Bi(c,d,i,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,d=e.child.memoizedState,d=d===null?Uc(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,t.memoizedState=Vc,o}return c=e.child,e=c.sibling,o=pi(c,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Vu(e,t){return t=qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wo(e,t,i,o){return o!==null&&Pu(o),Nr(t,e.child,null,i),e=Vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dy(e,t,i,o,l,c,d){if(i)return t.flags&256?(t.flags&=-257,o=ql(Error(H(422))),Wo(e,t,d,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,l=t.mode,o=qa({mode:"visible",children:o.children},l,0,null),c=Bi(c,l,d,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,t.mode&1&&Nr(t,e.child,null,d),t.child.memoizedState=Uc(d),t.memoizedState=Vc,c);if(!(t.mode&1))return Wo(e,t,d,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var p=o.dgst;return o=p,c=Error(H(419)),o=ql(c,o,void 0),Wo(e,t,d,o)}if(p=(d&e.childLanes)!==0,Tt||p){if(o=tt,o!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|d)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Fn(e,l),rn(o,e,l,-1))}return Yu(),o=ql(Error(H(421))),Wo(e,t,d,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jy.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,Bt=ci(l.nextSibling),Nt=t,Ne=!0,tn=null,e!==null&&(Ht[Vt++]=En,Ht[Vt++]=Mn,Ht[Vt++]=Oi,En=e.id,Mn=e.overflow,Oi=t),t=Vu(t,o.children),t.flags|=4096,t)}function Kh(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ac(e.return,t,i)}function Ql(e,t,i,o,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=i,c.tailMode=l)}function sm(e,t,i){var o=t.pendingProps,l=o.revealOrder,c=o.tail;if(yt(e,t,o.children,i),o=We.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,i,t);else if(e.tag===19)Kh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Me(We,o),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(i=t.child,l=null;i!==null;)e=i.alternate,e!==null&&Ta(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=t.child,t.child=null):(l=i.sibling,i.sibling=null),Ql(t,!1,l,i,c);break;case"backwards":for(i=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ta(e)===null){t.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}Ql(t,!0,i,null,c);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,i=pi(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=pi(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Wy(e,t,i){switch(t.tag){case 3:im(t),Br();break;case 5:If(t);break;case 1:Lt(t.type)&&ba(t);break;case 4:Bu(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;Me(ja,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Me(We,We.current&1),t.flags|=128,null):i&t.child.childLanes?rm(e,t,i):(Me(We,We.current&1),e=On(e,t,i),e!==null?e.sibling:null);Me(We,We.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return sm(e,t,i);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Me(We,We.current),o)break;return null;case 22:case 23:return t.lanes=0,tm(e,t,i)}return On(e,t,i)}var om,Zc,am,lm;om=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Zc=function(){};am=function(e,t,i,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Mi(_n.current);var c=null;switch(i){case"input":l=pc(e,l),o=pc(e,o),c=[];break;case"select":l=Ve({},l,{value:void 0}),o=Ve({},o,{value:void 0}),c=[];break;case"textarea":l=gc(e,l),o=gc(e,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=_a)}vc(i,o);var d;i=null;for(g in l)if(!o.hasOwnProperty(g)&&l.hasOwnProperty(g)&&l[g]!=null)if(g==="style"){var p=l[g];for(d in p)p.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Os.hasOwnProperty(g)?c||(c=[]):(c=c||[]).push(g,null));for(g in o){var f=o[g];if(p=l!=null?l[g]:void 0,o.hasOwnProperty(g)&&f!==p&&(f!=null||p!=null))if(g==="style")if(p){for(d in p)!p.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in f)f.hasOwnProperty(d)&&p[d]!==f[d]&&(i||(i={}),i[d]=f[d])}else i||(c||(c=[]),c.push(g,i)),i=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,p=p?p.__html:void 0,f!=null&&p!==f&&(c=c||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(c=c||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Os.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&Re("scroll",e),c||p===f||(c=[])):(c=c||[]).push(g,f))}i&&(c=c||[]).push("style",i);var g=c;(t.updateQueue=g)&&(t.flags|=4)}};lm=function(e,t,i,o){i!==o&&(t.flags|=4)};function xs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Hy(e,t,i){var o=t.pendingProps;switch(Tu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Lt(t.type)&&wa(),pt(t),null;case 3:return o=t.stateNode,Ar(),Be(Pt),Be(mt),Au(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(Jc(tn),tn=null))),Zc(e,t),pt(t),null;case 5:Nu(t);var l=Mi(Qs.current);if(i=t.type,e!==null&&t.stateNode!=null)am(e,t,i,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(H(166));return pt(t),null}if(e=Mi(_n.current),Oo(t)){o=t.stateNode,i=t.type;var c=t.memoizedProps;switch(o[yn]=t,o[Ys]=c,e=(t.mode&1)!==0,i){case"dialog":Re("cancel",o),Re("close",o);break;case"iframe":case"object":case"embed":Re("load",o);break;case"video":case"audio":for(l=0;l<js.length;l++)Re(js[l],o);break;case"source":Re("error",o);break;case"img":case"image":case"link":Re("error",o),Re("load",o);break;case"details":Re("toggle",o);break;case"input":nh(o,c),Re("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Re("invalid",o);break;case"textarea":rh(o,c),Re("invalid",o)}vc(i,c),l=null;for(var d in c)if(c.hasOwnProperty(d)){var p=c[d];d==="children"?typeof p=="string"?o.textContent!==p&&(c.suppressHydrationWarning!==!0&&Fo(o.textContent,p,e),l=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(c.suppressHydrationWarning!==!0&&Fo(o.textContent,p,e),l=["children",""+p]):Os.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&Re("scroll",o)}switch(i){case"input":Lo(o),ih(o,c,!0);break;case"textarea":Lo(o),sh(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=_a)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bp(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(i,{is:o.is}):(e=d.createElement(i),i==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,i),e[yn]=t,e[Ys]=o,om(e,t,!1,!1),t.stateNode=e;e:{switch(d=xc(i,o),i){case"dialog":Re("cancel",e),Re("close",e),l=o;break;case"iframe":case"object":case"embed":Re("load",e),l=o;break;case"video":case"audio":for(l=0;l<js.length;l++)Re(js[l],e);l=o;break;case"source":Re("error",e),l=o;break;case"img":case"image":case"link":Re("error",e),Re("load",e),l=o;break;case"details":Re("toggle",e),l=o;break;case"input":nh(e,o),l=pc(e,o),Re("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=Ve({},o,{value:void 0}),Re("invalid",e);break;case"textarea":rh(e,o),l=gc(e,o),Re("invalid",e);break;default:l=o}vc(i,l),p=l;for(c in p)if(p.hasOwnProperty(c)){var f=p[c];c==="style"?Fp(e,f):c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Np(e,f)):c==="children"?typeof f=="string"?(i!=="textarea"||f!=="")&&Ds(e,f):typeof f=="number"&&Ds(e,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Os.hasOwnProperty(c)?f!=null&&c==="onScroll"&&Re("scroll",e):f!=null&&pu(e,c,f,d))}switch(i){case"input":Lo(e),ih(e,o,!1);break;case"textarea":Lo(e),sh(e);break;case"option":o.value!=null&&e.setAttribute("value",""+mi(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?Cr(e,!!o.multiple,c,!1):o.defaultValue!=null&&Cr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=_a)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)lm(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(H(166));if(i=Mi(Qs.current),Mi(_n.current),Oo(t)){if(o=t.stateNode,i=t.memoizedProps,o[yn]=t,(c=o.nodeValue!==i)&&(e=Nt,e!==null))switch(e.tag){case 3:Fo(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(o.nodeValue,i,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[yn]=t,t.stateNode=o}return pt(t),null;case 13:if(Be(We),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Bt!==null&&t.mode&1&&!(t.flags&128))Cf(),Br(),t.flags|=98560,c=!1;else if(c=Oo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(H(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(H(317));c[yn]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),c=!1}else tn!==null&&(Jc(tn),tn=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?Qe===0&&(Qe=3):Yu())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Ar(),Zc(e,t),e===null&&Ks(t.stateNode.containerInfo),pt(t),null;case 10:return Eu(t.type._context),pt(t),null;case 17:return Lt(t.type)&&wa(),pt(t),null;case 19:if(Be(We),c=t.memoizedState,c===null)return pt(t),null;if(o=(t.flags&128)!==0,d=c.rendering,d===null)if(o)xs(c,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Ta(e),d!==null){for(t.flags|=128,xs(c,!1),o=d.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)c=i,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Me(We,We.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ke()>Or&&(t.flags|=128,o=!0,xs(c,!1),t.lanes=4194304)}else{if(!o)if(e=Ta(d),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),xs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ne)return pt(t),null}else 2*Ke()-c.renderingStartTime>Or&&i!==1073741824&&(t.flags|=128,o=!0,xs(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(i=c.last,i!==null?i.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ke(),t.sibling=null,i=We.current,Me(We,o?i&1|2:i&1),t):(pt(t),null);case 22:case 23:return $u(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Rt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Vy(e,t){switch(Tu(t),t.tag){case 1:return Lt(t.type)&&wa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),Be(Pt),Be(mt),Au(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nu(t),null;case 13:if(Be(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(We),null;case 4:return Ar(),null;case 10:return Eu(t.type._context),null;case 22:case 23:return $u(),null;case 24:return null;default:return null}}var Ho=!1,ft=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,ee=null;function br(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ze(e,t,o)}else i.current=null}function Gc(e,t,i){try{i()}catch(o){Ze(e,t,o)}}var $h=!1;function Zy(e,t){if(Pc=ya,e=pf(),Cu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,p=-1,f=-1,g=0,_=0,y=e,k=null;t:for(;;){for(var j;y!==i||l!==0&&y.nodeType!==3||(p=d+l),y!==c||o!==0&&y.nodeType!==3||(f=d+o),y.nodeType===3&&(d+=y.nodeValue.length),(j=y.firstChild)!==null;)k=y,y=j;for(;;){if(y===e)break t;if(k===i&&++g===l&&(p=d),k===c&&++_===o&&(f=d),(j=y.nextSibling)!==null)break;y=k,k=y.parentNode}y=j}i=p===-1||f===-1?null:{start:p,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(Lc={focusedElem:e,selectionRange:i},ya=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var I=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var z=I.memoizedProps,N=I.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?z:Jt(t.type,z),N);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(T){Ze(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return I=$h,$h=!1,I}function Ms(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&Gc(t,i,c)}l=l.next}while(l!==o)}}function $a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Kc(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function cm(e){var t=e.alternate;t!==null&&(e.alternate=null,cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Ys],delete t[Mc],delete t[zy],delete t[Ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function um(e){return e.tag===5||e.tag===3||e.tag===4}function Yh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $c(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_a));else if(o!==4&&(e=e.child,e!==null))for($c(e,t,i),e=e.sibling;e!==null;)$c(e,t,i),e=e.sibling}function Yc(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Yc(e,t,i),e=e.sibling;e!==null;)Yc(e,t,i),e=e.sibling}var rt=null,en=!1;function Jn(e,t,i){for(i=i.child;i!==null;)dm(e,t,i),i=i.sibling}function dm(e,t,i){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Da,i)}catch{}switch(i.tag){case 5:ft||br(i,t);case 6:var o=rt,l=en;rt=null,Jn(e,t,i),rt=o,en=l,rt!==null&&(en?(e=rt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):rt.removeChild(i.stateNode));break;case 18:rt!==null&&(en?(e=rt,i=i.stateNode,e.nodeType===8?Ul(e.parentNode,i):e.nodeType===1&&Ul(e,i),Us(e)):Ul(rt,i.stateNode));break;case 4:o=rt,l=en,rt=i.stateNode.containerInfo,en=!0,Jn(e,t,i),rt=o,en=l;break;case 0:case 11:case 14:case 15:if(!ft&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Gc(i,t,d),l=l.next}while(l!==o)}Jn(e,t,i);break;case 1:if(!ft&&(br(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(p){Ze(i,t,p)}Jn(e,t,i);break;case 21:Jn(e,t,i);break;case 22:i.mode&1?(ft=(o=ft)||i.memoizedState!==null,Jn(e,t,i),ft=o):Jn(e,t,i);break;default:Jn(e,t,i)}}function qh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Uy),t.forEach(function(o){var l=e1.bind(null,e,o);i.has(o)||(i.add(o),o.then(l,l))})}}function Xt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];try{var c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 5:rt=p.stateNode,en=!1;break e;case 3:rt=p.stateNode.containerInfo,en=!0;break e;case 4:rt=p.stateNode.containerInfo,en=!0;break e}p=p.return}if(rt===null)throw Error(H(160));dm(c,d,l),rt=null,en=!1;var f=l.alternate;f!==null&&(f.return=null),l.return=null}catch(g){Ze(l,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hm(t,e),t=t.sibling}function hm(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),mn(e),o&4){try{Ms(3,e,e.return),$a(3,e)}catch(z){Ze(e,e.return,z)}try{Ms(5,e,e.return)}catch(z){Ze(e,e.return,z)}}break;case 1:Xt(t,e),mn(e),o&512&&i!==null&&br(i,i.return);break;case 5:if(Xt(t,e),mn(e),o&512&&i!==null&&br(i,i.return),e.flags&32){var l=e.stateNode;try{Ds(l,"")}catch(z){Ze(e,e.return,z)}}if(o&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,p=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{p==="input"&&c.type==="radio"&&c.name!=null&&Mp(l,c),xc(p,d);var g=xc(p,c);for(d=0;d<f.length;d+=2){var _=f[d],y=f[d+1];_==="style"?Fp(l,y):_==="dangerouslySetInnerHTML"?Np(l,y):_==="children"?Ds(l,y):pu(l,_,y,g)}switch(p){case"input":fc(l,c);break;case"textarea":Rp(l,c);break;case"select":var k=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var j=c.value;j!=null?Cr(l,!!c.multiple,j,!1):k!==!!c.multiple&&(c.defaultValue!=null?Cr(l,!!c.multiple,c.defaultValue,!0):Cr(l,!!c.multiple,c.multiple?[]:"",!1))}l[Ys]=c}catch(z){Ze(e,e.return,z)}}break;case 6:if(Xt(t,e),mn(e),o&4){if(e.stateNode===null)throw Error(H(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(z){Ze(e,e.return,z)}}break;case 3:if(Xt(t,e),mn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(z){Ze(e,e.return,z)}break;case 4:Xt(t,e),mn(e);break;case 13:Xt(t,e),mn(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(Gu=Ke())),o&4&&qh(e);break;case 22:if(_=i!==null&&i.memoizedState!==null,e.mode&1?(ft=(g=ft)||_,Xt(t,e),ft=g):Xt(t,e),mn(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!_&&e.mode&1)for(ee=e,_=e.child;_!==null;){for(y=ee=_;ee!==null;){switch(k=ee,j=k.child,k.tag){case 0:case 11:case 14:case 15:Ms(4,k,k.return);break;case 1:br(k,k.return);var I=k.stateNode;if(typeof I.componentWillUnmount=="function"){o=k,i=k.return;try{t=o,I.props=t.memoizedProps,I.state=t.memoizedState,I.componentWillUnmount()}catch(z){Ze(o,i,z)}}break;case 5:br(k,k.return);break;case 22:if(k.memoizedState!==null){Xh(y);continue}}j!==null?(j.return=k,ee=j):Xh(y)}_=_.sibling}e:for(_=null,y=e;;){if(y.tag===5){if(_===null){_=y;try{l=y.stateNode,g?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(p=y.stateNode,f=y.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,p.style.display=Ap("display",d))}catch(z){Ze(e,e.return,z)}}}else if(y.tag===6){if(_===null)try{y.stateNode.nodeValue=g?"":y.memoizedProps}catch(z){Ze(e,e.return,z)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;_===y&&(_=null),y=y.return}_===y&&(_=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Xt(t,e),mn(e),o&4&&qh(e);break;case 21:break;default:Xt(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(um(i)){var o=i;break e}i=i.return}throw Error(H(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(Ds(l,""),o.flags&=-33);var c=Yh(e);Yc(e,c,l);break;case 3:case 4:var d=o.stateNode.containerInfo,p=Yh(e);$c(e,p,d);break;default:throw Error(H(161))}}catch(f){Ze(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gy(e,t,i){ee=e,pm(e)}function pm(e,t,i){for(var o=(e.mode&1)!==0;ee!==null;){var l=ee,c=l.child;if(l.tag===22&&o){var d=l.memoizedState!==null||Ho;if(!d){var p=l.alternate,f=p!==null&&p.memoizedState!==null||ft;p=Ho;var g=ft;if(Ho=d,(ft=f)&&!g)for(ee=l;ee!==null;)d=ee,f=d.child,d.tag===22&&d.memoizedState!==null?Jh(l):f!==null?(f.return=d,ee=f):Jh(l);for(;c!==null;)ee=c,pm(c),c=c.sibling;ee=l,Ho=p,ft=g}Qh(e)}else l.subtreeFlags&8772&&c!==null?(c.return=l,ee=c):Qh(e)}}function Qh(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||$a(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ft)if(i===null)o.componentDidMount();else{var l=t.elementType===t.type?i.memoizedProps:Jt(t.type,i.memoizedProps);o.componentDidUpdate(l,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Bh(t,c,o);break;case 3:var d=t.updateQueue;if(d!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Bh(t,d,i)}break;case 5:var p=t.stateNode;if(i===null&&t.flags&4){i=p;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&i.focus();break;case"img":f.src&&(i.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var _=g.memoizedState;if(_!==null){var y=_.dehydrated;y!==null&&Us(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}ft||t.flags&512&&Kc(t)}catch(k){Ze(t,t.return,k)}}if(t===e){ee=null;break}if(i=t.sibling,i!==null){i.return=t.return,ee=i;break}ee=t.return}}function Xh(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ee=i;break}ee=t.return}}function Jh(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{$a(4,t)}catch(f){Ze(t,i,f)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(f){Ze(t,l,f)}}var c=t.return;try{Kc(t)}catch(f){Ze(t,c,f)}break;case 5:var d=t.return;try{Kc(t)}catch(f){Ze(t,d,f)}}}catch(f){Ze(t,t.return,f)}if(t===e){ee=null;break}var p=t.sibling;if(p!==null){p.return=t.return,ee=p;break}ee=t.return}}var Ky=Math.ceil,Ia=Dn.ReactCurrentDispatcher,Uu=Dn.ReactCurrentOwner,Zt=Dn.ReactCurrentBatchConfig,Te=0,tt=null,Ye=null,ot=0,Rt=0,Sr=vi(0),Qe=0,to=null,Wi=0,Ya=0,Zu=0,Rs=null,zt=null,Gu=0,Or=1/0,Pn=null,Ea=!1,qc=null,di=null,Vo=!1,si=null,Ma=0,Bs=0,Qc=null,aa=-1,la=0;function vt(){return Te&6?Ke():aa!==-1?aa:aa=Ke()}function hi(e){return e.mode&1?Te&2&&ot!==0?ot&-ot:Ly.transition!==null?(la===0&&(la=qp()),la):(e=Le,e!==0||(e=window.event,e=e===void 0?16:rf(e.type)),e):1}function rn(e,t,i,o){if(50<Bs)throw Bs=0,Qc=null,Error(H(185));ro(e,i,o),(!(Te&2)||e!==tt)&&(e===tt&&(!(Te&2)&&(Ya|=i),Qe===4&&ii(e,ot)),It(e,o),i===1&&Te===0&&!(t.mode&1)&&(Or=Ke()+500,Za&&xi()))}function It(e,t){var i=e.callbackNode;L0(e,t);var o=ga(e,e===tt?ot:0);if(o===0)i!==null&&lh(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&lh(i),t===1)e.tag===0?Py(ep.bind(null,e)):Sf(ep.bind(null,e)),jy(function(){!(Te&6)&&xi()}),i=null;else{switch(Qp(o)){case 1:i=vu;break;case 4:i=$p;break;case 16:i=ma;break;case 536870912:i=Yp;break;default:i=ma}i=wm(i,fm.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function fm(e,t){if(aa=-1,la=0,Te&6)throw Error(H(327));var i=e.callbackNode;if(Ir()&&e.callbackNode!==i)return null;var o=ga(e,e===tt?ot:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Ra(e,o);else{t=o;var l=Te;Te|=2;var c=gm();(tt!==e||ot!==t)&&(Pn=null,Or=Ke()+500,Ri(e,t));do try{qy();break}catch(p){mm(e,p)}while(!0);Iu(),Ia.current=c,Te=l,Ye!==null?t=0:(tt=null,ot=0,t=Qe)}if(t!==0){if(t===2&&(l=kc(e),l!==0&&(o=l,t=Xc(e,l))),t===1)throw i=to,Ri(e,0),ii(e,o),It(e,Ke()),i;if(t===6)ii(e,o);else{if(l=e.current.alternate,!(o&30)&&!$y(l)&&(t=Ra(e,o),t===2&&(c=kc(e),c!==0&&(o=c,t=Xc(e,c))),t===1))throw i=to,Ri(e,0),ii(e,o),It(e,Ke()),i;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(H(345));case 2:Li(e,zt,Pn);break;case 3:if(ii(e,o),(o&130023424)===o&&(t=Gu+500-Ke(),10<t)){if(ga(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){vt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ec(Li.bind(null,e,zt,Pn),t);break}Li(e,zt,Pn);break;case 4:if(ii(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var d=31-nn(o);c=1<<d,d=t[d],d>l&&(l=d),o&=~c}if(o=l,o=Ke()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Ky(o/1960))-o,10<o){e.timeoutHandle=Ec(Li.bind(null,e,zt,Pn),o);break}Li(e,zt,Pn);break;case 5:Li(e,zt,Pn);break;default:throw Error(H(329))}}}return It(e,Ke()),e.callbackNode===i?fm.bind(null,e):null}function Xc(e,t){var i=Rs;return e.current.memoizedState.isDehydrated&&(Ri(e,t).flags|=256),e=Ra(e,t),e!==2&&(t=zt,zt=i,t!==null&&Jc(t)),e}function Jc(e){zt===null?zt=e:zt.push.apply(zt,e)}function $y(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var l=i[o],c=l.getSnapshot;l=l.value;try{if(!sn(c(),l))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~Zu,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-nn(t),o=1<<i;e[i]=-1,t&=~o}}function ep(e){if(Te&6)throw Error(H(327));Ir();var t=ga(e,0);if(!(t&1))return It(e,Ke()),null;var i=Ra(e,t);if(e.tag!==0&&i===2){var o=kc(e);o!==0&&(t=o,i=Xc(e,o))}if(i===1)throw i=to,Ri(e,0),ii(e,t),It(e,Ke()),i;if(i===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e,zt,Pn),It(e,Ke()),null}function Ku(e,t){var i=Te;Te|=1;try{return e(t)}finally{Te=i,Te===0&&(Or=Ke()+500,Za&&xi())}}function Hi(e){si!==null&&si.tag===0&&!(Te&6)&&Ir();var t=Te;Te|=1;var i=Zt.transition,o=Le;try{if(Zt.transition=null,Le=1,e)return e()}finally{Le=o,Zt.transition=i,Te=t,!(Te&6)&&xi()}}function $u(){Rt=Sr.current,Be(Sr)}function Ri(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ky(i)),Ye!==null)for(i=Ye.return;i!==null;){var o=i;switch(Tu(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&wa();break;case 3:Ar(),Be(Pt),Be(mt),Au();break;case 5:Nu(o);break;case 4:Ar();break;case 13:Be(We);break;case 19:Be(We);break;case 10:Eu(o.type._context);break;case 22:case 23:$u()}i=i.return}if(tt=e,Ye=e=pi(e.current,null),ot=Rt=t,Qe=0,to=null,Zu=Ya=Wi=0,zt=Rs=null,Ei!==null){for(t=0;t<Ei.length;t++)if(i=Ei[t],o=i.interleaved,o!==null){i.interleaved=null;var l=o.next,c=i.pending;if(c!==null){var d=c.next;c.next=l,o.next=d}i.pending=o}Ei=null}return e}function mm(e,t){do{var i=Ye;try{if(Iu(),ra.current=La,Pa){for(var o=He.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Pa=!1}if(Di=0,et=qe=He=null,Es=!1,Xs=0,Uu.current=null,i===null||i.return===null){Qe=1,to=t,Ye=null;break}e:{var c=e,d=i.return,p=i,f=t;if(t=ot,p.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,_=p,y=_.tag;if(!(_.mode&1)&&(y===0||y===11||y===15)){var k=_.alternate;k?(_.updateQueue=k.updateQueue,_.memoizedState=k.memoizedState,_.lanes=k.lanes):(_.updateQueue=null,_.memoizedState=null)}var j=Wh(d);if(j!==null){j.flags&=-257,Hh(j,d,p,c,t),j.mode&1&&Dh(c,g,t),t=j,f=g;var I=t.updateQueue;if(I===null){var z=new Set;z.add(f),t.updateQueue=z}else I.add(f);break e}else{if(!(t&1)){Dh(c,g,t),Yu();break e}f=Error(H(426))}}else if(Ne&&p.mode&1){var N=Wh(d);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Hh(N,d,p,c,t),Pu(Fr(f,p));break e}}c=f=Fr(f,p),Qe!==4&&(Qe=2),Rs===null?Rs=[c]:Rs.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var x=Xf(c,f,t);Rh(c,x);break e;case 1:p=f;var v=c.type,w=c.stateNode;if(!(c.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(di===null||!di.has(w)))){c.flags|=65536,t&=-t,c.lanes|=t;var T=Jf(c,p,t);Rh(c,T);break e}}c=c.return}while(c!==null)}vm(i)}catch(M){t=M,Ye===i&&i!==null&&(Ye=i=i.return);continue}break}while(!0)}function gm(){var e=Ia.current;return Ia.current=La,e===null?La:e}function Yu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),tt===null||!(Wi&268435455)&&!(Ya&268435455)||ii(tt,ot)}function Ra(e,t){var i=Te;Te|=2;var o=gm();(tt!==e||ot!==t)&&(Pn=null,Ri(e,t));do try{Yy();break}catch(l){mm(e,l)}while(!0);if(Iu(),Te=i,Ia.current=o,Ye!==null)throw Error(H(261));return tt=null,ot=0,Qe}function Yy(){for(;Ye!==null;)ym(Ye)}function qy(){for(;Ye!==null&&!w0();)ym(Ye)}function ym(e){var t=_m(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?vm(e):Ye=t,Uu.current=null}function vm(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Vy(i,t),i!==null){i.flags&=32767,Ye=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ye=null;return}}else if(i=Hy(i,t,Rt),i!==null){Ye=i;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Qe===0&&(Qe=5)}function Li(e,t,i){var o=Le,l=Zt.transition;try{Zt.transition=null,Le=1,Qy(e,t,i,o)}finally{Zt.transition=l,Le=o}return null}function Qy(e,t,i,o){do Ir();while(si!==null);if(Te&6)throw Error(H(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(I0(e,c),e===tt&&(Ye=tt=null,ot=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Vo||(Vo=!0,wm(ma,function(){return Ir(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=Zt.transition,Zt.transition=null;var d=Le;Le=1;var p=Te;Te|=4,Uu.current=null,Zy(e,i),hm(i,e),yy(Lc),ya=!!Pc,Lc=Pc=null,e.current=i,Gy(i),b0(),Te=p,Le=d,Zt.transition=c}else e.current=i;if(Vo&&(Vo=!1,si=e,Ma=l),c=e.pendingLanes,c===0&&(di=null),j0(i.stateNode),It(e,Ke()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)l=t[i],o(l.value,{componentStack:l.stack,digest:l.digest});if(Ea)throw Ea=!1,e=qc,qc=null,e;return Ma&1&&e.tag!==0&&Ir(),c=e.pendingLanes,c&1?e===Qc?Bs++:(Bs=0,Qc=e):Bs=0,xi(),null}function Ir(){if(si!==null){var e=Qp(Ma),t=Zt.transition,i=Le;try{if(Zt.transition=null,Le=16>e?16:e,si===null)var o=!1;else{if(e=si,si=null,Ma=0,Te&6)throw Error(H(331));var l=Te;for(Te|=4,ee=e.current;ee!==null;){var c=ee,d=c.child;if(ee.flags&16){var p=c.deletions;if(p!==null){for(var f=0;f<p.length;f++){var g=p[f];for(ee=g;ee!==null;){var _=ee;switch(_.tag){case 0:case 11:case 15:Ms(8,_,c)}var y=_.child;if(y!==null)y.return=_,ee=y;else for(;ee!==null;){_=ee;var k=_.sibling,j=_.return;if(cm(_),_===g){ee=null;break}if(k!==null){k.return=j,ee=k;break}ee=j}}}var I=c.alternate;if(I!==null){var z=I.child;if(z!==null){I.child=null;do{var N=z.sibling;z.sibling=null,z=N}while(z!==null)}}ee=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,ee=d;else e:for(;ee!==null;){if(c=ee,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Ms(9,c,c.return)}var x=c.sibling;if(x!==null){x.return=c.return,ee=x;break e}ee=c.return}}var v=e.current;for(ee=v;ee!==null;){d=ee;var w=d.child;if(d.subtreeFlags&2064&&w!==null)w.return=d,ee=w;else e:for(d=v;ee!==null;){if(p=ee,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:$a(9,p)}}catch(M){Ze(p,p.return,M)}if(p===d){ee=null;break e}var T=p.sibling;if(T!==null){T.return=p.return,ee=T;break e}ee=p.return}}if(Te=l,xi(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Da,e)}catch{}o=!0}return o}finally{Le=i,Zt.transition=t}}return!1}function tp(e,t,i){t=Fr(i,t),t=Xf(e,t,1),e=ui(e,t,1),t=vt(),e!==null&&(ro(e,1,t),It(e,t))}function Ze(e,t,i){if(e.tag===3)tp(e,e,i);else for(;t!==null;){if(t.tag===3){tp(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(di===null||!di.has(o))){e=Fr(i,e),e=Jf(t,e,1),t=ui(t,e,1),e=vt(),t!==null&&(ro(t,1,e),It(t,e));break}}t=t.return}}function Xy(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&i,tt===e&&(ot&i)===i&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Ke()-Gu?Ri(e,0):Zu|=i),It(e,t)}function xm(e,t){t===0&&(e.mode&1?(t=Mo,Mo<<=1,!(Mo&130023424)&&(Mo=4194304)):t=1);var i=vt();e=Fn(e,t),e!==null&&(ro(e,t,i),It(e,i))}function Jy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),xm(e,i)}function e1(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(H(314))}o!==null&&o.delete(t),xm(e,i)}var _m;_m=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)Tt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Tt=!1,Wy(e,t,i);Tt=!!(e.flags&131072)}else Tt=!1,Ne&&t.flags&1048576&&kf(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;oa(e,t),e=t.pendingProps;var l=Rr(t,mt.current);Lr(t,i),l=Ou(null,t,o,e,l,i);var c=Du();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(o)?(c=!0,ba(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ru(t),l.updater=Ka,t.stateNode=l,l._reactInternals=t,Oc(t,o,e,i),t=Hc(null,t,o,!0,c,i)):(t.tag=0,Ne&&c&&zu(t),yt(null,t,l,i),t=t.child),t;case 16:o=t.elementType;e:{switch(oa(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=n1(o),e=Jt(o,e),l){case 0:t=Wc(null,t,o,e,i);break e;case 1:t=Zh(null,t,o,e,i);break e;case 11:t=Vh(null,t,o,e,i);break e;case 14:t=Uh(null,t,o,Jt(o.type,e),i);break e}throw Error(H(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Jt(o,l),Wc(e,t,o,l,i);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Jt(o,l),Zh(e,t,o,l,i);case 3:e:{if(im(t),e===null)throw Error(H(387));o=t.pendingProps,c=t.memoizedState,l=c.element,Lf(e,t),za(t,o,null,i);var d=t.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=Fr(Error(H(423)),t),t=Gh(e,t,o,i,l);break e}else if(o!==l){l=Fr(Error(H(424)),t),t=Gh(e,t,o,i,l);break e}else for(Bt=ci(t.stateNode.containerInfo.firstChild),Nt=t,Ne=!0,tn=null,i=Tf(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Br(),o===l){t=On(e,t,i);break e}yt(e,t,o,i)}t=t.child}return t;case 5:return If(t),e===null&&Nc(t),o=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,d=l.children,Ic(o,l)?d=null:c!==null&&Ic(o,c)&&(t.flags|=32),nm(e,t),yt(e,t,d,i),t.child;case 6:return e===null&&Nc(t),null;case 13:return rm(e,t,i);case 4:return Bu(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Nr(t,null,o,i):yt(e,t,o,i),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Jt(o,l),Vh(e,t,o,l,i);case 7:return yt(e,t,t.pendingProps,i),t.child;case 8:return yt(e,t,t.pendingProps.children,i),t.child;case 12:return yt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,c=t.memoizedProps,d=l.value,Me(ja,o._currentValue),o._currentValue=d,c!==null)if(sn(c.value,d)){if(c.children===l.children&&!Pt.current){t=On(e,t,i);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var p=c.dependencies;if(p!==null){d=c.child;for(var f=p.firstContext;f!==null;){if(f.context===o){if(c.tag===1){f=Bn(-1,i&-i),f.tag=2;var g=c.updateQueue;if(g!==null){g=g.shared;var _=g.pending;_===null?f.next=f:(f.next=_.next,_.next=f),g.pending=f}}c.lanes|=i,f=c.alternate,f!==null&&(f.lanes|=i),Ac(c.return,i,t),p.lanes|=i;break}f=f.next}}else if(c.tag===10)d=c.type===t.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(H(341));d.lanes|=i,p=d.alternate,p!==null&&(p.lanes|=i),Ac(d,i,t),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===t){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}yt(e,t,l.children,i),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,Lr(t,i),l=Gt(l),o=o(l),t.flags|=1,yt(e,t,o,i),t.child;case 14:return o=t.type,l=Jt(o,t.pendingProps),l=Jt(o.type,l),Uh(e,t,o,l,i);case 15:return em(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Jt(o,l),oa(e,t),t.tag=1,Lt(o)?(e=!0,ba(t)):e=!1,Lr(t,i),Qf(t,o,l),Oc(t,o,l,i),Hc(null,t,o,!0,e,i);case 19:return sm(e,t,i);case 22:return tm(e,t,i)}throw Error(H(156,t.tag))};function wm(e,t){return Kp(e,t)}function t1(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,i,o){return new t1(e,t,i,o)}function qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n1(e){if(typeof e=="function")return qu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mu)return 11;if(e===gu)return 14}return 2}function pi(e,t){var i=e.alternate;return i===null?(i=Ut(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ca(e,t,i,o,l,c){var d=2;if(o=e,typeof e=="function")qu(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case pr:return Bi(i.children,l,c,t);case fu:d=8,l|=8;break;case cc:return e=Ut(12,i,t,l|2),e.elementType=cc,e.lanes=c,e;case uc:return e=Ut(13,i,t,l),e.elementType=uc,e.lanes=c,e;case dc:return e=Ut(19,i,t,l),e.elementType=dc,e.lanes=c,e;case Lp:return qa(i,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tp:d=10;break e;case Pp:d=9;break e;case mu:d=11;break e;case gu:d=14;break e;case ei:d=16,o=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Ut(d,i,t,l),t.elementType=e,t.type=o,t.lanes=c,t}function Bi(e,t,i,o){return e=Ut(7,e,o,t),e.lanes=i,e}function qa(e,t,i,o){return e=Ut(22,e,o,t),e.elementType=Lp,e.lanes=i,e.stateNode={isHidden:!1},e}function Xl(e,t,i){return e=Ut(6,e,null,t),e.lanes=i,e}function Jl(e,t,i){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i1(e,t,i,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Qu(e,t,i,o,l,c,d,p,f){return e=new i1(e,t,i,p,f),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Ut(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(c),e}function r1(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function bm(e){if(!e)return gi;e=e._reactInternals;e:{if(Zi(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var i=e.type;if(Lt(i))return bf(e,i,t)}return t}function Sm(e,t,i,o,l,c,d,p,f){return e=Qu(i,o,!0,e,l,c,d,p,f),e.context=bm(null),i=e.current,o=vt(),l=hi(i),c=Bn(o,l),c.callback=t??null,ui(i,c,l),e.current.lanes=l,ro(e,l,o),It(e,o),e}function Qa(e,t,i,o){var l=t.current,c=vt(),d=hi(l);return i=bm(i),t.context===null?t.context=i:t.pendingContext=i,t=Bn(c,d),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ui(l,t,d),e!==null&&(rn(e,l,d,c),ia(e,l,d)),d}function Ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Xu(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function s1(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}Xa.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Qa(e,t,null,null)};Xa.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){Qa(null,e,null,null)}),t[An]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=ef();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ni.length&&t!==0&&t<ni[i].priority;i++);ni.splice(i,0,e),i===0&&nf(e)}};function ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ip(){}function o1(e,t,i,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var g=Ba(d);c.call(g)}}var d=Sm(t,o,e,0,null,!1,!1,"",ip);return e._reactRootContainer=d,e[An]=d.current,Ks(e.nodeType===8?e.parentNode:e),Hi(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var p=o;o=function(){var g=Ba(f);p.call(g)}}var f=Qu(e,0,!1,null,null,!1,!1,"",ip);return e._reactRootContainer=f,e[An]=f.current,Ks(e.nodeType===8?e.parentNode:e),Hi(function(){Qa(t,f,i,o)}),f}function el(e,t,i,o,l){var c=i._reactRootContainer;if(c){var d=c;if(typeof l=="function"){var p=l;l=function(){var f=Ba(d);p.call(f)}}Qa(t,d,e,l)}else d=o1(i,t,e,l,o);return Ba(d)}Xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ks(t.pendingLanes);i!==0&&(xu(t,i|1),It(t,Ke()),!(Te&6)&&(Or=Ke()+500,xi()))}break;case 13:Hi(function(){var o=Fn(e,1);if(o!==null){var l=vt();rn(o,e,1,l)}}),Xu(e,1)}};_u=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var i=vt();rn(t,e,134217728,i)}Xu(e,134217728)}};Jp=function(e){if(e.tag===13){var t=hi(e),i=Fn(e,t);if(i!==null){var o=vt();rn(i,e,t,o)}Xu(e,t)}};ef=function(){return Le};tf=function(e,t){var i=Le;try{return Le=e,t()}finally{Le=i}};wc=function(e,t,i){switch(t){case"input":if(fc(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var l=Ua(o);if(!l)throw Error(H(90));Ep(o),fc(o,l)}}}break;case"textarea":Rp(e,i);break;case"select":t=i.value,t!=null&&Cr(e,!!i.multiple,t,!1)}};Wp=Ku;Hp=Hi;var a1={usingClientEntryPoint:!1,Events:[oo,yr,Ua,Op,Dp,Ku]},_s={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l1={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zp(e),e===null?null:e.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||s1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Da=Uo.inject(l1),xn=Uo}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a1;Ft.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(t))throw Error(H(200));return r1(e,t,null,i)};Ft.createRoot=function(e,t){if(!ed(e))throw Error(H(299));var i=!1,o="",l=km;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Qu(e,1,!1,null,null,i,!1,o,l),e[An]=t.current,Ks(e.nodeType===8?e.parentNode:e),new Ju(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Zp(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return Hi(e)};Ft.hydrate=function(e,t,i){if(!Ja(t))throw Error(H(200));return el(null,e,t,!0,i)};Ft.hydrateRoot=function(e,t,i){if(!ed(e))throw Error(H(405));var o=i!=null&&i.hydratedSources||null,l=!1,c="",d=km;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),t=Sm(t,null,e,1,i??null,l,!1,c,d),e[An]=t.current,Ks(e),o)for(e=0;e<o.length;e++)i=o[e],l=i._getVersion,l=l(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,l]:t.mutableSourceEagerHydrationData.push(i,l);return new Xa(t)};Ft.render=function(e,t,i){if(!Ja(t))throw Error(H(200));return el(null,e,t,!1,i)};Ft.unmountComponentAtNode=function(e){if(!Ja(e))throw Error(H(40));return e._reactRootContainer?(Hi(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};Ft.unstable_batchedUpdates=Ku;Ft.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ja(i))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return el(e,t,i,!1,o)};Ft.version="18.3.1-next-f1338f8080-20240426";function jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jm)}catch(e){console.error(e)}}jm(),kp.exports=Ft;var c1=kp.exports,rp=c1;ac.createRoot=rp.createRoot,ac.hydrateRoot=rp.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const i=S.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:p="",children:f,...g},_)=>S.createElement("svg",{ref:_,...u1,width:l,height:l,stroke:o,strokeWidth:d?Number(c)*24/Number(l):c,className:["lucide",`lucide-${d1(e)}`,p].join(" "),...g},[...t.map(([y,k])=>S.createElement(y,k)),...Array.isArray(f)?f:[f]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ie("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ie("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ie("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ie("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ie("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ie("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ie("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ie("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ie("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=ie("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ie("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ie("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ie("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ie("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ie("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),O1=({activeTab:e,onTabChange:t,activeConvoy:i,hidden:o,squadEnabled:l})=>{if(o)return null;const c=[{id:"discover",label:"Discover",icon:zm},{id:"squad",label:"Squad",icon:st},{id:"trips",label:"Trips",icon:Wn},{id:"profile",label:"Profile",icon:A1}];return s.jsxs("div",{className:"glass-dock",style:{position:"fixed",bottom:0,left:0,width:"100%",height:"80px",display:"flex",justifyContent:"space-around",alignItems:"center",zIndex:"var(--z-dock)",paddingBottom:"16px"},children:[c.map(d=>{const p=d.icon,f=e===d.id,g=d.id==="squad"&&(i==null?void 0:i.active)||d.id==="discover"&&l;return s.jsxs("button",{onClick:()=>t(d.id),style:{background:"none",border:"none",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",cursor:"pointer",color:g?"var(--sss-apex)":f?"var(--primary-apex)":"var(--text-secondary)",transition:"color 0.2s, transform 0.2s",transform:f?"translateY(-2px)":"none",padding:"6px 16px",position:"relative"},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx(p,{size:22,strokeWidth:f?2.5:1.8}),g&&s.jsx("div",{style:{position:"absolute",top:-3,right:-5,width:8,height:8,borderRadius:"50%",background:"var(--sss-apex)",boxShadow:"0 0 6px rgba(0,230,118,0.6)",animation:"pulseGlow 2s ease infinite"}})]}),s.jsx("span",{style:{fontSize:"10px",fontWeight:f||g?700:500,fontFamily:"var(--font-main)",letterSpacing:f?"0.5px":"0"},children:d.label}),f&&s.jsx("div",{style:{position:"absolute",top:-1,width:20,height:3,borderRadius:2,background:g?"var(--sss-apex)":"var(--primary-apex)",boxShadow:g?"0 0 8px rgba(0,230,118,0.5)":"0 0 8px var(--primary-glow)"}})]},d.id)}),(i==null?void 0:i.active)&&e!=="squad"&&s.jsxs("div",{onClick:()=>t("squad"),style:{position:"absolute",top:-18,left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:6,padding:"5px 14px 5px 10px",borderRadius:20,background:"rgba(0,230,118,0.15)",border:"1px solid rgba(0,230,118,0.3)",backdropFilter:"blur(12px)",cursor:"pointer",animation:"pulseGlow 3s ease infinite",zIndex:1},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--sss-apex)",boxShadow:"0 0 6px rgba(0,230,118,0.6)",animation:"pulseGlow 1.5s ease infinite"}}),s.jsx(st,{size:12,color:"var(--sss-apex)"}),s.jsx("span",{style:{fontSize:11,fontWeight:700,color:"var(--sss-apex)",fontFamily:"var(--font-main)"},children:i.memberCount})]})]})},Pm="https://router.project-osrm.org/route/v1/driving",tc=new Map;function D1(e,t){return`${e.lat.toFixed(4)},${e.lng.toFixed(4)}|${t.lat.toFixed(4)},${t.lng.toFixed(4)}`}async function Zo(e,t,i){var d;const o=D1(e,t);if(tc.has(o))return tc.get(o);const l=`${e.lng},${e.lat};${t.lng},${t.lat}`,c=`${Pm}/${l}?alternatives=3&overview=full&geometries=geojson&steps=true`;try{const p=await fetch(c,{signal:i});if(!p.ok)throw new Error(`OSRM ${p.status}: ${p.statusText}`);const f=await p.json();if(f.code!=="Ok"||!((d=f.routes)!=null&&d.length))throw new Error(`OSRM error: ${f.message||f.code}`);let g=f.routes.map((_,y)=>({id:`route-${y}-${Date.now()}`,geometry:_.geometry.coordinates.map(k=>[k[1],k[0]]),distance:Math.round(_.distance/100)/10,duration:Math.round(_.duration/60)}));if(g.sort((_,y)=>_.duration-y.duration),g.length===1){const _=g[0];g.push({..._,id:`route-balanced-${Date.now()}`,duration:Math.round(_.duration*1.08),distance:Math.round(_.distance*1.05*10)/10,isSimulated:!0}),g.push({..._,id:`route-curvy-${Date.now()}`,duration:Math.round(_.duration*1.25),distance:Math.round(_.distance*1.15*10)/10,isSimulated:!0})}else if(g.length===2){const _=g[1];g.push({..._,id:`route-curvy-${Date.now()}`,duration:Math.round(_.duration*1.15),distance:Math.round(_.distance*1.08*10)/10,isSimulated:!0})}else g.length>3&&(g=g.slice(0,3));return g[0].label="Fastest",g[0].curvinessIndex=2,g[1].label="Balanced",g[1].curvinessIndex=3,g[2].label="Curvy",g[2].curvinessIndex=5,tc.set(o,g),g}catch(p){throw console.error("[Routing] OSRM error",p),p}}async function nu(e){var o;if(e.length<2)throw new Error("Need at least 2 points");const t=e.map(l=>`${l.lng},${l.lat}`).join(";"),i=`${Pm}/${t}?overview=full&geometries=geojson&steps=false`;try{const l=await fetch(i);if(!l.ok)return console.error("OSRM Error",l.status,l.statusText),null;const c=await l.json();if(c.code!=="Ok"||!((o=c.routes)!=null&&o.length))return null;const d=c.routes[0];return{geometry:d.geometry.coordinates.map(p=>[p[1],p[0]]),distance:Math.round(d.distance/100)/10,duration:Math.round(d.duration/60)}}catch(l){return console.error("Route calculation failed",l),null}}const W1="https://photon.komoot.io/api/",Vr=async(e,t=5,i=null)=>{if(!e||e.length<3)return[];try{let o=`${W1}?q=${encodeURIComponent(e)}&limit=${t}`;i&&(o+=`&lat=${i.lat}&lon=${i.lng}`);const c=await(await fetch(o)).json();return c.features?c.features.map(d=>{const p=d.properties,f=p.city||p.town||p.village||p.hamlet,g=[f,p.state,p.country].filter(Boolean).join(", ");return{id:`loc-${p.osm_id}`,name:p.name||f||"Unknown Location",details:g,lat:d.geometry.coordinates[1],lng:d.geometry.coordinates[0],type:p.osm_value||p.osm_key}}):[]}catch(o){return console.error("Search failed:",o),[]}},da=async(e,t)=>{try{const i=`https://photon.komoot.io/reverse?lat=${e}&lon=${t}`,l=await(await fetch(i)).json();if(l.features&&l.features.length>0){const c=l.features[0].properties,d=c.street||"",p=c.housenumber||"",f=c.city||c.town||c.village||"",g=[];return d&&g.push(p?`${d} ${p}`:d),f&&g.push(f),g.join(", ")||c.name}return null}catch(i){return console.error("Reverse geocode failed:",i),null}},H1={"Isar Overlook":"Elevated viewpoint over the winding Isar river valley","Grnwald Bridge":"Historic bridge with views of the densely forested Isar gorge","Schftlarn Abbey":"12th-century Benedictine monastery in a tranquil riverside setting","Herrsching Promenade":"Charming lakeside promenade with views across Ammersee","Dieen Caf":"Lakeside caf stop in the historic artist's town of Dieen","Andechs Kloster":"Pilgrimage monastery famous for its brewery and hilltop views","Sauerlach Curves":"Series of sweeping bends through lush farmland south of Munich","Holzkirchen Bypass":"Fast open road with views toward the Alpine foothills","Miesbach Valley":"Pastoral valley framed by the first rows of the Bavarian Alps","Dachau Palace":"Renaissance palace and gardens on a hill overlooking the Amper valley","Amper Bridge":"Picturesque crossing of the Amper river through willow meadows","Schleiheim Palace":"Baroque palace complex with grand canal and manicured gardens","Kesselberg Pass":"Legendary 18% gradient pass favoured by motorsport legends","Walchensee View":"Bavaria's deepest lake surrounded by forested Alpine peaks","Urfeld Caf":"Traditional Bavarian inn at the lakeside village of Urfeld","Rossfeld Summit":"Germany's highest public toll road with views to the Berchtesgaden Alps","Panorama Terrace":"Open terrace overlooking Salzburg and the Salzach valley","Sylvenstein Dam":"Turquoise reservoir flanked by steep forested mountainsides","Fall Village":"Idyllic mountain village offering traditional Bavarian refreshments","Lenggries Return":"Sweeping valley road back through the Isar foothills","Nebelhorn Base":"Start of the Allgu high-alpine world with panoramic cable car views","Fellhorn View":"Saddle ridge with sweeping views across the German-Austrian border",Breitachklamm:"Europe's deepest gorge carved by the raging Breitach river","Tegernsee Brustberl":"Iconic lakeside beer hall and boat dock on Tegernsee","Rottach Promenade":"Elegant lakeside promenade with views to the southern Alps","Kreuth Valley":"Unspoiled valley road winding deep into the Bavarian Alpine foothills","Plansee Shore":"Crystal-clear Alpine lake straddling the German-Austrian border","Heiterwanger See":"Quieter sister lake to Plansee with mirror-calm reflections","Ammergau Return":"Sweeping descent through the Ammergau Alps back to the valley","Wank Panorama":"Summit view over Garmisch-Partenkirchen and the Zugspitze",Esterbergalm:"Alpine pasture hut with refreshments and mountain panoramas","Partnachklamm View":"Vantage point above the dramatic Partnach gorge ravine","Alte Saline":"Historic salt works museum tracing the ancient salt trade route",Thumsee:"Hidden Alpine lake ideal for a scenic stop in the spa town","Nonn Viewpoint":"Hilltop vantage with views over the Salzach valley into Austria",Mummelsee:"Mysterious glacial lake steeped in Black Forest folklore","Ruhestein Pass":"Remote wooded high pass with dense dark-fir forest atmosphere","Hornisgrinde Summit":"Highest peak in the northern Black Forest with sweeping views","Schauinsland Summit":"Freiburg's local mountain with cable car and 360 panorama","Bergstation Caf":"Summit caf with views over the Rhine plain and Vosges mountains","Triberg Falls":"Germany's highest waterfalls cascading 163 metres through the forest","Cuckoo Clock Workshop":"World-famous Black Forest cuckoo clock craftsmen's workshop","Gutach Valley":"Traditional open-air museum village in a deep forest valley","Titisee Promenade":"Popular Black Forest lake with boat rentals and resort atmosphere","Feldberg Summit Road":"Highest road in the Black Forest with views into Switzerland","Seebuck View":"Ridge viewpoint over Titisee, Baden and the Alps beyond",Marktplatz:"One of Germany's largest town squares, surrounded by arcaded galleries","Kniebis Pass":"Forested highland pass at 1000m with classic Black Forest scenery","Murgtal View":"Valley overlook into the winding Murg river canyon below","Schluchsee Dam":"Impressive dam wall holding back the Black Forest's largest lake","St. Blasien":"Stunning domed cathedral towering incongruously in a forest valley","Aha Viewpoint":"Remote ridge with panoramas south to the Swiss Alps on clear days","Hermann Hesse Museum":"Birthplace of the Nobel Prize-winning author in the old town","Nagold Valley":"Scenic winding river valley with medieval ruins on the hillsides","Hirsau Monastery":"11th-century Benedictine abbey complex in atmospheric ruins","Kinzig Bridge":"Centuries-old river crossing marking the start of the valley run","Wolfach Old Town":"Well-preserved half-timbered town with a fine Ducal Palace","Nrburgring View":"Overlook of the legendary Nordschleife racetrack pit complex","Adenau Town":"Gateway town to the Nrburgring with local caf culture","Hohe Acht":"Highest peak in the Eifel with views deep into the volcanic landscape","Cochem Castle":"Fairytale neo-Gothic castle dramatically perched above the Mosel","Vineyard Terrace":"Terraced Mosel vineyards with classic river bend panorama","Beilstein Village":"Tiny, perfectly preserved medieval village clinging to the riverbank","Wernigerode Castle":"Colourful half-timbered castle crowning the Harz foothills","Schierke Village":"Charming Harz village and gateway to the Brocken summit","Brocken Vista":"Highest peak in northern Germany  site of Walpurgis Night legend","Bastei Bridge":"Iconic sandstone bridge spanning a dramatic rock formation above the Elbe","Knigstein Fortress":"Virtually impregnable hilltop fortress with sweeping valley views","Elbe Valley View":"Wide panorama over the sandstone pillars and Elbe meanders",Wasserkuppe:"Highest peak in the Rhn with gliding activity and open moorland","Kreuzberg Kloster":"Franciscan monastery known for its brewery and forest setting","Milseburg View":"Basalt hill with Iron Age fort remains and sweeping Rhn panoramas","Feldberg Summit":"Taunus high point with views over the Frankfurt skyline","Saalburg Roman Fort":"Reconstructed Roman Limes fort and museum on Hadrian's frontier","Oberursel Return":"Winding descent through Taunus vineyards back toward the Rhine-Main",Felsenmeer:"Sea of ancient granite boulders scattered across a mystical forest floor","Lindenfels Castle":"Romantic ruined hilltop castle with views over the Odenwald","Auerbach Valley":"Gentle valley road winding through orchards and vineyard slopes","Tecklenburg Castle":"Hilltop castle ruins with dramatic views over the Teutonic forest","Drenther Klippen":"Striking sandstone crags rising above the Teutoburg forest canopy","Bad Iburg":"Spa town with Benedictine abbey and hill castle in one complex","Kreidefelsen Knigsstuhl":"Germany's most photographed chalk-white sea cliffs on Rgen","Prora Beach":"Vast 4.5 km-long Nazi-era resort complex now repurposed on the Baltic","Binz Promenade":"Elegant Wilhelminian beach resort with white spa architecture","Groer Plner See":"Largest of Holstein's lakes, ringed by gentle hills and reeds","Malente Kurpark":"Spa park set between five lakes in a classic German health resort","Eutin Castle":"Water castle of the Holstein-Gottorp dynasty in a rose-garden park","Honister Pass":"England's steepest road pass, cutting through dramatic fell scenery","Hardknott Pass":"One of England's most challenging passes with 30% gradients","Windermere Lake":"England's largest natural lake with steamer cruises and lakeside inns","Bourton-on-the-Water":"Picture-perfect Cotswolds village with low stone bridges over the Windrush","Broadway Tower":"Folly tower on the Cotswolds escarpment with views to 13 counties","Chipping Campden":"Finest medieval wool town in the Cotswolds, with golden-stone market hall","Snake Pass Summit":"Wild moorland pass often closed by snow  dramatic open road driving","Ladybower Reservoir":"Site of the Dambusters trials, with drowned villages beneath the water","Mam Tor Viewpoint":"Shivering Mountain ridge with views over the Hope Valley","Rievaulx Abbey":"Atmospheric Cistercian abbey ruins set in a hidden wooded valley","Goathland Village":"Moorland village famous as 'Heartbeat' and Harry Potter filming location","Whitby Harbour":"Gothic harbour town with ruined abbey  inspiration for Dracula","Clovelly Village":"Privately owned fishing village tumbling steeply to the sea on cobbled lanes","Bude Sea Pool":"1930s tidal sea pool carved into the Atlantic rocks at Bude","Tintagel Castle":"Legendary cliff-top ruin said to be King Arthur's birthplace","Porthmeor Beach":"Surfers' beach right below St Ives' Tate gallery on the Atlantic coast","Land's End":"Britain's most south-westerly point  dramatic cliff-top finale","Penzance Harbour":"Ferry port for the Isles of Scilly with historic promenade gardens","Ditchling Beacon":"Highest point of the East Sussex Downs with views to the sea","Devil's Dyke":"Legendary V-shaped valley  the Devil's failed attempt to flood the Weald","Beachy Head":"England's highest chalk sea cliff with dramatic lighthouse views","Wroxham Broad":"Capital of the Broads  gateway to hundreds of miles of inland waterways","Horsey Windpump":"Historic drainage windmill with grey seal colonies on the nearby beach","Ranworth Church":"14th-century church with a tower offering views across the Broads","Buttertubs Pass":"Remote moorland pass named for limestone potholes along the roadside","Tan Hill Inn":"England's highest pub at 528m  essential stop on the Pennine Way","Ribblehead Viaduct":"24-arch Victorian railway viaduct striding across the open moorland","Ludlow Castle":"Impressive Norman castle in one of England's finest medieval towns","Long Mynd":"Ancient plateau with Iron Age trackways and gliding above the heather",Stiperstones:"Quartzite ridge with Arthurian legends and views to Wales","Beaulieu Motor Museum":"Home of the National Motor Museum and Palace House estate","Bolderwood Deer Sanctuary":"Ancient oak woodland where red deer gather at a daily feeding point","Lymington Quay":"Georgian harbour town with Solent views and sailing culture","Hubbard's Hills":"Victorian pleasure grounds in a chalk valley below the Wolds","Donington on Bain":"Quiet village at the heart of the chalk and flint Wolds landscape","Tetford Village":"Peaceful inn village in the Wolds, a resting place since coaching days","Long Mynd Burway":"Single-track road climbing the Burway to open heather moorland","Caer Caradoc":"Iron Age hillfort with legend ties to the Romano-British king Caractacus","Wenlock Edge":"Ancient limestone escarpment immortalised by A.E. Housman's poetry","Dartmoor Prison Museum":"Forbidding 1809 prison converted into a museum on the high moor","Haytor Rocks":"Massive granite tor rising from the high moor  Dartmoor's most iconic feature","Widecombe-in-the-Moor":"Cathedral of the moor  the village square hosts the famous annual fair","Henley Bridge":"Elegant 18th-century bridge at the start of the Royal Regatta reach","Turville Village":"Charming Chilterns village with a windmill perched on the hill above","Christmas Common":"Beech woodland clearing high on the Chilterns escarpment","Box Hill Viewpoint":"Surrey's most popular viewpoint above the Mole Gap  Tour de France stage finish","Leith Hill Tower":"Highest point in south-east England with views to the sea","Shere Village":"Surrey's prettiest village with a ford, stream and ancient church","Alnwick Castle":"Northumberland's great castle  location for the first Harry Potter films","Bamburgh Castle":"Towering royal fortress on a basalt crag above the North Sea beach","Holy Island Causeway":"Tidal causeway  timing is essential  leading to Lindisfarne","Glastonbury Tor":"Mystical hill crowned with St Michael's Tower  Arthurian heart of England","Wells Cathedral":"England's smallest city with a magnificent Gothic cathedral facade","Cheddar Gorge":"Britain's largest gorge  dramatic limestone cliffs rising 138 metres",Puzzlewood:"Ancient iron-mine forest  inspiration for Middle-earth according to Tolkien","Symonds Yat Rock":"Eagle-nesting viewpoint looping the meander of the river Wye below","Tintern Abbey":"Atmospheric Cistercian ruins in the wooded Wye Valley  Turner painted it here","The Needles":"Three chalk stacks tipped by a red-and-white striped lighthouse","Ventnor Esplanade":"Victorian spa resort on the sheltered south coast with Mediterranean microclimate","Sandown Bay":"Wide sandy bay framed by chalk cliffs  the island's sunniest spot"},V1=async(e,t)=>{var c,d,p,f;if(!e)return[];let i=[];if(e.legs&&e.legs.length>0)i.push({type:"start",name:"Start Point",details:e.startAddress||"Current Location",isCurrentLocation:!e.startAddress,coordinates:(c=e.coordinates)==null?void 0:c.start}),e.legs.forEach((g,_)=>{const y=_===e.legs.length-1,k=e.stops?e.stops[_]:{};i.push({type:y?"destination":"stop",name:y?e.destinationName||e.name:`Waypoint ${_+1}`,distanceFromPrev:g.distance,durationFromPrev:g.duration,...k,index:_})});else if(e.waypoints){i.push({type:"start",name:"Start Point",details:e.region||"Start",coordinates:(d=e.waypoints[0])==null?void 0:d.coordinates});let g=0;e.waypoints.forEach(j=>{const I=j.distanceKm?j.distanceKm*1e3:0,z=I-g;g=I,i.push({...j,type:"stop",name:j.name,details:j.description||H1[j.name]||null,distanceFromPrev:z>0?z:0})});const _=e.waypoints.length>0?(e.waypoints[e.waypoints.length-1].distanceKm||0)*1e3:0,y=(e.distance||0)*1e3,k=y>_?y-_:0;i.push({type:"destination",name:e.isLoop?"Return to Start":e.endName||e.name,details:e.isLoop?"Complete the loop back to the starting point":e.endRegion||e.region||null,distanceFromPrev:k})}else i.push({type:"start",name:"Start Point",details:"Current Location",isCurrentLocation:!0}),((p=e.stops)==null?void 0:p.length)>0&&e.stops.forEach(g=>{i.push({type:"stop",name:g.name,details:g.details||null})}),i.push({type:"destination",name:e.destinationName||e.name,details:e.destinationAddress||null,distanceFromPrev:(e.distance||0)*1e3});const o=i[0];if(o.isCurrentLocation&&t&&!e.startAddress){const g=await da(t.lat,t.lng);g&&(i[0]={...i[0],details:g,isCurrentLocation:!1})}else if(o.isCurrentLocation&&((f=e.coordinates)!=null&&f.start)&&!e.startAddress){const g=await da(e.coordinates.start.lat,e.coordinates.start.lng);g&&(i[0]={...i[0],details:g,isCurrentLocation:!1})}const l=i[i.length-1];if(!l.details&&e.destinationCoords){const g=await da(e.destinationCoords.lat,e.destinationCoords.lng);g&&(i[i.length-1]={...l,details:g})}return i},U1=e=>{if(!e)return"0 min";if(e<60)return`${e} min`;const t=Math.floor(e/60),i=e%60;return`${t}h ${i}min`},Z1=e=>e?e>=1e3?`${(e/1e3).toFixed(1)} km`:`${Math.round(e)} m`:"0 m",Fa=({route:e,onEdit:t,onCancelEdit:i,onSaveEdit:o,isEditing:l=!1,onStopUpdate:c,readOnly:d=!1,showStartButton:p=!1,showHeader:f=!0,onStartDrive:g,userLocation:_})=>{const[y,k]=S.useState(null),[j,I]=S.useState([]),[z,N]=S.useState([]);S.useEffect(()=>{(async()=>{if(!e)return;const M=await V1(e,_);I(M),l||N(M)})()},[e,_]),S.useEffect(()=>{l&&N([...j])},[l,j]);const x=(T,M)=>{const E=[...z];M==="up"&&T>0?[E[T],E[T-1]]=[E[T-1],E[T]]:M==="down"&&T<E.length-1&&([E[T],E[T+1]]=[E[T+1],E[T]]),N(E)},v=T=>{const M=z.filter((E,U)=>U!==T);N(M)},w=l?z:j;return e?s.jsxs("div",{className:"glass-panel",style:{padding:0,overflow:"hidden",display:"flex",flexDirection:"column"},children:[f&&s.jsx("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:16,fontWeight:700,color:"white",marginBottom:4},children:l?"Editing Route":e.name}),!l&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12,color:"var(--text-secondary)"},children:[s.jsx(Et,{size:12}),s.jsxs("span",{children:[e.distance,"km"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12,color:"var(--text-secondary)"},children:[s.jsx(Wn,{size:12}),s.jsx("span",{children:U1(e.duration)})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12,color:"var(--text-secondary)"},children:[s.jsx(id,{size:12}),s.jsxs("span",{children:[e.curvinessIndex||e.curviness||"-","/5"]})]})]})]}),!d&&(l?s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{onClick:i,style:{background:"rgba(255,255,255,0.05)",border:"none",borderRadius:8,padding:8,color:"var(--text-secondary)",cursor:"pointer"},children:s.jsx(Mt,{size:16})}),s.jsx("button",{onClick:()=>o(z),style:{background:"var(--primary-apex)",border:"none",borderRadius:8,padding:8,color:"white",cursor:"pointer"},children:s.jsx(rd,{size:16})})]}):t&&s.jsx("button",{onClick:t,style:{background:"rgba(255,255,255,0.05)",border:"none",borderRadius:8,padding:8,color:"var(--text-secondary)",cursor:"pointer"},children:s.jsx(T1,{size:16})}))]})}),s.jsxs("div",{className:"waypoint-timeline",style:{padding:"20px 20px 20px 36px"},children:[w.map((T,M)=>s.jsxs(Ai.Fragment,{children:[M>0&&s.jsx("div",{style:{paddingLeft:16,paddingBottom:12,paddingTop:4,marginLeft:-16,borderLeft:"2px solid rgba(255, 95, 31, 0.2)",fontSize:11,color:"var(--text-muted)",display:"flex",alignItems:"center",position:"relative",left:-7},children:s.jsx("span",{style:{background:"#1a1d24",padding:"2px 6px",borderRadius:4,marginLeft:8},children:l?"---":Z1(T.distanceFromPrev)})}),s.jsxs("div",{className:"waypoint-item",style:{marginLeft:-8,paddingRight:l?8:0},children:[s.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:T.type==="start"?"var(--primary-apex)":T.type==="destination"?"var(--sss-apex)":"#1a1d24",border:`2px solid ${T.type==="start"?"var(--primary-apex)":T.type==="destination"?"var(--sss-apex)":"white"}`,position:"absolute",left:-28,zIndex:2,top:4}}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{children:[s.jsx("div",{className:"waypoint-name",style:{fontSize:14,fontWeight:600},children:T.name}),s.jsx("div",{className:"waypoint-type",style:{fontSize:12,color:"var(--text-muted)"},children:T.details||(T.type==="start"?"Start Point":T.type==="destination"?"Destination":"Stop")})]}),!d&&(l?s.jsxs("div",{style:{display:"flex",gap:4},children:[s.jsx("button",{onClick:()=>x(M,"up"),disabled:M===0,style:{background:"none",border:"none",color:M===0?"rgba(255,255,255,0.1)":"var(--text-secondary)",cursor:M===0?"default":"pointer",padding:4},children:s.jsx(p1,{size:16})}),s.jsx("button",{onClick:()=>x(M,"down"),disabled:M===w.length-1,style:{background:"none",border:"none",color:M===w.length-1?"rgba(255,255,255,0.1)":"var(--text-secondary)",cursor:M===w.length-1?"default":"pointer",padding:4},children:s.jsx(h1,{size:16})}),s.jsx("button",{onClick:()=>v(M),style:{background:"none",border:"none",color:"var(--sss-danger)",cursor:"pointer",padding:4,marginLeft:8},children:s.jsx(fi,{size:16})})]}):T.type==="stop"&&s.jsx("button",{onClick:()=>k(y===M?null:M),style:{background:"none",border:"none",color:T.description||T.photos?"var(--primary-apex)":"var(--text-muted)",cursor:"pointer",padding:4},children:y===M?s.jsx(g1,{size:16}):T.description||T.photos?s.jsx(j1,{size:16}):s.jsx(In,{size:16})}))]}),!l&&y===M&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"rgba(255,255,255,0.03)",borderRadius:8,border:"1px solid rgba(255,255,255,0.06)"},children:[s.jsx("textarea",{placeholder:"What's happening here? (e.g. Lunch break)",value:T.description||"",onChange:E=>c&&c(T.index,{description:E.target.value}),style:{width:"100%",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,padding:8,color:"white",fontSize:13,fontFamily:"inherit",resize:"vertical",minHeight:60}}),s.jsx("div",{style:{marginTop:8,display:"flex",gap:8},children:s.jsxs("button",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12,fontWeight:600,background:"rgba(255,255,255,0.05)",border:"1px dashed rgba(255,255,255,0.2)",color:"var(--text-secondary)",padding:"6px 10px",borderRadius:6,cursor:"pointer"},children:[s.jsx(no,{size:14})," Add Photo"]})})]})]})]})]},M)),l&&s.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:16},children:s.jsxs("button",{onClick:async()=>{if(onAddStop){const T=await onAddStop();T&&N(M=>[...M,T])}},style:{display:"flex",alignItems:"center",gap:6,fontSize:13,fontWeight:600,background:"rgba(255,95,31,0.1)",border:"1px dashed var(--primary-apex)",color:"var(--primary-apex)",padding:"10px 20px",borderRadius:8,cursor:"pointer",width:"100%",justifyContent:"center"},children:[s.jsx(In,{size:16})," Add Stop"]})})]}),p&&!l&&s.jsx("div",{style:{padding:20,paddingTop:0},children:s.jsxs("button",{onClick:g,className:"btn-primary",style:{width:"100%",justifyContent:"center",height:48},children:[s.jsx(Et,{size:18,style:{marginRight:8}})," Start Navigation"]})})]}):null},G1=e=>{if(!e)return"0 min";if(e<60)return`${e} min`;const t=Math.floor(e/60),i=e%60;return`${t}h ${i}min`},K1=({route:e,routes:t,onSelectRoute:i,onStart:o,onCancel:l,onConvoy:c,onAddStop:d,userLocation:p})=>{const[f,g]=S.useState(!1),[_,y]=S.useState(null),[k,j]=S.useState(!1),[I,z]=S.useState(""),[N,x]=S.useState([]),[v,w]=S.useState(!1);S.useEffect(()=>{if(!I||I.length<3){x([]);return}w(!0);const A=setTimeout(async()=>{const te=await Vr(I,5);x(te),w(!1)},350);return()=>clearTimeout(A)},[I]);const T=A=>{d==null||d(A),j(!1),z(""),x([])},M=()=>{j(!1),z(""),x([])},E=A=>{y(A.touches[0].clientY)},U=A=>{if(!_)return;const te=A.touches[0].clientY,Y=_-te;Y>50&&!f?(g(!0),y(null)):Y<-50&&f&&(g(!1),y(null))},O=()=>{y(null)};if(!e)return null;e.curvinessIndex||e.id&&e.id.charCodeAt(0)%5+1;const V=e.image||`https://picsum.photos/seed/${e.destinationName||"route"}/800/400`;return s.jsxs("div",{className:"glass-sheet",onTouchStart:E,onTouchMove:U,onTouchEnd:O,style:{position:"absolute",bottom:0,left:0,right:0,width:"100%",maxWidth:"none",height:f?"92vh":"400px",transition:"height 0.35s cubic-bezier(0.16, 1, 0.3, 1)",zIndex:"var(--z-panel)",borderTopLeftRadius:24,borderTopRightRadius:24,display:"flex",flexDirection:"column",overflow:"hidden",animation:"slideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1)",boxShadow:"0 -8px 32px rgba(0,0,0,0.4)",pointerEvents:"auto"},children:[s.jsxs("div",{style:{position:"relative",height:140,flexShrink:0,cursor:"pointer"},onClick:()=>g(!f),children:[s.jsx("img",{src:V,alt:e.destinationName,style:{width:"100%",height:"100%",objectFit:"cover"},onError:A=>{A.target.style.display="none",A.target.parentElement.style.background="linear-gradient(135deg, #1a1d24, #2c3e50)"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 40%, rgba(20, 24, 32, 1) 100%)"}}),s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("div",{style:{width:40,height:4,borderRadius:2,background:"rgba(255,255,255,0.4)"}})}),s.jsx("button",{onClick:A=>{A.stopPropagation(),l()},style:{position:"absolute",top:12,left:12,zIndex:30,background:"rgba(0,0,0,0.4)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",backdropFilter:"blur(4px)"},children:s.jsx(Rn,{size:18})})]}),s.jsxs("div",{style:{padding:"0 20px 0",flex:1,display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:14},children:s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:22,fontWeight:800,lineHeight:1.1,marginBottom:4},className:"truncate-2",children:e.destinationName}),e.destinationAddress&&s.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)"},children:e.destinationAddress})]})}),t&&t.length>1&&s.jsx("div",{style:{display:"flex",gap:10,overflowX:"auto",paddingBottom:10,marginBottom:10},className:"no-scrollbar",children:t.map((A,te)=>{const Y=A.id===e.id;return s.jsxs("div",{onClick:()=>i&&i(A),style:{minWidth:100,padding:"10px 12px",background:Y?"rgba(255, 95, 31, 0.15)":"rgba(255,255,255,0.05)",border:Y?"1px solid var(--primary-apex)":"1px solid rgba(255,255,255,0.1)",borderRadius:12,cursor:"pointer",opacity:Y?1:.6,display:"flex",flexDirection:"column",gap:4},children:[s.jsx("span",{style:{fontSize:12,fontWeight:700,color:Y?"var(--primary-apex)":"var(--text-secondary)"},children:A.label||(te===0?"Fastest":`Option ${te+1}`)}),s.jsx("span",{style:{fontSize:15,fontWeight:700,color:"white"},children:G1(A.duration)}),s.jsxs("span",{style:{fontSize:12,color:"var(--text-secondary)"},children:[A.distance," km"]})]},A.id||te)})}),k?s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8,background:"rgba(255,255,255,0.07)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:10,padding:"8px 12px"},children:[s.jsx(Vi,{size:14,color:"var(--text-muted)"}),s.jsx("input",{autoFocus:!0,value:I,onChange:A=>z(A.target.value),placeholder:"Search for a stop...",style:{flex:1,background:"none",border:"none",outline:"none",color:"white",fontSize:13,fontFamily:"inherit"}}),v&&s.jsx("div",{style:{width:12,height:12,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.7s linear infinite",flexShrink:0}})]}),s.jsx("button",{onClick:M,style:{background:"rgba(255,255,255,0.06)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",cursor:"pointer",flexShrink:0},children:s.jsx(Mt,{size:15})})]}),N.length>0&&s.jsx("div",{style:{background:"rgba(20,20,20,0.95)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:10,overflow:"hidden"},children:N.map((A,te)=>s.jsxs("button",{onClick:()=>T(A),style:{width:"100%",display:"flex",alignItems:"center",gap:10,padding:"10px 12px",background:"none",border:"none",borderBottom:te<N.length-1?"1px solid rgba(255,255,255,0.06)":"none",color:"white",cursor:"pointer",textAlign:"left"},onMouseEnter:Y=>Y.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:Y=>Y.currentTarget.style.background="none",children:[s.jsx(on,{size:14,color:"var(--primary-apex)",flexShrink:0}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:13,fontWeight:600},children:A.name}),A.details&&s.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:A.details})]})]},A.id||te))})]}):s.jsxs("button",{onClick:()=>j(!0),style:{display:"flex",alignItems:"center",gap:6,background:"rgba(255,255,255,0.05)",border:"1px dashed rgba(255,255,255,0.2)",borderRadius:10,padding:"8px 14px",color:"var(--text-secondary)",fontSize:13,fontWeight:600,cursor:"pointer",marginBottom:12,alignSelf:"flex-start"},children:[s.jsx(In,{size:15})," Add stop"]}),!f&&s.jsxs("div",{style:{padding:"10px 0 20px",display:"flex",gap:10,alignItems:"center"},children:[s.jsxs("button",{onClick:o,className:"btn-primary",style:{flex:2,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:15,fontWeight:700},children:[s.jsx(Et,{size:16}),s.jsx("span",{children:"Start Navigation"})]}),s.jsxs("button",{onClick:c,className:"btn-glass",style:{flex:1,padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:14,fontWeight:600},children:[s.jsx(st,{size:16})," Create convoy"]})]}),s.jsxs("div",{style:{flex:1,overflowY:"auto",paddingBottom:20,minHeight:0},className:"no-scrollbar",children:[s.jsx(Fa,{route:e,userLocation:p,showHeader:!0}),s.jsxs("div",{style:{padding:"0 20px 0"},children:[s.jsx("div",{style:{fontSize:13,fontWeight:700,color:"var(--text-secondary)",marginBottom:12,textTransform:"uppercase",letterSpacing:.5},children:"Route Details"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:24},children:[e.surface&&s.jsxs("div",{className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.03)"},children:[s.jsx("h4",{style:{fontSize:11,fontWeight:700,color:"var(--text-secondary)",marginBottom:8,textTransform:"uppercase"},children:"Surface"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:Object.entries(e.surface).map(([A,te])=>te>0&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("div",{style:{flex:1,textTransform:"capitalize"},children:A}),s.jsxs("div",{style:{fontWeight:700,color:"var(--primary-apex)"},children:[te,"%"]})]},A))})]}),e.hazards&&s.jsxs("div",{className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.03)"},children:[s.jsx("h4",{style:{fontSize:11,fontWeight:700,color:"var(--text-secondary)",marginBottom:8,textTransform:"uppercase"},children:"Alerts"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("span",{style:{color:e.hazards.potholes>0?"#ff4444":"var(--text-muted)"},children:""}),s.jsxs("span",{style:{color:e.hazards.potholes>0?"white":"var(--text-muted)"},children:["Potholes: ",e.hazards.potholes>0?"Yes":"None"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("span",{style:{color:e.hazards.speedHumps>0?"#ffbb33":"var(--text-muted)"},children:""}),s.jsxs("span",{style:{color:e.hazards.speedHumps>0?"white":"var(--text-muted)"},children:["Speed Humps: ",e.hazards.speedHumps]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("span",{style:{color:e.hazards.unpaved>0?"#ffbb33":"var(--text-muted)"},children:""}),s.jsxs("span",{style:{color:e.hazards.unpaved>0?"white":"var(--text-muted)"},children:["Unpaved: ",e.hazards.unpaved>0?"Yes":"None"]})]})]})]})]}),e.elevation&&s.jsxs("div",{style:{marginBottom:24,padding:"0 4px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-secondary)",marginBottom:6},children:[s.jsx("span",{children:"Elevation Gain"}),s.jsxs("span",{style:{color:"white",fontWeight:700},children:["+",e.elevation.gain,"m"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-secondary)"},children:[s.jsx("span",{children:"Max Gradient"}),s.jsxs("span",{style:{color:"white",fontWeight:700},children:[e.elevation.maxGradient,"%"]})]})]})]})]}),f&&s.jsxs("div",{style:{padding:"0 0 20px",display:"flex",gap:10,alignItems:"center",marginTop:"auto",flexShrink:0},children:[s.jsxs("button",{onClick:o,className:"btn-primary",style:{flex:2,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:15,fontWeight:700},children:[s.jsx(Et,{size:16}),s.jsx("span",{children:"Start Navigation"})]}),s.jsxs("button",{onClick:c,className:"btn-glass",style:{flex:1,padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:14,fontWeight:600},children:[s.jsx(st,{size:16})," Create convoy"]})]})]})]})},$1=e=>{const t=new Date;return new Date(t.getTime()+e*6e4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Y1=e=>{if(!e)return"0 min";if(e<60)return`${e} min`;const t=Math.floor(e/60),i=e%60;return`${t}h ${i}min`},q1=({route:e,onEndDrive:t,onAddStop:i,style:o,showControls:l=!0})=>{const c={street:"Main Street",distance:"200 m",icon:s.jsx(Cm,{size:32,color:"white"})};return s.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:"var(--z-overlay)",pointerEvents:"none"},children:[s.jsxs("div",{className:"glass-panel",style:{position:"absolute",top:20,left:20,pointerEvents:"auto",padding:16,borderRadius:20,background:"rgba(20, 20, 20, 0.95)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",display:"flex",gap:16,alignItems:"center",maxWidth:360,width:"100%"},children:[s.jsx("div",{style:{width:56,height:56,borderRadius:16,background:"var(--primary-apex)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 16px rgba(255, 95, 31, 0.4)"},children:c.icon}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:28,fontWeight:800,color:"white",lineHeight:1,marginBottom:4},children:c.distance}),s.jsx("div",{style:{fontSize:18,fontWeight:700,color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.street})]}),s.jsx("button",{onClick:t,style:{position:"absolute",top:12,right:12,width:24,height:24,borderRadius:"50%",background:"rgba(255,255,255,0.1)",border:"none",color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Mt,{size:14})})]}),s.jsx("div",{style:{position:"absolute",bottom:120,left:20,pointerEvents:l?"auto":"none",zIndex:10,opacity:l?1:0,transition:"opacity 0.3s ease"},children:s.jsx("button",{onClick:i,style:{width:48,height:48,borderRadius:"50%",background:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.15)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",cursor:"pointer"},children:s.jsx(Vi,{size:24})})}),s.jsxs("div",{className:"glass-panel",style:{position:"absolute",bottom:40,left:20,pointerEvents:"auto",padding:"12px 20px",borderRadius:16,background:"rgba(20, 20, 20, 0.85)",backdropFilter:"blur(12px)",display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:360,width:"100%",border:"1px solid rgba(255,255,255,0.05)"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:20,fontWeight:800,color:"#00e676"},children:Y1(e.duration)}),s.jsx("span",{style:{fontSize:11,color:"var(--text-secondary)",fontWeight:600},children:"Remaining"})]}),s.jsx("div",{style:{width:1,height:24,background:"rgba(255,255,255,0.1)"}}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:18,fontWeight:700,color:"white"},children:$1(e.duration)}),s.jsx("span",{style:{fontSize:11,color:"var(--text-secondary)",fontWeight:600},children:"ETA"})]}),s.jsx("div",{style:{width:1,height:24,background:"rgba(255,255,255,0.1)"}}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsxs("span",{style:{fontSize:18,fontWeight:700,color:"white"},children:[e.distance," km"]}),s.jsx("span",{style:{fontSize:11,color:"var(--text-secondary)",fontWeight:600},children:"Distance"})]})]})]})};function Q1(e,t){const i=S.useRef(t);S.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}function X1(e,t,i){t.center!==i.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==i.radius&&e.setRadius(t.radius)}const J1=1;function ev(e){return Object.freeze({__version:J1,map:e})}function od(e,t){return Object.freeze({...e,...t})}const Lm=S.createContext(null),Im=Lm.Provider;function ad(){const e=S.useContext(Lm);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Em(e){function t(i,o){const{instance:l,context:c}=e(i).current;return S.useImperativeHandle(o,()=>l),i.children==null?null:Ai.createElement(Im,{value:c},i.children)}return S.forwardRef(t)}function tv(e){function t(i,o){const{instance:l}=e(i).current;return S.useImperativeHandle(o,()=>l),null}return S.forwardRef(t)}function Mm(e,t){const i=S.useRef();S.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function ld(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}var iu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(Ag,function(i){var o="1.9.4";function l(n){var r,a,u,h;for(a=1,u=arguments.length;a<u;a++){h=arguments[a];for(r in h)n[r]=h[r]}return n}var c=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function d(n,r){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var u=a.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(a.call(arguments)):arguments)}}var p=0;function f(n){return"_leaflet_id"in n||(n._leaflet_id=++p),n._leaflet_id}function g(n,r,a){var u,h,m,b;return b=function(){u=!1,h&&(m.apply(a,h),h=!1)},m=function(){u?h=arguments:(n.apply(a,arguments),setTimeout(b,r),u=!0)},m}function _(n,r,a){var u=r[1],h=r[0],m=u-h;return n===u&&a?n:((n-h)%m+m)%m+h}function y(){return!1}function k(n,r){if(r===!1)return n;var a=Math.pow(10,r===void 0?6:r);return Math.round(n*a)/a}function j(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function I(n){return j(n).split(/\s+/)}function z(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?c(n.options):{});for(var a in r)n.options[a]=r[a];return n.options}function N(n,r,a){var u=[];for(var h in n)u.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function v(n,r){return n.replace(x,function(a,u){var h=r[u];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(r)),h})}var w=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function T(n,r){for(var a=0;a<n.length;a++)if(n[a]===r)return a;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var U=0;function O(n){var r=+new Date,a=Math.max(0,16-(r-U));return U=r+a,window.setTimeout(n,a)}var V=window.requestAnimationFrame||E("RequestAnimationFrame")||O,A=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function te(n,r,a){if(a&&V===O)n.call(r);else return V.call(window,d(n,r))}function Y(n){n&&A.call(window,n)}var X={__proto__:null,extend:l,create:c,bind:d,get lastId(){return p},stamp:f,throttle:g,wrapNum:_,falseFn:y,formatNum:k,trim:j,splitWords:I,setOptions:z,getParamString:N,template:v,isArray:w,indexOf:T,emptyImageUrl:M,requestFn:V,cancelFn:A,requestAnimFrame:te,cancelAnimFrame:Y};function Q(){}Q.extend=function(n){var r=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,u=c(a);u.constructor=r,r.prototype=u;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(r[h]=this[h]);return n.statics&&l(r,n.statics),n.includes&&(me(n.includes),l.apply(null,[u].concat(n.includes))),l(u,n),delete u.statics,delete u.includes,u.options&&(u.options=a.options?c(a.options):{},l(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,b=u._initHooks.length;m<b;m++)u._initHooks[m].call(this)}},r},Q.include=function(n){var r=this.prototype.options;return l(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},Q.mergeOptions=function(n){return l(this.prototype.options,n),this},Q.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function me(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=w(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ve={on:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=I(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a)}return this},off:function(n,r,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=I(n);for(var h=arguments.length===1,m=0,b=n.length;m<b;m++)h?this._off(n[m]):this._off(n[m],r,a)}return this},_on:function(n,r,a,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,a)===!1){a===this&&(a=void 0);var h={fn:r,ctx:a};u&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,r,a){var u,h,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(h=0,m=u.length;h<m;h++)u[h].fn=y;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var b=this._listens(n,r,a);if(b!==!1){var P=u[b];this._firingCount&&(P.fn=y,this._events[n]=u=u.slice()),u.splice(b,1)}}},fire:function(n,r,a){if(!this.listens(n,a))return this;var u=l({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,b=h.length;m<b;m++){var P=h[m],R=P.fn;P.once&&this.off(n,R,P.ctx),R.call(P.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(n,r,a,u){typeof n!="string"&&console.warn('"string" type argument expected');var h=r;typeof r!="function"&&(u=!!r,h=void 0,a=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,h,a)!==!1)return!0;if(u){for(var b in this._eventParents)if(this._eventParents[b].listens(n,r,a,u))return!0}return!1},_listens:function(n,r,a){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;a===this&&(a=void 0);for(var h=0,m=u.length;h<m;h++)if(u[h].fn===r&&u[h].ctx===a)return h;return!1},once:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=I(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[f(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[f(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,l({layer:n.target,propagatedFrom:n.target},n),!0)}};ve.addEventListener=ve.on,ve.removeEventListener=ve.clearAllEventListeners=ve.off,ve.addOneTimeEventListener=ve.once,ve.fireEvent=ve.fire,ve.hasEventListeners=ve.listens;var Ae=Q.extend(ve);function B(n,r,a){this.x=a?Math.round(n):n,this.y=a?Math.round(r):r}var K=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(n){return this.clone()._add(D(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(D(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new B(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new B(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(n){n=D(n);var r=n.x-this.x,a=n.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(n){return n=D(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=D(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function D(n,r,a){return n instanceof B?n:w(n)?new B(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new B(n.x,n.y):new B(n,r,a)}function re(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}re.prototype={extend:function(n){var r,a;if(!n)return this;if(n instanceof B||typeof n[0]=="number"||"x"in n)r=a=D(n);else if(n=ge(n),r=n.min,a=n.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,a;return typeof n[0]=="number"||n instanceof B?n=D(n):n=ge(n),n instanceof re?(r=n.min,a=n.max):r=a=n,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=ge(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>=r.x&&u.x<=a.x,b=h.y>=r.y&&u.y<=a.y;return m&&b},overlaps:function(n){n=ge(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>r.x&&u.x<a.x,b=h.y>r.y&&u.y<a.y;return m&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,a=this.max,u=Math.abs(r.x-a.x)*n,h=Math.abs(r.y-a.y)*n;return ge(D(r.x-u,r.y-h),D(a.x+u,a.y+h))},equals:function(n){return n?(n=ge(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ge(n,r){return!n||n instanceof re?n:new re(n,r)}function Pe(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}Pe.prototype={extend:function(n){var r=this._southWest,a=this._northEast,u,h;if(n instanceof pe)u=n,h=n;else if(n instanceof Pe){if(u=n._southWest,h=n._northEast,!u||!h)return this}else return n?this.extend(oe(n)||_e(n)):this;return!r&&!a?(this._southWest=new pe(u.lat,u.lng),this._northEast=new pe(h.lat,h.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(n){var r=this._southWest,a=this._northEast,u=Math.abs(r.lat-a.lat)*n,h=Math.abs(r.lng-a.lng)*n;return new Pe(new pe(r.lat-u,r.lng-h),new pe(a.lat+u,a.lng+h))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof pe||"lat"in n?n=oe(n):n=_e(n);var r=this._southWest,a=this._northEast,u,h;return n instanceof Pe?(u=n.getSouthWest(),h=n.getNorthEast()):u=h=n,u.lat>=r.lat&&h.lat<=a.lat&&u.lng>=r.lng&&h.lng<=a.lng},intersects:function(n){n=_e(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>=r.lat&&u.lat<=a.lat,b=h.lng>=r.lng&&u.lng<=a.lng;return m&&b},overlaps:function(n){n=_e(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>r.lat&&u.lat<a.lat,b=h.lng>r.lng&&u.lng<a.lng;return m&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=_e(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(n,r){return n instanceof Pe?n:new Pe(n,r)}function pe(n,r,a){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,a!==void 0&&(this.alt=+a)}pe.prototype={equals:function(n,r){if(!n)return!1;n=oe(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return lt.distance(this,oe(n))},wrap:function(){return lt.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,a=r/Math.cos(Math.PI/180*this.lat);return _e([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function oe(n,r,a){return n instanceof pe?n:w(n)&&typeof n[0]!="object"?n.length===3?new pe(n[0],n[1],n[2]):n.length===2?new pe(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new pe(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new pe(n,r,a)}var Fe={latLngToPoint:function(n,r){var a=this.projection.project(n),u=this.scale(r);return this.transformation._transform(a,u)},pointToLatLng:function(n,r){var a=this.scale(r),u=this.transformation.untransform(n,a);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(n),u=this.transformation.transform(r.min,a),h=this.transformation.transform(r.max,a);return new re(u,h)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?_(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?_(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new pe(a,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),a=this.wrapLatLng(r),u=r.lat-a.lat,h=r.lng-a.lng;if(u===0&&h===0)return n;var m=n.getSouthWest(),b=n.getNorthEast(),P=new pe(m.lat-u,m.lng-h),R=new pe(b.lat-u,b.lng-h);return new Pe(P,R)}},lt=l({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var a=Math.PI/180,u=n.lat*a,h=r.lat*a,m=Math.sin((r.lat-n.lat)*a/2),b=Math.sin((r.lng-n.lng)*a/2),P=m*m+Math.cos(u)*Math.cos(h)*b*b,R=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*R}}),de=6378137,Ie={R:de,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,n.lat),-a),h=Math.sin(u*r);return new B(this.R*n.lng*r,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var r=180/Math.PI;return new pe((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=de*Math.PI;return new re([-n,-n],[n,n])}()};function Oe(n,r,a,u){if(w(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=a,this._d=u}Oe.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new B((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function Hn(n,r,a,u){return new Oe(n,r,a,u)}var ct=l({},lt,{code:"EPSG:3857",projection:Ie,transformation:function(){var n=.5/(Math.PI*Ie.R);return Hn(n,.5,-n,.5)}()}),$=l({},ct,{code:"EPSG:900913"});function an(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function _i(n,r){var a="",u,h,m,b,P,R;for(u=0,m=n.length;u<m;u++){for(P=n[u],h=0,b=P.length;h<b;h++)R=P[h],a+=(h?"L":"M")+R.x+" "+R.y;a+=r?ne.svg?"z":"x":""}return a||"M0 0"}var ln=document.documentElement.style,G="ActiveXObject"in window,ye=G&&!document.addEventListener,Z="msLaunchUri"in navigator&&!("documentMode"in document),ce=Xe("webkit"),se=Xe("android"),Se=Xe("android 2")||Xe("android 3"),lo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gi=se&&Xe("Google")&&lo<537&&!("AudioNode"in window),Zr=!!window.opera,co=!Z&&Xe("chrome"),Vn=Xe("gecko")&&!ce&&!Zr&&!G,Gr=!co&&Xe("safari"),ut=Xe("phantom"),wn="OTransition"in ln,Kr=navigator.platform.indexOf("Win")===0,Ki=G&&"transition"in ln,wi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,$r="MozPerspective"in ln,Yr=!window.L_DISABLE_3D&&(Ki||wi||$r)&&!wn&&!ut,Un=typeof orientation<"u"||Xe("mobile"),bi=Un&&ce,$i=Un&&wi,cn=!window.PointerEvent&&window.MSPointerEvent,Si=!!(window.PointerEvent||cn),uo="ontouchstart"in window||!!window.TouchEvent,nl=!window.L_NO_TOUCH&&(uo||Si),il=Un&&Zr,ho=Un&&Vn,Zn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,be=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",y,r),window.removeEventListener("testPassiveEventSupport",y,r)}catch{}return n}(),wt=function(){return!!document.createElement("canvas").getContext}(),$t=!!(document.createElementNS&&an("svg").createSVGRect),dt=!!$t&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qr=!$t&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Qr=navigator.platform.indexOf("Mac")===0,rl=navigator.platform.indexOf("Linux")===0;function Xe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ne={ie:G,ielt9:ye,edge:Z,webkit:ce,android:se,android23:Se,androidStock:Gi,opera:Zr,chrome:co,gecko:Vn,safari:Gr,phantom:ut,opera12:wn,win:Kr,ie3d:Ki,webkit3d:wi,gecko3d:$r,any3d:Yr,mobile:Un,mobileWebkit:bi,mobileWebkit3d:$i,msPointer:cn,pointer:Si,touch:nl,touchNative:uo,mobileOpera:il,mobileGecko:ho,retina:Zn,passiveEvents:be,canvas:wt,svg:$t,vml:qr,inlineSvg:dt,mac:Qr,linux:rl},Xr=ne.msPointer?"MSPointerDown":"pointerdown",Jr=ne.msPointer?"MSPointerMove":"pointermove",po=ne.msPointer?"MSPointerUp":"pointerup",Yi=ne.msPointer?"MSPointerCancel":"pointercancel",qi={touchstart:Xr,touchmove:Jr,touchend:po,touchcancel:Yi},es={touchstart:ki,touchmove:un,touchend:un,touchcancel:un},nt={},ts=!1;function sl(n,r,a){return r==="touchstart"&&Gn(),es[r]?(a=es[r].bind(this,a),n.addEventListener(qi[r],a,!1),a):(console.warn("wrong event specified:",r),y)}function fo(n,r,a){if(!qi[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(qi[r],a,!1)}function ol(n){nt[n.pointerId]=n}function bt(n){nt[n.pointerId]&&(nt[n.pointerId]=n)}function mo(n){delete nt[n.pointerId]}function Gn(){ts||(document.addEventListener(Xr,ol,!0),document.addEventListener(Jr,bt,!0),document.addEventListener(po,mo,!0),document.addEventListener(Yi,mo,!0),ts=!0)}function un(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in nt)r.touches.push(nt[a]);r.changedTouches=[r],n(r)}}function ki(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&it(r),un(n,r)}function al(n){var r={},a,u;for(u in n)a=n[u],r[u]=a&&a.bind?a.bind(n):a;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var ll=200;function cl(n,r){n.addEventListener("dblclick",r);var a=0,u;function h(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var b=hd(m);if(!(b.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!b.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var P=Date.now();P-a<=ll?(u++,u===2&&r(al(m))):u=1,a=P}}}return n.addEventListener("click",h),{dblclick:r,simDblclick:h}}function ul(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var ns=qn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ji=qn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qi=ji==="webkitTransition"||ji==="OTransition"?ji+"End":"transitionend";function St(n){return typeof n=="string"?document.getElementById(n):n}function Kn(n,r){var a=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);a=u?u[r]:null}return a==="auto"?null:a}function ke(n,r,a){var u=document.createElement(n);return u.className=r||"",a&&a.appendChild(u),u}function ze(n){var r=n.parentNode;r&&r.removeChild(n)}function Xi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function $n(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Yn(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function is(n,r){if(n.classList!==void 0)return n.classList.contains(r);var a=Ji(n);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function ue(n,r){if(n.classList!==void 0)for(var a=I(r),u=0,h=a.length;u<h;u++)n.classList.add(a[u]);else if(!is(n,r)){var m=Ji(n);rs(n,(m?m+" ":"")+r)}}function De(n,r){n.classList!==void 0?n.classList.remove(r):rs(n,j((" "+Ji(n)+" ").replace(" "+r+" "," ")))}function rs(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Ji(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function kt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&ss(n,r)}function ss(n,r){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function qn(n){for(var r=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in r)return n[a];return!1}function bn(n,r,a){var u=r||new B(0,0);n.style[ns]=(ne.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function Ue(n,r){n._leaflet_pos=r,ne.any3d?bn(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function dn(n){return n._leaflet_pos||new B(0,0)}var C,W,ae;if("onselectstart"in document)C=function(){he(window,"selectstart",it)},W=function(){Ee(window,"selectstart",it)};else{var J=qn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);C=function(){if(J){var n=document.documentElement.style;ae=n[J],n[J]="none"}},W=function(){J&&(document.documentElement.style[J]=ae,ae=void 0)}}function fe(){he(window,"dragstart",it)}function je(){Ee(window,"dragstart",it)}var Ge,Yt;function jt(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Sn(),Ge=n,Yt=n.style.outlineStyle,n.style.outlineStyle="none",he(window,"keydown",Sn))}function Sn(){Ge&&(Ge.style.outlineStyle=Yt,Ge=void 0,Yt=void 0,Ee(window,"keydown",Sn))}function dl(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function er(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Vm={__proto__:null,TRANSFORM:ns,TRANSITION:ji,TRANSITION_END:Qi,get:St,getStyle:Kn,create:ke,remove:ze,empty:Xi,toFront:$n,toBack:Yn,hasClass:is,addClass:ue,removeClass:De,setClass:rs,getClass:Ji,setOpacity:kt,testProp:qn,setTransform:bn,setPosition:Ue,getPosition:dn,get disableTextSelection(){return C},get enableTextSelection(){return W},disableImageDrag:fe,enableImageDrag:je,preventOutline:jt,restoreOutline:Sn,getSizedParentNode:dl,getScale:er};function he(n,r,a,u){if(r&&typeof r=="object")for(var h in r)pl(n,h,r[h],a);else{r=I(r);for(var m=0,b=r.length;m<b;m++)pl(n,r[m],a,u)}return this}var hn="_leaflet_events";function Ee(n,r,a,u){if(arguments.length===1)dd(n),delete n[hn];else if(r&&typeof r=="object")for(var h in r)fl(n,h,r[h],a);else if(r=I(r),arguments.length===2)dd(n,function(P){return T(r,P)!==-1});else for(var m=0,b=r.length;m<b;m++)fl(n,r[m],a,u);return this}function dd(n,r){for(var a in n[hn]){var u=a.split(/\d/)[0];(!r||r(u))&&fl(n,u,null,null,a)}}var hl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pl(n,r,a,u){var h=r+f(a)+(u?"_"+f(u):"");if(n[hn]&&n[hn][h])return this;var m=function(P){return a.call(u||n,P||window.event)},b=m;!ne.touchNative&&ne.pointer&&r.indexOf("touch")===0?m=sl(n,r,m):ne.touch&&r==="dblclick"?m=cl(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(hl[r]||r,m,ne.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(P){P=P||window.event,gl(n,P)&&b(P)},n.addEventListener(hl[r],m,!1)):n.addEventListener(r,b,!1):n.attachEvent("on"+r,m),n[hn]=n[hn]||{},n[hn][h]=m}function fl(n,r,a,u,h){h=h||r+f(a)+(u?"_"+f(u):"");var m=n[hn]&&n[hn][h];if(!m)return this;!ne.touchNative&&ne.pointer&&r.indexOf("touch")===0?fo(n,r,m):ne.touch&&r==="dblclick"?ul(n,m):"removeEventListener"in n?n.removeEventListener(hl[r]||r,m,!1):n.detachEvent("on"+r,m),n[hn][h]=null}function Ci(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function ml(n){return pl(n,"wheel",Ci),this}function os(n){return he(n,"mousedown touchstart dblclick contextmenu",Ci),n._leaflet_disable_click=!0,this}function it(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function zi(n){return it(n),Ci(n),this}function hd(n){if(n.composedPath)return n.composedPath();for(var r=[],a=n.target;a;)r.push(a),a=a.parentNode;return r}function pd(n,r){if(!r)return new B(n.clientX,n.clientY);var a=er(r),u=a.boundingClientRect;return new B((n.clientX-u.left)/a.x-r.clientLeft,(n.clientY-u.top)/a.y-r.clientTop)}var Um=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fd(n){return ne.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Um:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function gl(n,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var Zm={__proto__:null,on:he,off:Ee,stopPropagation:Ci,disableScrollPropagation:ml,disableClickPropagation:os,preventDefault:it,stop:zi,getPropagationPath:hd,getMousePosition:pd,getWheelDelta:fd,isExternalTarget:gl,addListener:he,removeListener:Ee},md=Ae.extend({run:function(n,r,a,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=dn(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var a=this._startPos.add(this._offset.multiplyBy(n));r&&a._round(),Ue(this._el,a),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ce=Ae.extend({options:{crs:ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=z(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(oe(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ji&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,Qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(oe(n),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=l({animate:a.animate},a.zoom),a.pan=l({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,a.zoom):this._tryAnimatedPan(n,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,a){var u=this.getZoomScale(r),h=this.getSize().divideBy(2),m=n instanceof B?n:this.latLngToContainerPoint(n),b=m.subtract(h).multiplyBy(1-1/u),P=this.containerPointToLatLng(h.add(b));return this.setView(P,r,{zoom:a})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():_e(n);var a=D(r.paddingTopLeft||r.padding||[0,0]),u=D(r.paddingBottomRight||r.padding||[0,0]),h=this.getBoundsZoom(n,!1,a.add(u));if(h=typeof r.maxZoom=="number"?Math.min(r.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var m=u.subtract(a).divideBy(2),b=this.project(n.getSouthWest(),h),P=this.project(n.getNorthEast(),h),R=this.unproject(b.add(P).divideBy(2).add(m),h);return{center:R,zoom:h}},fitBounds:function(n,r){if(n=_e(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=D(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new md,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){ue(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,a){if(a=a||{},a.animate===!1||!ne.any3d)return this.setView(n,r,a);this._stop();var u=this.project(this.getCenter()),h=this.project(n),m=this.getSize(),b=this._zoom;n=oe(n),r=r===void 0?b:r;var P=Math.max(m.x,m.y),R=P*this.getZoomScale(b,r),F=h.distanceTo(u)||1,q=1.42,le=q*q;function xe($e){var zo=$e?-1:1,Mg=$e?R:P,Rg=R*R-P*P+zo*le*le*F*F,Bg=2*Mg*le*F,zl=Rg/Bg,Yd=Math.sqrt(zl*zl+1)-zl,Ng=Yd<1e-9?-18:Math.log(Yd);return Ng}function gt($e){return(Math.exp($e)-Math.exp(-$e))/2}function Je($e){return(Math.exp($e)+Math.exp(-$e))/2}function Wt($e){return gt($e)/Je($e)}var Ct=xe(0);function or($e){return P*(Je(Ct)/Je(Ct+q*$e))}function Pg($e){return P*(Je(Ct)*Wt(Ct+q*$e)-gt(Ct))/le}function Lg($e){return 1-Math.pow(1-$e,1.5)}var Ig=Date.now(),Kd=(xe(1)-Ct)/q,Eg=a.duration?1e3*a.duration:1e3*Kd*.8;function $d(){var $e=(Date.now()-Ig)/Eg,zo=Lg($e)*Kd;$e<=1?(this._flyToFrame=te($d,this),this._move(this.unproject(u.add(h.subtract(u).multiplyBy(Pg(zo)/F)),b),this.getScaleZoom(P/or(zo),b),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),$d.call(this),this},flyToBounds:function(n,r){var a=this._getBoundsCenterZoom(n,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(n){return n=_e(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,_e(n));return a.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var a=D(r.paddingTopLeft||r.padding||[0,0]),u=D(r.paddingBottomRight||r.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(n),b=this.getPixelBounds(),P=ge([b.min.add(a),b.max.subtract(u)]),R=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var F=m.subtract(P.getCenter()),q=P.extend(m).getSize().subtract(R);h.x+=F.x<0?-q.x:q.x,h.y+=F.y<0?-q.y:q.y,this.panTo(this.unproject(h),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=l({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=r.divideBy(2).round(),h=a.divideBy(2).round(),m=u.subtract(h);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=l({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=d(this._handleGeolocationResponse,this),a=d(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,n):navigator.geolocation.getCurrentPosition(r,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,a=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,a=n.coords.longitude,u=new pe(r,a),h=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var b=this.getBoundsZoom(h);this.setView(u,m.maxZoom?Math.min(b,m.maxZoom):b)}var P={latlng:u,bounds:h,timestamp:n.timestamp};for(var R in n.coords)typeof n.coords[R]=="number"&&(P[R]=n.coords[R]);this.fire("locationfound",P)}},addHandler:function(n,r){if(!r)return this;var a=this[n]=new r(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ze(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=ke("div",a,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new Pe(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,a){n=_e(n),a=D(a||[0,0]);var u=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),b=n.getNorthWest(),P=n.getSouthEast(),R=this.getSize().subtract(a),F=ge(this.project(P,u),this.project(b,u)).getSize(),q=ne.any3d?this.options.zoomSnap:1,le=R.x/F.x,xe=R.y/F.y,gt=r?Math.max(le,xe):Math.min(le,xe);return u=this.getScaleZoom(gt,u),q&&(u=Math.round(u/(q/100))*(q/100),u=r?Math.ceil(u/q)*q:Math.floor(u/q)*q),Math.max(h,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var a=this._getTopLeftPoint(n,r);return new re(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(n)/a.scale(r)},getScaleZoom:function(n,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var u=a.zoom(n*a.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(oe(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(D(n),r)},layerPointToLatLng:function(n){var r=D(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(oe(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(oe(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(_e(n))},distance:function(n,r){return this.options.crs.distance(oe(n),oe(r))},containerPointToLayerPoint:function(n){return D(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return D(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(D(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(n)))},mouseEventToContainerPoint:function(n){return pd(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=St(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(r,"scroll",this._onScroll,this),this._containerId=f(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,ue(n,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Kn(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ue(n.markerPane,"leaflet-zoom-hide"),ue(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,a){Ue(this._mapPane,new B(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var h=this._zoom!==r;this._moveStart(h,a)._move(n,r)._moveEnd(h),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,a,u){r===void 0&&(r=this._zoom);var h=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ue(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[f(this._container)]=this;var r=n?Ee:he;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var a=[],u,h=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,b=!1;m;){if(u=this._targets[f(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){b=!0;break}if(u&&u.listens(r,!0)&&(h&&!gl(m,n)||(a.push(u),h))||m===this._container)break;m=m.parentNode}return!a.length&&!b&&!h&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var a=n.type;a==="mousedown"&&jt(r),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,a){if(n.type==="click"){var u=l({},n);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var h=this._findEventTargets(n,r);if(a){for(var m=[],b=0;b<a.length;b++)a[b].listens(r,!0)&&m.push(a[b]);h=m.concat(h)}if(h.length){r==="contextmenu"&&it(n);var P=h[0],R={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var F=P.getLatLng&&(!P._radius||P._radius<=10);R.containerPoint=F?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(n),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=F?P.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(b=0;b<h.length;b++)if(h[b].fire(r,R,!0),R.originalEvent._stopped||h[b].options.bubblingMouseEvents===!1&&T(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return dn(this._mapPane)||new B(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var a=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var a=this.getSize()._divideBy(2);return this.project(n,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return ge([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,a){if(!a)return n;var u=this.project(n,r),h=this.getSize().divideBy(2),m=new re(u.subtract(h),u.add(h)),b=this._getBoundsOffset(m,a,r);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?n:this.unproject(u.add(b),r)},_limitOffset:function(n,r){if(!r)return n;var a=this.getPixelBounds(),u=new re(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,a){var u=ge(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),h=u.min.subtract(n.min),m=u.max.subtract(n.max),b=this._rebound(h.x,-m.x),P=this._rebound(h.y,-m.y);return new B(b,P)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),a=this.getMaxZoom(),u=ne.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){De(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var a=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var n=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var a=ns,u=this._proxy.style[a];bn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();bn(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),h=this._getCenterOffset(n)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(h)?!1:(te(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&De(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gm(n,r){return new Ce(n,r)}var qt=Q.extend({options:{position:"topright"},initialize:function(n){z(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),a=this.getPosition(),u=n._controlCorners[a];return ue(r,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),as=function(n){return new qt(n)};Ce.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",a=this._controlContainer=ke("div",r+"control-container",this._container);function u(h,m){var b=r+h+" "+r+m;n[h+m]=ke("div",b,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ze(this._controlCorners[n]);ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gd=qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,a,u){return a<u?-1:u<a?1:0}},initialize:function(n,r,a){z(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return qt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(f(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):De(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return De(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=ke("div",n),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),os(r),ml(r);var u=this._section=ke("section",n+"-list");a&&(this._map.on("click",this.collapse,this),he(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ke("a",n+"-toggle",r);h.href="#",h.title="Layers",h.setAttribute("role","button"),he(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){it(m),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=ke("div",n+"-base",u),this._separator=ke("div",n+"-separator",u),this._overlaysList=ke("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&f(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(d(function(u,h){return this.options.sortFunction(u.layer,h.layer,u.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xi(this._baseLayersList),Xi(this._overlaysList),this._layerControlInputs=[];var n,r,a,u,h=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,h+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(f(n.target)),a=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(n,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(n){var r=document.createElement("label"),a=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+f(this),a),this._layerControlInputs.push(u),u.layerId=f(n.layer),he(u,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(h);var b=n.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,a,u=[],h=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],a=this._getLayer(r.layerId).layer,r.checked?u.push(a):r.checked||h.push(a);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,a,u=this._map.getZoom(),h=n.length-1;h>=0;h--)r=n[h],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,he(n,"click",it),this.expand();var r=this;setTimeout(function(){Ee(n,"click",it),r._preventClick=!1})}}),Km=function(n,r,a){return new gd(n,r,a)},yl=qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",a=ke("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,a,u,h){var m=ke("a",a,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),os(m),he(m,"click",zi),he(m,"click",h,this),he(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";De(this._zoomInButton,r),De(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ue(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ue(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ce.mergeOptions({zoomControl:!0}),Ce.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yl,this.addControl(this.zoomControl))});var $m=function(n){return new yl(n)},yd=qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",a=ke("div",r),u=this.options;return this._addScales(u,r+"-line",a),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,a){n.metric&&(this._mScale=ke("div",r,a)),n.imperial&&(this._iScale=ke("div",r,a))},_update:function(){var n=this._map,r=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/n)},_updateImperial:function(n){var r=n*3.2808399,a,u,h;r>5280?(a=r/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(h=this._getRoundNum(r),this._updateScale(this._iScale,h+" ft",h/r))},_updateScale:function(n,r,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),a=n/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),Ym=function(n){return new yd(n)},qm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vl=qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?qm+" ":"")+"Leaflet</a>"},initialize:function(n){z(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),os(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Ce.mergeOptions({attributionControl:!0}),Ce.addInitHook(function(){this.options.attributionControl&&new vl().addTo(this)});var Qm=function(n){return new vl(n)};qt.Layers=gd,qt.Zoom=yl,qt.Scale=yd,qt.Attribution=vl,as.layers=Km,as.zoom=$m,as.scale=Ym,as.attribution=Qm;var pn=Q.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pn.addTo=function(n,r){return n.addHandler(r,this),this};var Xm={Events:ve},vd=ne.touch?"touchstart mousedown":"mousedown",Qn=Ae.extend({options:{clickTolerance:3},initialize:function(n,r,a,u){z(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=a},enable:function(){this._enabled||(he(this._dragStartTarget,vd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qn._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,vd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!is(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Qn._dragging===this&&this.finishDrag();return}if(!(Qn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Qn._dragging=this,this._preventOutline&&jt(this._element),fe(),C(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,a=dl(this._element);this._startPoint=new B(r.clientX,r.clientY),this._startPos=dn(this._element),this._parentScale=er(a);var u=n.type==="mousedown";he(document,u?"mousemove":"touchmove",this._onMove,this),he(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,a=new B(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,it(n),this._moved||(this.fire("dragstart"),this._moved=!0,ue(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ue(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){De(document.body,"leaflet-dragging"),this._lastTarget&&(De(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),je(),W();var r=this._moved&&this._moving;this._moving=!1,Qn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function xd(n,r,a){var u,h=[1,4,2,8],m,b,P,R,F,q,le,xe;for(m=0,q=n.length;m<q;m++)n[m]._code=Ti(n[m],r);for(P=0;P<4;P++){for(le=h[P],u=[],m=0,q=n.length,b=q-1;m<q;b=m++)R=n[m],F=n[b],R._code&le?F._code&le||(xe=go(F,R,le,r,a),xe._code=Ti(xe,r),u.push(xe)):(F._code&le&&(xe=go(F,R,le,r,a),xe._code=Ti(xe,r),u.push(xe)),u.push(R));n=u}return n}function _d(n,r){var a,u,h,m,b,P,R,F,q;if(!n||n.length===0)throw new Error("latlngs not passed");Dt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var le=oe([0,0]),xe=_e(n),gt=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());gt<1700&&(le=xl(n));var Je=n.length,Wt=[];for(a=0;a<Je;a++){var Ct=oe(n[a]);Wt.push(r.project(oe([Ct.lat-le.lat,Ct.lng-le.lng])))}for(P=R=F=0,a=0,u=Je-1;a<Je;u=a++)h=Wt[a],m=Wt[u],b=h.y*m.x-m.y*h.x,R+=(h.x+m.x)*b,F+=(h.y+m.y)*b,P+=b*3;P===0?q=Wt[0]:q=[R/P,F/P];var or=r.unproject(D(q));return oe([or.lat+le.lat,or.lng+le.lng])}function xl(n){for(var r=0,a=0,u=0,h=0;h<n.length;h++){var m=oe(n[h]);r+=m.lat,a+=m.lng,u++}return oe([r/u,a/u])}var Jm={__proto__:null,clipPolygon:xd,polygonCenter:_d,centroid:xl};function wd(n,r){if(!r||!n.length)return n.slice();var a=r*r;return n=ng(n,a),n=tg(n,a),n}function bd(n,r,a){return Math.sqrt(ls(n,r,a,!0))}function eg(n,r,a){return ls(n,r,a)}function tg(n,r){var a=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,h=new u(a);h[0]=h[a-1]=1,_l(n,h,r,0,a-1);var m,b=[];for(m=0;m<a;m++)h[m]&&b.push(n[m]);return b}function _l(n,r,a,u,h){var m=0,b,P,R;for(P=u+1;P<=h-1;P++)R=ls(n[P],n[u],n[h],!0),R>m&&(b=P,m=R);m>a&&(r[b]=1,_l(n,r,a,u,b),_l(n,r,a,b,h))}function ng(n,r){for(var a=[n[0]],u=1,h=0,m=n.length;u<m;u++)ig(n[u],n[h])>r&&(a.push(n[u]),h=u);return h<m-1&&a.push(n[m-1]),a}var Sd;function kd(n,r,a,u,h){var m=u?Sd:Ti(n,a),b=Ti(r,a),P,R,F;for(Sd=b;;){if(!(m|b))return[n,r];if(m&b)return!1;P=m||b,R=go(n,r,P,a,h),F=Ti(R,a),P===m?(n=R,m=F):(r=R,b=F)}}function go(n,r,a,u,h){var m=r.x-n.x,b=r.y-n.y,P=u.min,R=u.max,F,q;return a&8?(F=n.x+m*(R.y-n.y)/b,q=R.y):a&4?(F=n.x+m*(P.y-n.y)/b,q=P.y):a&2?(F=R.x,q=n.y+b*(R.x-n.x)/m):a&1&&(F=P.x,q=n.y+b*(P.x-n.x)/m),new B(F,q,h)}function Ti(n,r){var a=0;return n.x<r.min.x?a|=1:n.x>r.max.x&&(a|=2),n.y<r.min.y?a|=4:n.y>r.max.y&&(a|=8),a}function ig(n,r){var a=r.x-n.x,u=r.y-n.y;return a*a+u*u}function ls(n,r,a,u){var h=r.x,m=r.y,b=a.x-h,P=a.y-m,R=b*b+P*P,F;return R>0&&(F=((n.x-h)*b+(n.y-m)*P)/R,F>1?(h=a.x,m=a.y):F>0&&(h+=b*F,m+=P*F)),b=n.x-h,P=n.y-m,u?b*b+P*P:new B(h,m)}function Dt(n){return!w(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function jd(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(n)}function Cd(n,r){var a,u,h,m,b,P,R,F;if(!n||n.length===0)throw new Error("latlngs not passed");Dt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var q=oe([0,0]),le=_e(n),xe=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());xe<1700&&(q=xl(n));var gt=n.length,Je=[];for(a=0;a<gt;a++){var Wt=oe(n[a]);Je.push(r.project(oe([Wt.lat-q.lat,Wt.lng-q.lng])))}for(a=0,u=0;a<gt-1;a++)u+=Je[a].distanceTo(Je[a+1])/2;if(u===0)F=Je[0];else for(a=0,m=0;a<gt-1;a++)if(b=Je[a],P=Je[a+1],h=b.distanceTo(P),m+=h,m>u){R=(m-u)/h,F=[P.x-R*(P.x-b.x),P.y-R*(P.y-b.y)];break}var Ct=r.unproject(D(F));return oe([Ct.lat+q.lat,Ct.lng+q.lng])}var rg={__proto__:null,simplify:wd,pointToSegmentDistance:bd,closestPointOnSegment:eg,clipSegment:kd,_getEdgeIntersection:go,_getBitCode:Ti,_sqClosestPointOnSegment:ls,isFlat:Dt,_flat:jd,polylineCenter:Cd},wl={project:function(n){return new B(n.lng,n.lat)},unproject:function(n){return new pe(n.y,n.x)},bounds:new re([-180,-90],[180,90])},bl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,a=this.R,u=n.lat*r,h=this.R_MINOR/a,m=Math.sqrt(1-h*h),b=m*Math.sin(u),P=Math.tan(Math.PI/4-u/2)/Math.pow((1-b)/(1+b),m/2);return u=-a*Math.log(Math.max(P,1e-10)),new B(n.lng*r*a,u)},unproject:function(n){for(var r=180/Math.PI,a=this.R,u=this.R_MINOR/a,h=Math.sqrt(1-u*u),m=Math.exp(-n.y/a),b=Math.PI/2-2*Math.atan(m),P=0,R=.1,F;P<15&&Math.abs(R)>1e-7;P++)F=h*Math.sin(b),F=Math.pow((1-F)/(1+F),h/2),R=Math.PI/2-2*Math.atan(m*F)-b,b+=R;return new pe(b*r,n.x*r/a)}},sg={__proto__:null,LonLat:wl,Mercator:bl,SphericalMercator:Ie},og=l({},lt,{code:"EPSG:3395",projection:bl,transformation:function(){var n=.5/(Math.PI*bl.R);return Hn(n,.5,-n,.5)}()}),zd=l({},lt,{code:"EPSG:4326",projection:wl,transformation:Hn(1/180,1,-1/180,.5)}),ag=l({},Fe,{projection:wl,transformation:Hn(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var a=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(a*a+u*u)},infinite:!0});Fe.Earth=lt,Fe.EPSG3395=og,Fe.EPSG3857=ct,Fe.EPSG900913=$,Fe.EPSG4326=zd,Fe.Simple=ag;var Qt=Ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[f(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[f(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Ce.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=f(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=f(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return f(n)in this._layers},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},_addLayers:function(n){n=n?w(n)?n:[n]:[];for(var r=0,a=n.length;r<a;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[f(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=f(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var h=this._zoomBoundLayers[u].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),r=h.maxZoom===void 0?r:Math.max(r,h.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var tr=Qt.extend({initialize:function(n,r){z(this,r),this._layers={};var a,u;if(n)for(a=0,u=n.length;a<u;a++)this.addLayer(n[a])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return f(n)}}),lg=function(n,r){return new tr(n,r)},kn=tr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),tr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),tr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Pe;for(var r in this._layers){var a=this._layers[r];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),cg=function(n,r){return new kn(n,r)},nr=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){z(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var a=this.options,u=a[r+"Size"];typeof u=="number"&&(u=[u,u]);var h=D(u),m=D(r==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(a.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return ne.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function ug(n){return new nr(n)}var cs=nr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof cs.imagePath!="string"&&(cs.imagePath=this._detectIconPath()),(this.options.imagePath||cs.imagePath)+nr.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(a,u,h){var m=u.exec(a);return m&&m[h]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ke("div","leaflet-default-icon-path",document.body),r=Kn(n,"background-image")||Kn(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Td=pn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Qn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ue(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&De(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,a=r._map,u=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=dn(r._icon),b=a.getPixelBounds(),P=a.getPixelOrigin(),R=ge(b.min._subtract(P).add(h),b.max._subtract(P).subtract(h));if(!R.contains(m)){var F=D((Math.max(R.max.x,m.x)-R.max.x)/(b.max.x-R.max.x)-(Math.min(R.min.x,m.x)-R.min.x)/(b.min.x-R.min.x),(Math.max(R.max.y,m.y)-R.max.y)/(b.max.y-R.max.y)-(Math.min(R.min.y,m.y)-R.min.y)/(b.min.y-R.min.y)).multiplyBy(u);a.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),Ue(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=te(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,a=r._shadow,u=dn(r._icon),h=r._map.layerPointToLatLng(u);a&&Ue(a,u),r._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),yo=Qt.extend({options:{icon:new cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){z(this,r),this._latlng=oe(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=oe(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),ue(a,r),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(a,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(ue(h,r),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ze(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ue(this._icon,n),this._shadow&&Ue(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Td)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Td(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&kt(this._icon,n),this._shadow&&kt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,a=r.iconSize?D(r.iconSize):D(0,0),u=r.iconAnchor?D(r.iconAnchor):D(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dg(n,r){return new yo(n,r)}var Xn=Qt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return z(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vo=Xn.extend({options:{fill:!0,radius:10},initialize:function(n,r){z(this,r),this._latlng=oe(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=oe(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Xn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,a=this._clickTolerance(),u=[n+a,r+a];this._pxBounds=new re(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hg(n,r){return new vo(n,r)}var Sl=vo.extend({initialize:function(n,r,a){if(typeof r=="number"&&(r=l({},a,{radius:r})),z(this,r),this._latlng=oe(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Xn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===lt.distance){var h=Math.PI/180,m=this._mRadius/lt.R/h,b=a.project([r+m,n]),P=a.project([r-m,n]),R=b.add(P).divideBy(2),F=a.unproject(R).lat,q=Math.acos((Math.cos(m*h)-Math.sin(r*h)*Math.sin(F*h))/(Math.cos(r*h)*Math.cos(F*h)))/h;(isNaN(q)||q===0)&&(q=m/Math.cos(Math.PI/180*r)),this._point=R.subtract(a.getPixelOrigin()),this._radius=isNaN(q)?0:R.x-a.project([F,n-q]).x,this._radiusY=R.y-b.y}else{var le=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(le).x}this._updateBounds()}});function pg(n,r,a){return new Sl(n,r,a)}var jn=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){z(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,a=null,u=ls,h,m,b=0,P=this._parts.length;b<P;b++)for(var R=this._parts[b],F=1,q=R.length;F<q;F++){h=R[F-1],m=R[F];var le=u(n,h,m,!0);le<r&&(r=le,a=u(n,h,m))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=oe(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Pe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],a=Dt(n),u=0,h=n.length;u<h;u++)a?(r[u]=oe(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new B(n,n);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,a){var u=n[0]instanceof pe,h=n.length,m,b;if(u){for(b=[],m=0;m<h;m++)b[m]=this._map.latLngToLayerPoint(n[m]),a.extend(b[m]);r.push(b)}else for(m=0;m<h;m++)this._projectLatlngs(n[m],r,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,u,h,m,b,P,R;for(a=0,h=0,m=this._rings.length;a<m;a++)for(R=this._rings[a],u=0,b=R.length;u<b-1;u++)P=kd(R[u],R[u+1],n,u,!0),P&&(r[h]=r[h]||[],r[h].push(P[0]),(P[1]!==R[u+1]||u===b-2)&&(r[h].push(P[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,a=0,u=n.length;a<u;a++)n[a]=wd(n[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var a,u,h,m,b,P,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,m=this._parts.length;a<m;a++)for(P=this._parts[a],u=0,b=P.length,h=b-1;u<b;h=u++)if(!(!r&&u===0)&&bd(n,P[h],P[u])<=R)return!0;return!1}});function fg(n,r){return new jn(n,r)}jn._flat=jd;var ir=jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _d(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=jn.prototype._convertLatLngs.call(this,n),a=r.length;return a>=2&&r[0]instanceof pe&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(n){jn.prototype._setLatLngs.call(this,n),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,a=new B(r,r);if(n=new re(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,h=this._rings.length,m;u<h;u++)m=xd(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,a,u,h,m,b,P,R,F;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,R=this._parts.length;m<R;m++)for(a=this._parts[m],b=0,F=a.length,P=F-1;b<F;P=b++)u=a[b],h=a[P],u.y>n.y!=h.y>n.y&&n.x<(h.x-u.x)*(n.y-u.y)/(h.y-u.y)+u.x&&(r=!r);return r||jn.prototype._containsPoint.call(this,n,!0)}});function mg(n,r){return new ir(n,r)}var Cn=kn.extend({initialize:function(n,r){z(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=w(n)?n:n.features,a,u,h;if(r){for(a=0,u=r.length;a<u;a++)h=r[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var b=xo(n,m);return b?(b.feature=bo(n),b.defaultOptions=b.options,this.resetStyle(b),m.onEachFeature&&m.onEachFeature(n,b),this.addLayer(b)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=l({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function xo(n,r){var a=n.type==="Feature"?n.geometry:n,u=a?a.coordinates:null,h=[],m=r&&r.pointToLayer,b=r&&r.coordsToLatLng||kl,P,R,F,q;if(!u&&!a)return null;switch(a.type){case"Point":return P=b(u),Pd(m,n,P,r);case"MultiPoint":for(F=0,q=u.length;F<q;F++)P=b(u[F]),h.push(Pd(m,n,P,r));return new kn(h);case"LineString":case"MultiLineString":return R=_o(u,a.type==="LineString"?0:1,b),new jn(R,r);case"Polygon":case"MultiPolygon":return R=_o(u,a.type==="Polygon"?1:2,b),new ir(R,r);case"GeometryCollection":for(F=0,q=a.geometries.length;F<q;F++){var le=xo({geometry:a.geometries[F],type:"Feature",properties:n.properties},r);le&&h.push(le)}return new kn(h);case"FeatureCollection":for(F=0,q=a.features.length;F<q;F++){var xe=xo(a.features[F],r);xe&&h.push(xe)}return new kn(h);default:throw new Error("Invalid GeoJSON object.")}}function Pd(n,r,a,u){return n?n(r,a):new yo(a,u&&u.markersInheritOptions&&u)}function kl(n){return new pe(n[1],n[0],n[2])}function _o(n,r,a){for(var u=[],h=0,m=n.length,b;h<m;h++)b=r?_o(n[h],r-1,a):(a||kl)(n[h]),u.push(b);return u}function jl(n,r){return n=oe(n),n.alt!==void 0?[k(n.lng,r),k(n.lat,r),k(n.alt,r)]:[k(n.lng,r),k(n.lat,r)]}function wo(n,r,a,u){for(var h=[],m=0,b=n.length;m<b;m++)h.push(r?wo(n[m],Dt(n[m])?0:r-1,a,u):jl(n[m],u));return!r&&a&&h.length>0&&h.push(h[0].slice()),h}function rr(n,r){return n.feature?l({},n.feature,{geometry:r}):bo(r)}function bo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Cl={toGeoJSON:function(n){return rr(this,{type:"Point",coordinates:jl(this.getLatLng(),n)})}};yo.include(Cl),Sl.include(Cl),vo.include(Cl),jn.include({toGeoJSON:function(n){var r=!Dt(this._latlngs),a=wo(this._latlngs,r?1:0,!1,n);return rr(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),ir.include({toGeoJSON:function(n){var r=!Dt(this._latlngs),a=r&&!Dt(this._latlngs[0]),u=wo(this._latlngs,a?2:r?1:0,!0,n);return r||(u=[u]),rr(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),tr.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(n).geometry.coordinates)}),rr(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var a=r==="GeometryCollection",u=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(n);if(a)u.push(m.geometry);else{var b=bo(m);b.type==="FeatureCollection"?u.push.apply(u,b.features):u.push(b)}}}),a?rr(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Ld(n,r){return new Cn(n,r)}var gg=Ld,So=Qt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,a){this._url=n,this._bounds=_e(r),z(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&Yn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=_e(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:ke("img");if(ue(r,"leaflet-image-layer"),this._zoomAnimated&&ue(r,"leaflet-zoom-animated"),this.options.className&&ue(r,this.options.className),r.onselectstart=y,r.onmousemove=y,r.onload=d(this.fire,this,"load"),r.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;bn(this._image,a,r)},_reset:function(){var n=this._image,r=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Ue(n,r.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),yg=function(n,r,a){return new So(n,r,a)},Id=So.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:ke("video");if(ue(r,"leaflet-image-layer"),this._zoomAnimated&&ue(r,"leaflet-zoom-animated"),this.options.className&&ue(r,this.options.className),r.onselectstart=y,r.onmousemove=y,r.onloadeddata=d(this.fire,this,"load"),n){for(var a=r.getElementsByTagName("source"),u=[],h=0;h<a.length;h++)u.push(a[h].src);this._url=a.length>0?u:[r.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var b=ke("source");b.src=this._url[m],r.appendChild(b)}}});function vg(n,r,a){return new Id(n,r,a)}var Ed=So.extend({_initImage:function(){var n=this._image=this._url;ue(n,"leaflet-image-layer"),this._zoomAnimated&&ue(n,"leaflet-zoom-animated"),this.options.className&&ue(n,this.options.className),n.onselectstart=y,n.onmousemove=y}});function xg(n,r,a){return new Ed(n,r,a)}var fn=Qt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof pe||w(n))?(this._latlng=oe(n),z(this,r)):(z(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(d(ze,void 0,this._container),200)):ze(this._container),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=oe(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&Yn(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof kn){r=null;var a=this._source._layers;for(var u in a)if(a[u]._map){r=a[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=D(this.options.offset),a=this._getAnchor();this._zoomAnimated?Ue(this._container,n.add(a)):r=r.add(n).add(a);var u=this._containerBottom=-r.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Ce.include({_initOverlay:function(n,r,a,u){var h=r;return h instanceof n||(h=new n(u).setContent(r)),a&&h.setLatLng(a),h}}),Qt.include({_initOverlay:function(n,r,a,u){var h=a;return h instanceof n?(z(h,u),h._source=this):(h=r&&!u?r:new n(u,this),h.setContent(a)),h}});var ko=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,fn.prototype.openOn.call(this,n)},onAdd:function(n){fn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Ci))},onRemove:function(n){fn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Ci))},getEvents:function(){var n=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=ke("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=ke("div",n+"-content-wrapper",r);if(this._contentNode=ke("div",n+"-content",a),os(r),ml(this._contentNode),he(r,"contextmenu",Ci),this._tipContainer=ke("div",n+"-tip-container",r),this._tip=ke("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=ke("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',he(u,"click",function(h){it(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&u>h?(r.height=h+"px",ue(n,m)):De(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();Ue(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(Kn(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,u=this._containerWidth,h=new B(this._containerLeft,-a-this._containerBottom);h._add(dn(this._container));var m=n.layerPointToContainerPoint(h),b=D(this.options.autoPanPadding),P=D(this.options.autoPanPaddingTopLeft||b),R=D(this.options.autoPanPaddingBottomRight||b),F=n.getSize(),q=0,le=0;m.x+u+R.x>F.x&&(q=m.x+u-F.x+R.x),m.x-q-P.x<0&&(q=m.x-P.x),m.y+a+R.y>F.y&&(le=m.y+a-F.y+R.y),m.y-le-P.y<0&&(le=m.y-P.y),(q||le)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([q,le]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_g=function(n,r){return new ko(n,r)};Ce.mergeOptions({closePopupOnClick:!0}),Ce.include({openPopup:function(n,r,a){return this._initOverlay(ko,n,r,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Qt.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ko,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof kn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){zi(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var jo=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){fn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){fn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=fn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,a,u=this._map,h=this._container,m=u.latLngToContainerPoint(u.getCenter()),b=u.layerPointToContainerPoint(n),P=this.options.direction,R=h.offsetWidth,F=h.offsetHeight,q=D(this.options.offset),le=this._getAnchor();P==="top"?(r=R/2,a=F):P==="bottom"?(r=R/2,a=0):P==="center"?(r=R/2,a=F/2):P==="right"?(r=0,a=F/2):P==="left"?(r=R,a=F/2):b.x<m.x?(P="right",r=0,a=F/2):(P="left",r=R+(q.x+le.x)*2,a=F/2),n=n.subtract(D(r,a,!0)).add(q).add(le),De(h,"leaflet-tooltip-right"),De(h,"leaflet-tooltip-left"),De(h,"leaflet-tooltip-top"),De(h,"leaflet-tooltip-bottom"),ue(h,"leaflet-tooltip-"+P),Ue(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&kt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wg=function(n,r){return new jo(n,r)};Ce.include({openTooltip:function(n,r,a){return this._initOverlay(jo,n,r,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Qt.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jo,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof kn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(he(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),he(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,a,u;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var Md=nr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Xi(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=D(a.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function bg(n){return new Md(n)}nr.Default=cs;var us=Qt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){z(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ze(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof B?n:new B(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,a=-n(-1/0,1/0),u=0,h=r.length,m;u<h;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(a=n(a,+m));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){kt(this._container,this.options.opacity);var n=+new Date,r=!1,a=!1;for(var u in this._tiles){var h=this._tiles[u];if(!(!h.current||!h.loaded)){var m=Math.min(1,(n-h.loaded)/200);kt(h.el,m),m<1?r=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(Y(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=r-Math.abs(n-a),this._onUpdateLevel(a)):(ze(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[n],h=this._map;return u||(u=this._levels[n]={},u.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,h.getCenter(),h.getZoom()),y(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var n,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ze(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,a,u){var h=Math.floor(n/2),m=Math.floor(r/2),b=a-1,P=new B(+h,+m);P.z=+b;var R=this._tileCoordsToKey(P),F=this._tiles[R];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),b>u?this._retainParent(h,m,b,u):!1)},_retainChildren:function(n,r,a,u){for(var h=2*n;h<2*n+2;h++)for(var m=2*r;m<2*r+2;m++){var b=new B(h,m);b.z=a+1;var P=this._tileCoordsToKey(b),R=this._tiles[P];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);a+1<u&&this._retainChildren(h,m,a+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,a,u){var h=Math.round(r);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!u||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,r)},_setZoomTransform:function(n,r,a){var u=this._map.getZoomScale(a,n.zoom),h=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,a)).round();ne.any3d?bn(n.el,h,u):Ue(n.el,h)},_resetGrid:function(){var n=this._map,r=n.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/a.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/a.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(a,this._tileZoom),h=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new re(h.subtract(m),h.add(m))},_update:function(n){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(u),m=h.getCenter(),b=[],P=this.options.keepBuffer,R=new re(h.getBottomLeft().subtract([P,-P]),h.getTopRight().add([P,-P]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var q=this._tiles[F].coords;(q.z!==this._tileZoom||!R.contains(new B(q.x,q.y)))&&(this._tiles[F].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var le=h.min.y;le<=h.max.y;le++)for(var xe=h.min.x;xe<=h.max.x;xe++){var gt=new B(xe,le);if(gt.z=this._tileZoom,!!this._isValidTile(gt)){var Je=this._tiles[this._tileCoordsToKey(gt)];Je?Je.current=!0:b.push(gt)}}if(b.sort(function(Ct,or){return Ct.distanceTo(m)-or.distanceTo(m)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(xe=0;xe<b.length;xe++)this._addTile(b[xe],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!r.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return _e(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,a=this.getTileSize(),u=n.scaleBy(a),h=u.add(a),m=r.unproject(u,n.z),b=r.unproject(h,n.z);return[m,b]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),a=new Pe(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),a=new B(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(n){var r=this._tiles[n];r&&(ze(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ue(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=y,n.onmousemove=y,ne.ielt9&&this.options.opacity<1&&kt(n,this.options.opacity)},_addTile:function(n,r){var a=this._getTilePos(n),u=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),d(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&te(d(this._tileReady,this,n,null,h)),Ue(h,a),this._tiles[u]={el:h,coords:n,current:!0},r.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:n});var u=this._tileCoordsToKey(n);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(kt(a.el,0),Y(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(ue(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new B(this._wrapX?_(n.x,this._wrapX):n.x,this._wrapY?_(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new re(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Sg(n){return new us(n)}var sr=us.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=z(this,r),r.detectRetina&&ne.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var a=document.createElement("img");return he(a,"load",d(this._tileOnLoad,this,r,a)),he(a,"error",d(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var r={r:ne.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=a),r["-y"]=a}return v(this._url,l(r,this.options))},_tileOnLoad:function(n,r){ne.ielt9?setTimeout(d(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,a){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(a,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=y,r.onerror=y,!r.complete)){r.src=M;var a=this._tiles[n].coords;ze(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",M),us.prototype._removeTile.call(this,n)},_tileReady:function(n,r,a){if(!(!this._map||a&&a.getAttribute("src")===M))return us.prototype._tileReady.call(this,n,r,a)}});function Rd(n,r){return new sr(n,r)}var Bd=sr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var a=l({},this.defaultWmsParams);for(var u in r)u in this.options||(a[u]=r[u]);r=z(this,r);var h=r.detectRetina&&ne.retina?2:1,m=this.getTileSize();a.width=m.x*h,a.height=m.y*h,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,sr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),a=this._crs,u=ge(a.project(r[0]),a.project(r[1])),h=u.min,m=u.max,b=(this._wmsVersion>=1.3&&this._crs===zd?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),P=sr.prototype.getTileUrl.call(this,n);return P+N(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(n,r){return l(this.wmsParams,n),r||this.redraw(),this}});function kg(n,r){return new Bd(n,r)}sr.WMS=Bd,Rd.wms=kg;var zn=Qt.extend({options:{padding:.1},initialize:function(n){z(this,n),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var a=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,r),m=u.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(n,r));ne.any3d?bn(this._container,m,a):Ue(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new re(a,a.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nd=zn.extend({options:{tolerance:0},getEvents:function(){var n=zn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");he(n,"mousemove",this._onMouseMove,this),he(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,ze(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var n=this._bounds,r=this._container,a=n.getSize(),u=ne.retina?2:1;Ue(r,n.min),r.width=u*a.x,r.height=u*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[f(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,a=r.next,u=r.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete n._order,delete this._layers[f(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),a=[],u,h;for(h=0;h<r.length;h++){if(u=Number(r[h]),isNaN(u))return;a.push(u)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var a,u,h,m,b=n._parts,P=b.length,R=this._ctx;if(P){for(R.beginPath(),a=0;a<P;a++){for(u=0,h=b[a].length;u<h;u++)m=b[a][u],R[u?"lineTo":"moveTo"](m.x,m.y);r&&R.closePath()}this._fillStroke(R,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,a=this._ctx,u=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||u)/u;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(r.x,r.y/h,u,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,r){var a=r.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(De(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(ue(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,a){this._map._fireDOMEvent(r,a||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Ad(n){return ne.canvas?new Nd(n):null}var ds=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jg={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=ds("shape");ue(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=ds("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;ze(r),n.removeInteractiveTarget(r),delete this._layers[f(n)]},_updateStyle:function(n){var r=n._stroke,a=n._fill,u=n.options,h=n._container;h.stroked=!!u.stroke,h.filled=!!u.fill,u.stroke?(r||(r=n._stroke=ds("stroke")),h.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=w(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(h.removeChild(r),n._stroke=null),u.fill?(a||(a=n._fill=ds("fill")),h.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(h.removeChild(a),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),a=Math.round(n._radius),u=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){$n(n._container)},_bringToBack:function(n){Yn(n._container)}},Co=ne.vml?ds:an,hs=zn.extend({_initContainer:function(){this._container=Co("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Co("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ze(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var n=this._bounds,r=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Ue(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=Co("path");n.options.className&&ue(r,n.options.className),n.options.interactive&&ue(r,"leaflet-interactive"),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ze(n._path),n.removeInteractiveTarget(n._path),delete this._layers[f(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,a=n.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,_i(n._parts,r))},_updateCircle:function(n){var r=n._point,a=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||a,h="a"+a+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-a)+","+r.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){$n(n._path)},_bringToBack:function(n){Yn(n._path)}});ne.vml&&hs.include(jg);function Fd(n){return ne.svg||ne.vml?new hs(n):null}Ce.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Ad(n)||Fd(n)}});var Od=ir.extend({initialize:function(n,r){ir.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=_e(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Cg(n,r){return new Od(n,r)}hs.create=Co,hs.pointsToPath=_i,Cn.geometryToLayer=xo,Cn.coordsToLatLng=kl,Cn.coordsToLatLngs=_o,Cn.latLngToCoords=jl,Cn.latLngsToCoords=wo,Cn.getFeature=rr,Cn.asFeature=bo,Ce.mergeOptions({boxZoom:!0});var Dd=pn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),C(),fe(),this._startPoint=this._map.mouseEventToContainerPoint(n),he(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new re(this._point,this._startPoint),a=r.getSize();Ue(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ze(this._box),De(this._container,"leaflet-crosshair")),W(),je(),Ee(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var r=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ce.addInitHook("addHandler","boxZoom",Dd),Ce.mergeOptions({doubleClickZoom:!0});var Wd=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,a=r.getZoom(),u=r.options.zoomDelta,h=n.originalEvent.shiftKey?a-u:a+u;r.options.doubleClickZoom==="center"?r.setZoom(h):r.setZoomAround(n.containerPoint,h)}});Ce.addInitHook("addHandler","doubleClickZoom",Wd),Ce.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hd=pn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Qn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){De(this._map._container,"leaflet-grab"),De(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=_e(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,h=(u-r+a)%n+r-a,m=(u+r+a)%n-r-a,b=Math.abs(h+a)<Math.abs(m+a)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(n){var r=this._map,a=r.options,u=!a.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,b=a.easeLinearity,P=h.multiplyBy(b/m),R=P.distanceTo([0,0]),F=Math.min(a.inertiaMaxSpeed,R),q=P.multiplyBy(F/R),le=F/(a.inertiaDeceleration*b),xe=q.multiplyBy(-le/2).round();!xe.x&&!xe.y?r.fire("moveend"):(xe=r._limitOffset(xe,r.options.maxBounds),te(function(){r.panBy(xe,{duration:le,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Ce.addInitHook("addHandler","dragging",Hd),Ce.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vd=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),he(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,a=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},a=this.keyCodes,u,h;for(u=0,h=a.left.length;u<h;u++)r[a.left[u]]=[-1*n,0];for(u=0,h=a.right.length;u<h;u++)r[a.right[u]]=[n,0];for(u=0,h=a.down.length;u<h;u++)r[a.down[u]]=[0,n];for(u=0,h=a.up.length;u<h;u++)r[a.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},a=this.keyCodes,u,h;for(u=0,h=a.zoomIn.length;u<h;u++)r[a.zoomIn[u]]=n;for(u=0,h=a.zoomOut.length;u<h;u++)r[a.zoomOut[u]]=-n},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,a=this._map,u;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=D(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(D(u),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(h)}else a.panBy(u)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;zi(n)}}});Ce.addInitHook("addHandler","keyboard",Vd),Ce.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ud=pn.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=fd(n),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),u),zi(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=a?Math.ceil(h/a)*a:h,b=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,b&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+b):n.setZoomAround(this._lastMousePos,r+b))}});Ce.addInitHook("addHandler","scrollWheelZoom",Ud);var zg=600;Ce.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var Zd=pn.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new B(r.clientX,r.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",it),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),zg),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ee(document,"touchend",it),Ee(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new B(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});Ce.addInitHook("addHandler","tapHold",Zd),Ce.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var Gd=pn.extend({addHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){De(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),it(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),h=a.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(h,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&h<1||this._zoom>r.getMaxZoom()&&h>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var b=d(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(b,this,!0),it(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ce.addInitHook("addHandler","touchZoom",Gd),Ce.BoxZoom=Dd,Ce.DoubleClickZoom=Wd,Ce.Drag=Hd,Ce.Keyboard=Vd,Ce.ScrollWheelZoom=Ud,Ce.TapHold=Zd,Ce.TouchZoom=Gd,i.Bounds=re,i.Browser=ne,i.CRS=Fe,i.Canvas=Nd,i.Circle=Sl,i.CircleMarker=vo,i.Class=Q,i.Control=qt,i.DivIcon=Md,i.DivOverlay=fn,i.DomEvent=Zm,i.DomUtil=Vm,i.Draggable=Qn,i.Evented=Ae,i.FeatureGroup=kn,i.GeoJSON=Cn,i.GridLayer=us,i.Handler=pn,i.Icon=nr,i.ImageOverlay=So,i.LatLng=pe,i.LatLngBounds=Pe,i.Layer=Qt,i.LayerGroup=tr,i.LineUtil=rg,i.Map=Ce,i.Marker=yo,i.Mixin=Xm,i.Path=Xn,i.Point=B,i.PolyUtil=Jm,i.Polygon=ir,i.Polyline=jn,i.Popup=ko,i.PosAnimation=md,i.Projection=sg,i.Rectangle=Od,i.Renderer=zn,i.SVG=hs,i.SVGOverlay=Ed,i.TileLayer=sr,i.Tooltip=jo,i.Transformation=Oe,i.Util=X,i.VideoOverlay=Id,i.bind=d,i.bounds=ge,i.canvas=Ad,i.circle=pg,i.circleMarker=hg,i.control=as,i.divIcon=bg,i.extend=l,i.featureGroup=cg,i.geoJSON=Ld,i.geoJson=gg,i.gridLayer=Sg,i.icon=ug,i.imageOverlay=yg,i.latLng=oe,i.latLngBounds=_e,i.layerGroup=lg,i.map=Gm,i.marker=dg,i.point=D,i.polygon=mg,i.polyline=fg,i.popup=_g,i.rectangle=Cg,i.setOptions=z,i.stamp=f,i.svg=Fd,i.svgOverlay=xg,i.tileLayer=Rd,i.tooltip=wg,i.transformation=Hn,i.version=o,i.videoOverlay=vg;var Tg=window.L;i.noConflict=function(){return window.L=Tg,this},window.L=i})})(iu,iu.exports);var Ur=iu.exports;const vn=hp(Ur);function tl(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function cd(e,t){return t==null?function(o,l){const c=S.useRef();return c.current||(c.current=e(o,l)),c}:function(o,l){const c=S.useRef();c.current||(c.current=e(o,l));const d=S.useRef(o),{instance:p}=c.current;return S.useEffect(function(){d.current!==o&&(t(p,o,d.current),d.current=o)},[p,o,l]),c}}function Rm(e,t){S.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var c;(c=t.layerContainer)==null||c.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Bm(e){return function(i){const o=ad(),l=e(ld(i,o),o);return Q1(o.map,i.attribution),Mm(l.current,i.eventHandlers),Rm(l.current,o),l}}function nv(e,t){const i=S.useRef();S.useEffect(function(){if(t.pathOptions!==i.current){const l=t.pathOptions??{};e.instance.setStyle(l),i.current=l}},[e,t])}function iv(e){return function(i){const o=ad(),l=e(ld(i,o),o);return Mm(l.current,i.eventHandlers),Rm(l.current,o),nv(l.current,i),l}}function rv(e,t){const i=cd(e,t),o=Bm(i);return Em(o)}function Nm(e,t){const i=cd(e,t),o=iv(i);return Em(o)}function sv(e,t){const i=cd(e,t),o=Bm(i);return tv(o)}function ov(e,t,i){const{opacity:o,zIndex:l}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),l!=null&&l!==i.zIndex&&e.setZIndex(l)}function ud(){return ad().map}function Am(e){const t=ud();return S.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const ru=Nm(function({center:t,children:i,...o},l){const c=new Ur.CircleMarker(t,o);return tl(c,od(l,{overlayContainer:c}))},X1);function su(){return su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},su.apply(this,arguments)}function av({bounds:e,boundsOptions:t,center:i,children:o,className:l,id:c,placeholder:d,style:p,whenReady:f,zoom:g,..._},y){const[k]=S.useState({className:l,id:c,style:p}),[j,I]=S.useState(null);S.useImperativeHandle(y,()=>(j==null?void 0:j.map)??null,[j]);const z=S.useCallback(x=>{if(x!==null&&j===null){const v=new Ur.Map(x,_);i!=null&&g!=null?v.setView(i,g):e!=null&&v.fitBounds(e,t),f!=null&&v.whenReady(f),I(ev(v))}},[]);S.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const N=j?Ai.createElement(Im,{value:j},o):d??null;return Ai.createElement("div",su({},k,{ref:z}),N)}const lv=S.forwardRef(av),jr=rv(function({position:t,...i},o){const l=new Ur.Marker(t,i);return tl(l,od(o,{overlayContainer:l}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),Cs=Nm(function({positions:t,...i},o){const l=new Ur.Polyline(t,i);return tl(l,od(o,{overlayContainer:l}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),nc=sv(function({url:t,...i},o){const l=new Ur.TileLayer(t,ld(i,o));return tl(l,o)},function(t,i,o){ov(t,i,o);const{url:l}=i;l!=null&&l!==o.url&&t.setUrl(l)}),cv="https://api.openrouteservice.org/v2/directions/driving-car/geojson",uv="eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjE4MDRiNDk3M2FiNTRjYWU5MDVhOGY3MWNhYTg2MjBjIiwiaCI6Im11cm11cjY0In0=",dv=500,ic=new Map;async function hv(e,t){var c;const i=e.map(d=>[d.lng,d.lat]),o=await fetch(cv,{method:"POST",headers:{"Content-Type":"application/json",Authorization:uv},body:JSON.stringify({coordinates:i,radiuses:i.map(()=>1e4)}),signal:t});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(`ORS ${o.status}: ${((c=d.error)==null?void 0:c.message)||o.statusText}`)}const l=await o.json();if(!l.features||!l.features.length)throw new Error("ORS returned no features");return l.features[0].geometry.coordinates.map(d=>[d[1],d[0]])}function pv(e){return!e||e.length===0?"":e.map(t=>`${t.lat},${t.lng}`).join("|")}function fv(e){return e.map(t=>[t.lat,t.lng])}const mv=e=>vn.divIcon({className:"custom-div-icon",html:`<div style="
            background-color: #ff5f1f;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.5);
        ">${e}</div>`,iconSize:[24,24],iconAnchor:[12,12]}),gv=({waypoints:e,color:t="#ff5f1f",onRouteClick:i,isSelected:o,image:l})=>{const[c,d]=S.useState([]),[p,f]=S.useState(!1),g=S.useRef(""),_=S.useRef(null),y=S.useRef(null),k=pv(e);if(S.useEffect(()=>{if(k===g.current)return;if(g.current=k,clearTimeout(_.current),y.current&&y.current.abort(),ic.has(k)){d(ic.get(k)),f(!0);return}const v=e?fv(e):[];if(d(v),f(!1),!(!e||e.length<2))return _.current=setTimeout(()=>{const w=new AbortController;y.current=w,hv(e,w.signal).then(T=>{w.signal.aborted||(ic.set(k,T),d(T),f(!0))}).catch(T=>{T.name!=="AbortError"&&console.warn("[SmartRoute] ORS fallback:",T.message)})},dv),()=>{clearTimeout(_.current),y.current&&y.current.abort()}},[k]),!c||c.length<2)return null;const j=o?t:"#cc4c19",I=o?1:.6,z=o?6:4,N=o?100:10,x=o||l?vn.divIcon({className:"route-marker-icon",html:`
            <div class="marker-pin ${o?"selected":""}">
                <div class="marker-image" style="background-image: url('${l}');"></div>
            </div>
        `,iconSize:[40,50],iconAnchor:[20,50],popupAnchor:[0,-50]}):null;return s.jsxs(s.Fragment,{children:[s.jsx(Cs,{positions:c,pathOptions:{color:j,weight:p?z:3,opacity:p?I:.4,lineCap:"round",lineJoin:"round",dashArray:p?void 0:"5 10",zIndexOffset:N,className:o?"route-glow":""},eventHandlers:{click:v=>i&&i(c,v),mouseover:v=>{o||v.target.setStyle({weight:6,opacity:.9})},mouseout:v=>{o||v.target.setStyle({weight:4,opacity:.6})}}}),o&&e&&e.map((v,w)=>s.jsx(jr,{position:[v.lat,v.lng],icon:mv(w+1),zIndexOffset:N+1e3+w},`wp-${w}`)),x&&!o&&s.jsx(jr,{position:c[0],icon:x,zIndexOffset:N+10,eventHandlers:{click:v=>i&&i(c,v)}}),!o&&s.jsx(ru,{center:c[c.length-1],radius:4,pathOptions:{color:"#fff",fillColor:j,fillOpacity:1,weight:1}})]})},yv=(e=!1)=>{const t=e?"#00e676":"#00e5ff";return vn.divIcon({className:"ccp-arrow-icon",html:`<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <filter id="ccp-glow" x="-50%" y="-50%" width="200%" height="200%">
                    <feDropShadow dx="0" dy="0" stdDeviation="2" flood-color="${t}" flood-opacity="0.6"/>
                </filter>
            </defs>
            <polygon points="16,2 26,28 16,22 6,28" fill="${t}" stroke="white" stroke-width="1.5" filter="url(#ccp-glow)"/>
        </svg>`,iconSize:[32,32],iconAnchor:[16,16]})},vv=({flyToTarget:e,userLocation:t})=>{const i=ud(),o=S.useRef(!1);return S.useEffect(()=>{t&&!o.current&&(i.flyTo(t,13,{duration:1.5}),o.current=!0)},[t,i]),S.useEffect(()=>{if(e!=null&&e.path&&e.path.length>1){const l=e.path.map(d=>[d.lat,d.lng]),c={padding:[60,60],duration:1.5,...e.paddingOptions||{}};i.flyToBounds(l,c)}else if(e!=null&&e.waypoints&&e.waypoints.length>1&&e.waypoints[0].lat){const l=e.waypoints.map(d=>[d.lat,d.lng]),c={padding:[60,60],duration:1.5,...e.paddingOptions||{}};i.flyToBounds(l,c)}else if(e!=null&&e.coordinates){const{start:l}=e.coordinates;i.flyTo([l.lat,l.lng],13,{duration:1.2})}else if(e!=null&&e.lat&&(e!=null&&e.lng))if(e.isDrivingTrack){const l=i.project([e.lat,e.lng],e.zoom||14),c=i.getSize().y||window.innerHeight;l.y-=c*.25;const d=i.unproject(l,e.zoom||14);i.setView(d,e.zoom||14,{animate:!0,duration:.8})}else i.flyTo([e.lat,e.lng],e.zoom||14,{duration:1.2})},[e,i]),null},xv=({onMapMove:e,onMapClick:t,onManualPan:i})=>{const o=Am({moveend:()=>{e&&e(o.getCenter())},click:l=>{t&&t(l)},dragstart:()=>{i&&i()},movestart:l=>{}});return null},_v=({routes:e,onRouteTap:t,selectedRouteId:i})=>{const o=ud(),[l,c]=S.useState([]),d=S.useCallback(()=>{const f=o.getBounds(),g=e.filter(_=>{const y=_.path||(_.coordinates?[_.coordinates.start,_.coordinates.end]:[]);if(!y.length)return!1;const k=f.pad(.5);return y.some(j=>k.contains([j.lat,j.lng]))});c(g)},[e,o]);S.useEffect(()=>{d()},[d]),Am({moveend:d,zoomend:d});const p=(f,g)=>{g&&g.originalEvent&&g.originalEvent.stopPropagation(),t&&t(f)};return s.jsx(s.Fragment,{children:l.map(f=>{let g=[];if(f.path&&Array.isArray(f.path))g=f.path;else if(f.coordinates)g=[f.coordinates.start,f.coordinates.end];else return null;return s.jsx(gv,{waypoints:g,color:"#ff5f1f",isSelected:i===f.id,image:f.image,onRouteClick:(_,y)=>p(f,y)},f.id)})})},wv=()=>vn.divIcon({className:"poi-marker-icon",html:`<svg width="36" height="48" viewBox="0 0 36 48" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <filter id="poi-shadow" x="-30%" y="-10%" width="160%" height="130%">
                <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.4"/>
            </filter>
        </defs>
        <path d="M18 0C8.06 0 0 8.06 0 18c0 13.5 18 30 18 30s18-16.5 18-30C36 8.06 27.94 0 18 0z" fill="#ff5f1f" filter="url(#poi-shadow)"/>
        <circle cx="18" cy="18" r="7" fill="white"/>
    </svg>`,iconSize:[36,48],iconAnchor:[18,48],popupAnchor:[0,-48]}),lp=wv(),bv=(e,t)=>{const i=t?t.split(" ").slice(1).join(" "):"";return vn.divIcon({className:"driver-marker",html:`<div style="position: relative; width: 0; height: 0;">
        <div style="position: absolute; bottom: 14px; left: 50%; transform: translateX(-50%); background: white; padding: 6px 10px; border-radius: 12px; font-size: 11px; font-weight: 700; color: black; box-shadow: 0 4px 12px rgba(0,0,0,0.4); white-space: nowrap; pointer-events: none; display: flex; flex-direction: column; align-items: center; gap: 2px;">
            <div style="line-height: 1;">${e}</div>
            ${i?`<div style="font-size: 9px; font-weight: 500; color: #666; line-height: 1;">${i}</div>`:""}
        </div>
        <div style="position: absolute; top: -6px; left: -6px; width: 12px; height: 12px; background: #00e676; border: 2px solid white; border-radius: 50%; box-shadow: 0 0 10px #00e676;"></div>
    </div>`,iconSize:[0,0],iconAnchor:[0,0]})},Sv=({routes:e=[],routeGeometry:t,flyToTarget:i,onRouteTap:o,onLocationFound:l,mapStyle:c="default",onMapMove:d,onMapClick:p,selectedRouteId:f,poiMarker:g,liveSharing:_=!1,nearbyDrivers:y=[],onDriverClick:k,activeNavRoute:j,alternativeRoutes:I=[],onAlternativeRouteSelect:z,searchResults:N=[],onSearchResultClick:x,onManualPan:v})=>{var te;const[w,T]=S.useState(null),[M,E]=S.useState(null);S.useEffect(()=>{if(!navigator.geolocation){console.warn("Geolocation is not supported by this browser.");return}navigator.geolocation.watchPosition(Y=>{const{latitude:X,longitude:Q}=Y.coords,me={lat:X,lng:Q};T(me),l&&l(me)},Y=>{console.warn("Error getting user location:",Y),E(!0);const X={lat:48.1371,lng:11.5754};T(X),l&&l(X)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]);const O=w||[50.1109,8.6821],V=c==="satellite"?"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}":"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",A=c==="satellite"?'&copy; <a href="https://www.esri.com/">Esri</a>':'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/">CARTO</a>';return s.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:"var(--z-map)"},children:s.jsxs(lv,{center:O,zoom:13,style:{width:"100%",height:"100%",background:"#0f1115"},zoomControl:!1,attributionControl:!1,children:[s.jsx(nc,{url:V,attribution:A,subdomains:c==="satellite"?[]:"abcd",maxZoom:20}),c==="satellite"&&s.jsxs(s.Fragment,{children:[s.jsx(nc,{className:"grayscale-tiles",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",maxZoom:20,opacity:.4}),s.jsx(nc,{className:"grayscale-tiles",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",maxZoom:20,opacity:.7})]}),s.jsx(xv,{onMapMove:d,onMapClick:p,onManualPan:v}),s.jsx(_v,{routes:e,onRouteTap:o}),w&&s.jsxs(s.Fragment,{children:[s.jsx(jr,{position:w,icon:yv(_),zIndexOffset:1e3}),s.jsx(ru,{center:w,radius:20,pathOptions:{color:_?"#00e676":"#00e5ff",fillColor:_?"#00e676":"#00e5ff",fillOpacity:.15,weight:0}})]}),g&&s.jsx(jr,{position:[g.lat,g.lng],icon:lp,zIndexOffset:900,eventHandlers:{click:Y=>{vn.DomEvent.stopPropagation(Y)}}}),y.map(Y=>s.jsx(jr,{position:[Y.lat,Y.lng],icon:bv(Y.name,Y.vehicle),eventHandlers:{click:X=>{vn.DomEvent.stopPropagation(X),k&&k(Y)}},zIndexOffset:950},Y.id)),N.map((Y,X)=>s.jsx(jr,{position:[Y.lat,Y.lng],icon:lp,eventHandlers:{click:Q=>{vn.DomEvent.stopPropagation(Q),x&&x(Y)}},zIndexOffset:800},Y.id||X)),I&&I.map((Y,X)=>s.jsx(Cs,{positions:Y.geometry,pathOptions:{color:"#ffffff",weight:6,opacity:.3,lineCap:"round",lineJoin:"round",dashArray:"1, 10"},eventHandlers:{click:Q=>{vn.DomEvent.stopPropagation(Q),z&&z(Y)}},children:s.jsx(Cs,{positions:Y.geometry,pathOptions:{color:"transparent",weight:20,opacity:0},eventHandlers:{click:Q=>{vn.DomEvent.stopPropagation(Q),z&&z(Y)}}})},Y.id||`alt-${X}`)),((te=j==null?void 0:j.geometry)==null?void 0:te.length)>1&&s.jsxs(s.Fragment,{children:[s.jsx(Cs,{positions:j.geometry,pathOptions:{color:"#1565c0",weight:6,opacity:.85,lineCap:"round",lineJoin:"round"}}),s.jsx(Cs,{positions:j.geometry,pathOptions:{color:"#ffffff",weight:10,opacity:.3,lineCap:"round",lineJoin:"round"}}),s.jsx(ru,{center:j.geometry[j.geometry.length-1],radius:8,pathOptions:{color:"#1565c0",fillColor:"#ffffff",fillOpacity:1,weight:3}})]}),s.jsx(vv,{flyToTarget:i,userLocation:w})]},c)})},Fm=({onClose:e})=>s.jsxs("div",{style:{position:"fixed",inset:0,zIndex:"var(--z-modal)",display:"flex",alignItems:"center",justifyContent:"center",padding:20,animation:"fadeIn 0.2s ease"},children:[s.jsx("div",{onClick:e,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"}}),s.jsxs("div",{className:"glass-panel",style:{position:"relative",width:"100%",maxWidth:360,padding:24,borderRadius:24,boxShadow:"0 20px 80px rgba(0,0,0,0.5)",animation:"scaleUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[s.jsx("button",{onClick:e,style:{position:"absolute",top:16,right:16,background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer"},children:s.jsx(Mt,{size:20})}),s.jsxs("div",{style:{textAlign:"center",marginBottom:20},children:[s.jsx(nd,{size:48,color:"var(--primary-apex)",style:{marginBottom:12}}),s.jsx("h3",{style:{fontSize:20,fontWeight:800},children:"Supercar Suitability Score"}),s.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)"},children:"The Peak Flow standard for driving roads"})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{padding:10,background:"rgba(255,255,255,0.05)",borderRadius:12,height:"fit-content"},children:s.jsx(td,{size:20,color:"#4ade80"})}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:14,fontWeight:700},children:"Curviness & Flow"}),s.jsx("p",{style:{fontSize:12,color:"var(--text-secondary)",lineHeight:1.4},children:"Evaluation of bends, hairpins, and rhythm. Higher scores mean more dynamic driving."})]})]}),s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{padding:10,background:"rgba(255,255,255,0.05)",borderRadius:12,height:"fit-content"},children:s.jsx("div",{style:{width:20,height:20,borderRadius:"50%",border:"2px solid var(--sss-good)"}})}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:14,fontWeight:700},children:"Surface Quality"}),s.jsx("p",{style:{fontSize:12,color:"var(--text-secondary)",lineHeight:1.4},children:"Impact of potholes, gravel, and uneven pavement. Smooth asphalt boosts the score."})]})]}),s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{padding:10,background:"rgba(255,255,255,0.05)",borderRadius:12,height:"fit-content"},children:s.jsx(Ns,{size:20,color:"var(--sss-caution)"})}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:14,fontWeight:700},children:"Hazards & Traffic"}),s.jsx("p",{style:{fontSize:12,color:"var(--text-secondary)",lineHeight:1.4},children:"Presence of speed bumps, narrow lanes, and heavy traffic reduces the score."})]})]})]}),s.jsx("div",{style:{marginTop:24,padding:12,background:"var(--primary-apex-dim)",borderRadius:12,textAlign:"center"},children:s.jsx("p",{style:{fontSize:12,color:"var(--primary-apex)",fontWeight:600},children:"9.0+ = Elite Driving Road"})})]})]}),rc={speedHump:.3,pothole:.5,unpaved:.8},Om=e=>e>=9?{tier:"apex",color:"#00e676",label:"Apex"}:e>=7?{tier:"good",color:"#ff9100",label:"Good"}:e>=5?{tier:"caution",color:"#ffd600",label:"Caution"}:{tier:"danger",color:"#ff1744",label:"Danger"},kv=e=>{if(!(e!=null&&e.hazards))return[];const t=[],{speedHumps:i=0,potholes:o=0,unpaved:l=0}=e.hazards;return i>0&&t.push({type:"speedHump",count:i,deduction:i*rc.speedHump,label:`${i} Speed Hump${i>1?"s":""} detected`,icon:""}),o>0&&t.push({type:"pothole",count:o,deduction:o*rc.pothole,label:`${o} Pothole${o>1?"s":""} reported`,icon:"",timeAgo:"24m ago"}),l>0&&t.push({type:"unpaved",count:l,deduction:l*rc.unpaved,label:`${l}% Unpaved surface`,icon:""}),t},Dm=e=>{if(e<60)return`${e}min`;const t=Math.floor(e/60),i=e%60;return i>0?`${t}h ${i}min`:`${t}h`},jv=e=>({1:"Straight",2:"Gentle",3:"Moderate",4:"Technical",5:"Extreme"})[e]||"Unknown",Cv=e=>{if(!e)return"0 min";if(e<60)return`${e} min`;const t=Math.floor(e/60),i=e%60;return`${t}h ${i}min`},zv=({route:e,onClose:t,onExpand:i,onStartDrive:o,onFormConvoy:l,isFavorite:c,isBucketListed:d,onToggleFavorite:p,onToggleBucketList:f,userLocation:g,onSave:_,onDiscard:y})=>{var U;const[k,j]=S.useState(!1),[I,z]=S.useState(!1),[N,x]=S.useState(null),v=O=>{x(O.touches[0].clientY)},w=O=>{if(!N)return;const V=O.touches[0].clientY,A=N-V;A>50&&!I?(z(!0),x(null)):A<-50&&I&&(z(!1),x(null))},T=()=>{x(null)},M=(O,V,A,te)=>{if(!O||!V||!A||!te)return null;const Y=6371,X=(A-O)*(Math.PI/180),Q=(te-V)*(Math.PI/180),me=Math.sin(X/2)*Math.sin(X/2)+Math.cos(O*(Math.PI/180))*Math.cos(A*(Math.PI/180))*Math.sin(Q/2)*Math.sin(Q/2),ve=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return Y*ve},E=(U=e==null?void 0:e.coordinates)!=null&&U.start&&g?M(g.lat,g.lng,e.coordinates.start.lat,e.coordinates.start.lng):null;return e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"glass-sheet",onTouchStart:v,onTouchMove:w,onTouchEnd:T,style:{position:"absolute",bottom:0,left:0,right:0,width:"100%",maxWidth:"none",height:I?"92vh":"460px",transition:"height 0.35s cubic-bezier(0.16, 1, 0.3, 1)",zIndex:"var(--z-panel)",borderTopLeftRadius:24,borderTopRightRadius:24,display:"flex",flexDirection:"column",overflow:"hidden",animation:"slideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1)",boxShadow:"0 -8px 32px rgba(0,0,0,0.4)"},children:[s.jsxs("div",{style:{position:"relative",height:140,flexShrink:0,cursor:"pointer"},onClick:()=>z(!I),children:[s.jsx("img",{src:e.image||`https://picsum.photos/seed/${e.id}/800/400`,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:O=>{O.target.style.display="none",O.target.parentElement.style.background="linear-gradient(135deg, #1a1d24, #2c3e50)"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.8) 100%)"}}),s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:24,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:s.jsx("div",{style:{width:40,height:4,borderRadius:2,background:"rgba(255,255,255,0.4)"}})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),t()},style:{position:"absolute",top:12,left:12,zIndex:10,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:s.jsx(Rn,{size:18,strokeWidth:2.5})})]}),s.jsxs("div",{style:{padding:"4px 20px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:14},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:24,fontWeight:500,lineHeight:1.1,marginBottom:4,fontFamily:"var(--font-display)"},className:"truncate-2",children:e.name}),s.jsxs("p",{style:{fontSize:13,color:"var(--text-secondary)"},children:[e.authorVerified?"Verified Route":"Community Route","  by ",e.author]})]}),s.jsxs("button",{onClick:O=>{O.stopPropagation(),j(!0)},style:{background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,padding:"6px 10px",display:"flex",flexDirection:"column",alignItems:"center",cursor:"help",flexShrink:0},children:[s.jsx("span",{style:{fontSize:18,fontWeight:900,color:"var(--primary-apex)",lineHeight:1},children:e.sss}),s.jsx("span",{style:{fontSize:8,color:"var(--text-secondary)",fontWeight:600},children:"SSS"})]})]}),s.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,padding:"12px 0",borderTop:"1px solid rgba(255,255,255,0.06)"},children:[s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:10,padding:"10px 14px",background:"rgba(255,255,255,0.05)",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsx(on,{size:18,color:"var(--primary-apex)"}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:2,textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Distance"}),s.jsxs("p",{style:{fontSize:18,fontWeight:800,color:"white"},children:[e.distance," ",s.jsx("span",{style:{fontSize:13,fontWeight:500,color:"var(--text-secondary)"},children:"km"})]})]})]}),s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:10,padding:"10px 14px",background:"rgba(255,255,255,0.05)",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsx(Wn,{size:18,color:"var(--primary-apex)"}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:2,textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Duration"}),s.jsx("p",{style:{fontSize:18,fontWeight:800,color:"white"},children:Cv(e.duration)})]})]}),s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:10,padding:"10px 14px",background:"rgba(255,255,255,0.05)",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)"},children:[s.jsx(id,{size:18,color:"var(--primary-apex)"}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:2,textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Curviness"}),s.jsxs("p",{style:{fontSize:18,fontWeight:800,color:"white"},children:[e.curvinessIndex||"",s.jsx("span",{style:{fontSize:13,fontWeight:500,color:"var(--text-secondary)"},children:"/5"})]})]})]})]})]}),s.jsxs("div",{style:{flex:1,overflowY:I?"auto":"hidden",padding:"0 20px 20px",position:"relative",minHeight:0},className:"no-scrollbar",children:[!I&&s.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:50,background:"linear-gradient(to bottom, rgba(20, 20, 20, 0), rgba(15, 17, 21, 1))",zIndex:10,pointerEvents:"none"}}),s.jsx("div",{style:{marginTop:24,marginBottom:24},children:s.jsx(Fa,{route:e,userLocation:g,readOnly:!0})}),s.jsx("div",{style:{fontSize:13,fontWeight:700,color:"var(--text-secondary)",marginBottom:12,textTransform:"uppercase",letterSpacing:.5},children:"Route Details"}),s.jsx("p",{style:{fontSize:14,lineHeight:1.6,color:"rgba(255,255,255,0.8)",marginBottom:20},children:e.description||e.details||"A scenic route through the best driving roads in the region. Features a mix of tight hairpins and sweeping curves."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:24},children:[e.surface&&s.jsxs("div",{className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.03)"},children:[s.jsx("h4",{style:{fontSize:11,fontWeight:700,color:"var(--text-secondary)",marginBottom:8,textTransform:"uppercase"},children:"Surface"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:Object.entries(e.surface).map(([O,V])=>V>0&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("div",{style:{flex:1,textTransform:"capitalize"},children:O}),s.jsxs("div",{style:{fontWeight:700,color:"var(--primary-apex)"},children:[V,"%"]})]},O))})]}),e.hazards&&s.jsxs("div",{className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.03)"},children:[s.jsx("h4",{style:{fontSize:11,fontWeight:700,color:"var(--text-secondary)",marginBottom:8,textTransform:"uppercase"},children:"Alerts"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("span",{style:{color:e.hazards.potholes>0?"#ff4444":"var(--text-muted)"},children:""}),s.jsxs("span",{style:{color:e.hazards.potholes>0?"white":"var(--text-muted)"},children:["Potholes: ",e.hazards.potholes>0?"Yes":"None"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("span",{style:{color:e.hazards.speedHumps>0?"#ffbb33":"var(--text-muted)"},children:""}),s.jsxs("span",{style:{color:e.hazards.speedHumps>0?"white":"var(--text-muted)"},children:["Speed Humps: ",e.hazards.speedHumps]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[s.jsx("span",{style:{color:e.hazards.unpaved>0?"#ffbb33":"var(--text-muted)"},children:""}),s.jsxs("span",{style:{color:e.hazards.unpaved>0?"white":"var(--text-muted)"},children:["Unpaved: ",e.hazards.unpaved>0?"Yes":"None"]})]})]})]})]}),e.elevation&&s.jsxs("div",{style:{marginBottom:24,padding:"0 4px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-secondary)",marginBottom:6},children:[s.jsx("span",{children:"Elevation Gain"}),s.jsxs("span",{style:{color:"white",fontWeight:700},children:["+",e.elevation.gain,"m"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-secondary)"},children:[s.jsx("span",{children:"Max Gradient"}),s.jsxs("span",{style:{color:"white",fontWeight:700},children:[e.elevation.maxGradient,"%"]})]})]})]}),s.jsx("div",{style:{padding:"0 20px 20px",display:"flex",gap:10,alignItems:"center",marginTop:"auto",flexShrink:0},children:e.isGenerated?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{_(),alert("Route saved to 'My Routes'")},className:"btn-glass",style:{flex:1,padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:14,fontWeight:600},children:[s.jsx(rd,{size:16})," Save"]}),s.jsxs("button",{onClick:l,className:"btn-glass",style:{flex:1,padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:14,fontWeight:600},children:[s.jsx(st,{size:16})," Create convoy"]}),s.jsxs("button",{onClick:o,className:"btn-primary",style:{flex:2,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:15,fontWeight:700},children:[s.jsx(Et,{size:18}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{children:"Start"}),E!==null&&s.jsxs("span",{style:{fontSize:10,fontWeight:400,color:"rgba(255,255,255,0.55)"},children:[Math.round(E)," km to start"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:o,className:"btn-primary",style:{flex:2,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:15,fontWeight:700},children:[s.jsx(Et,{size:16}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{children:"Start Navigation"}),s.jsxs("span",{style:{fontSize:10,fontWeight:400,color:"rgba(255,255,255,0.55)"},children:["Distance to start: ",E?Math.round(E):"?"," km"]})]})]}),s.jsxs("button",{onClick:l,className:"btn-glass",style:{flex:1,padding:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:14,fontWeight:600},children:[s.jsx(st,{size:16})," Create convoy"]})]})})]}),k&&s.jsx(Fm,{onClose:()=>j(!1)})]}):null},Tv=({route:e,onClose:t,onStartDrive:i,onFormConvoy:o,isFavorite:l,isBucketListed:c,onToggleFavorite:d,onToggleBucketList:p})=>{var k,j,I,z;if(!e)return null;const[f,g]=S.useState(!1),_=Om(e.sss),y=kv(e);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{position:"fixed",inset:0,zIndex:"var(--z-modal)",display:"flex",flexDirection:"column",animation:"fadeIn 0.25s ease"},children:[s.jsx("div",{onClick:t,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"}}),s.jsxs("div",{className:"glass-sheet",style:{position:"absolute",bottom:70,left:0,right:0,height:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 -10px 50px rgba(0,0,0,0.6)",animation:"sheetUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)"},children:[s.jsxs("div",{style:{position:"relative",height:200,flexShrink:0,overflow:"hidden",borderRadius:"24px 24px 0 0"},children:[s.jsx("img",{src:e.image||`https://picsum.photos/seed/${e.id}/800/400`,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:N=>{N.target.style.display="none",N.target.parentElement.style.background="linear-gradient(135deg, #1a1d24, #2c3e50)"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(transparent 30%, rgba(15,17,21,0.95) 100%)"}}),s.jsx("button",{onClick:t,style:{position:"absolute",top:16,right:16,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(8px)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},children:s.jsx(Mt,{size:18})}),s.jsxs("div",{style:{position:"absolute",bottom:16,left:20,right:20},children:[s.jsx("h2",{style:{fontSize:28,fontWeight:500,lineHeight:1.2,marginBottom:4,fontFamily:"var(--font-display)"},children:e.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:14,color:"var(--text-secondary)"},children:[s.jsx("span",{children:e.region}),s.jsx("span",{style:{opacity:.4},children:""}),s.jsx("span",{style:{color:"var(--text-muted)"},children:"Curated by"}),e.authorVerified&&s.jsx(f1,{size:13,color:"var(--primary-apex)"}),s.jsx("span",{style:{fontWeight:500},children:e.author||"Peak Flow"})]})]})]}),s.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px"},className:"no-scrollbar",children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginBottom:24},children:[s.jsx(Ko,{icon:s.jsx(on,{size:16}),label:"Total Distance",value:`${e.distance} km`}),s.jsx(Ko,{icon:s.jsx(Wn,{size:16}),label:"Est. Time",value:Dm(e.duration)}),s.jsx(Ko,{icon:s.jsx(nd,{size:16,color:_.color}),label:"SSS",value:e.sss,valueColor:_.color,badge:_.label,onInfoClick:()=>g(!0)}),s.jsx(Ko,{icon:s.jsx(id,{size:18,color:"var(--primary-apex)"}),label:"Curviness",value:`${e.curvinessIndex}/5`,sub:jv(e.curvinessIndex)})]}),(((k=e.gallery)==null?void 0:k.length)>0||((j=e.waypoints)==null?void 0:j.length)>0)&&s.jsxs(Go,{title:"Gallery & Waypoints",children:[((I=e.gallery)==null?void 0:I.length)>0&&s.jsxs("div",{style:{marginBottom:16},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:8},children:[s.jsx(no,{size:13,color:"var(--text-secondary)"}),s.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)"},children:"Community Photos"})]}),s.jsx("div",{className:"gallery-strip",children:e.gallery.map((N,x)=>s.jsx("img",{src:N,alt:`Gallery ${x+1}`},x))})]}),((z=e.waypoints)==null?void 0:z.length)>0&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:10},children:[s.jsx(Tm,{size:13,color:"var(--text-secondary)"}),s.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)"},children:"Planned Stops"})]}),s.jsx("div",{className:"waypoint-timeline",children:e.waypoints.map((N,x)=>s.jsxs("div",{className:`waypoint-item waypoint-${N.type}`,children:[s.jsx("span",{className:"waypoint-name",children:N.name}),s.jsx("span",{className:`waypoint-type waypoint-type-${N.type}`,children:N.type==="scenic"?" Scenic":N.type==="fuel"?" Fuel":" Rest"}),s.jsxs("span",{className:"waypoint-dist",children:[N.distanceKm," km"]})]},x))})]})]}),s.jsx("h3",{style:{fontSize:16,fontWeight:700,marginBottom:16,color:"#fff"},children:"Route Details"}),e.surface&&s.jsxs(Go,{title:"Surface Composition",children:[s.jsxs("div",{style:{display:"flex",height:8,borderRadius:4,overflow:"hidden",marginBottom:10},children:[s.jsx("div",{style:{width:`${e.surface.asphalt||0}%`,background:"var(--sss-apex)"}}),s.jsx("div",{style:{width:`${e.surface.concrete||0}%`,background:"var(--sss-good)"}}),s.jsx("div",{style:{width:`${e.surface.cobblestone||0}%`,background:"var(--sss-caution)"}}),s.jsx("div",{style:{width:`${e.surface.gravel||0}%`,background:"var(--sss-danger)"}})]}),s.jsxs("div",{style:{display:"flex",gap:12,fontSize:11,color:"var(--text-secondary)",flexWrap:"wrap"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--sss-apex)"}})," Asphalt ",e.surface.asphalt||0,"%"]}),e.surface.concrete>0&&s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--sss-good)"}})," Concrete ",e.surface.concrete,"%"]}),e.surface.cobblestone>0&&s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--sss-caution)"}})," Cobbles ",e.surface.cobblestone,"%"]}),e.surface.gravel>0&&s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,color:"var(--sss-danger)"},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--sss-danger)"}})," Gravel ",e.surface.gravel,"%"]})]}),e.surface.gravel>0&&s.jsxs("div",{className:"surface-alert",children:[s.jsx(Ns,{size:14}),s.jsxs("span",{children:[" ",e.surface.gravel,"% of this route is gravel  high chassis risk"]})]}),e.surface.cobblestone>10&&s.jsxs("div",{className:"surface-alert",style:{background:"rgba(255, 214, 0, 0.08)",borderColor:"rgba(255, 214, 0, 0.2)",color:"var(--sss-caution)"},children:[s.jsx(Ns,{size:14}),s.jsx("span",{children:" Significant cobblestone sections detected"})]})]}),e.elevation&&s.jsxs(Go,{title:"Elevation & Gradient Profile",children:[s.jsxs("div",{style:{height:140,borderRadius:12,background:"rgba(255,255,255,0.03)",border:"var(--border-glass)",position:"relative",marginBottom:10,padding:"10px 10px 20px 30px"},children:[s.jsx("div",{style:{position:"absolute",top:5,left:5,fontSize:9,color:"var(--text-muted)",fontWeight:600},children:"Elevation (m)"}),s.jsx("div",{style:{position:"absolute",bottom:5,right:10,fontSize:9,color:"var(--text-muted)",fontWeight:600},children:"Distance (km)"}),s.jsx("div",{style:{position:"absolute",left:4,top:30,fontSize:8,color:"var(--text-secondary)"},children:e.elevation.max}),s.jsx("div",{style:{position:"absolute",left:4,bottom:30,fontSize:8,color:"var(--text-secondary)"},children:e.elevation.min||0}),s.jsxs("svg",{viewBox:"0 0 300 100",style:{width:"100%",height:"100%",overflow:"visible"},preserveAspectRatio:"none",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"elevGradDt",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"var(--primary-apex)",stopOpacity:"0.3"}),s.jsx("stop",{offset:"100%",stopColor:"var(--primary-apex)",stopOpacity:"0.02"})]})}),s.jsx("line",{x1:"0",y1:"0",x2:"300",y2:"0",stroke:"rgba(255,255,255,0.1)",strokeWidth:"0.5",strokeDasharray:"2 2"}),s.jsx("line",{x1:"0",y1:"50",x2:"300",y2:"50",stroke:"rgba(255,255,255,0.05)",strokeWidth:"0.5",strokeDasharray:"2 2"}),s.jsx("line",{x1:"0",y1:"100",x2:"300",y2:"100",stroke:"rgba(255,255,255,0.1)",strokeWidth:"0.5"}),s.jsx("path",{d:"M0,85 C30,80 50,55 75,48 C100,40 120,60 150,30 C180,12 200,25 220,18 C240,22 260,38 280,35 L300,40 L300,100 L0,100 Z",fill:"url(#elevGradDt)"}),s.jsx("path",{d:"M0,85 C30,80 50,55 75,48 C100,40 120,60 150,30 C180,12 200,25 220,18 C240,22 260,38 280,35 L300,40",fill:"none",stroke:"var(--primary-apex)",strokeWidth:"2"}),s.jsx("text",{x:"0",y:"115",fill:"rgba(255,255,255,0.4)",fontSize:"9",fontFamily:"Inter",textAnchor:"start",children:"0"}),s.jsx("text",{x:"150",y:"115",fill:"rgba(255,255,255,0.4)",fontSize:"9",fontFamily:"Inter",textAnchor:"middle",children:Math.round(e.distance/2)}),s.jsx("text",{x:"300",y:"115",fill:"rgba(255,255,255,0.4)",fontSize:"9",fontFamily:"Inter",textAnchor:"end",children:e.distance})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,fontSize:12},children:[s.jsxs("div",{style:{padding:"8px",background:"rgba(255,255,255,0.03)",borderRadius:8,textAlign:"center"},children:[s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)",marginBottom:2},children:"Elevation Gain"}),s.jsxs("p",{style:{fontWeight:700},children:[e.elevation.gain,"m"]})]}),s.jsxs("div",{style:{padding:"8px",background:"rgba(255,255,255,0.03)",borderRadius:8,textAlign:"center"},children:[s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)",marginBottom:2},children:"Max Altitude"}),s.jsxs("p",{style:{fontWeight:700},children:[e.elevation.max,"m"]})]}),s.jsxs("div",{style:{padding:"8px",background:"rgba(255,255,255,0.03)",borderRadius:8,textAlign:"center"},children:[s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)",marginBottom:2},children:"Max Grade"}),s.jsxs("p",{style:{fontWeight:700,color:Math.abs(e.elevation.maxGradient)>=10?"var(--primary-apex)":"#fff"},children:["+",e.elevation.maxGradient,"%"]})]}),s.jsxs("div",{style:{padding:"8px",background:"rgba(255,255,255,0.03)",borderRadius:8,textAlign:"center"},children:[s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)",marginBottom:2},children:"Min Grade"}),s.jsxs("p",{style:{fontWeight:700},children:[e.elevation.minGradient,"%"]})]})]})]}),y.length>0&&s.jsx(Go,{title:"Chassis Threats",children:s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:y.map((N,x)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 14px",background:"rgba(255,23,68,0.06)",border:"1px solid rgba(255,23,68,0.12)",borderRadius:12},children:[s.jsx("span",{style:{fontSize:18},children:N.icon}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:13,fontWeight:500},children:N.label}),N.timeAgo&&s.jsxs("p",{style:{fontSize:11,color:"var(--text-muted)"},children:["Reported ",N.timeAgo]}),s.jsxs("p",{style:{fontSize:11,color:"var(--sss-danger)"},children:["",N.deduction.toFixed(1)," SSS points"]})]}),s.jsx(Ns,{size:16,color:"var(--sss-danger)"})]},x))})}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"16px 0",borderTop:"1px solid rgba(255,255,255,0.06)",fontSize:14},children:s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6,color:"var(--text-secondary)"},children:[s.jsx(Na,{size:16,color:"var(--primary-apex)",fill:"var(--primary-apex)"})," ",e.hearts||0," favorites"]})})]}),s.jsxs("div",{style:{padding:"14px 20px 24px",display:"flex",gap:10,borderTop:"1px solid rgba(255,255,255,0.06)",flexShrink:0,alignItems:"center"},children:[s.jsxs("button",{onClick:i,className:"btn-primary",style:{flex:2,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:15,fontWeight:700},children:[s.jsx(Et,{size:18}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{children:"Start Navigation"}),s.jsxs("span",{style:{fontSize:10,fontWeight:400,color:"rgba(255,255,255,0.55)"},children:["Distance to start: ",e.distanceFromUser||"?"," km"]})]})]}),s.jsxs("button",{onClick:o,className:"btn-glass",style:{flex:1,padding:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:13,minWidth:"100px"},children:[s.jsx(st,{size:16})," Convoy"]}),s.jsxs("div",{style:{display:"flex",gap:6},children:[s.jsx("button",{className:`action-icon-btn ${c?"star-active":""}`,onClick:p,style:{color:c?"#fbbf24":"white",width:48,height:48},children:s.jsx(sd,{size:20,fill:c?"#fbbf24":"none"})}),s.jsx("button",{className:`action-icon-btn ${l?"heart-active":""}`,onClick:d,style:{width:48,height:48},children:s.jsx(Na,{size:20,fill:l?"#ff1744":"none",color:l?"#ff1744":"white"})})]})]})]})]}),f&&s.jsx(Fm,{onClose:()=>g(!1)})]})},Go=({title:e,children:t})=>s.jsxs("div",{style:{marginBottom:24},children:[s.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:12,color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:.5},children:e}),t]}),Ko=({icon:e,label:t,value:i,valueColor:o,sub:l,badge:c,onInfoClick:d})=>s.jsxs("div",{style:{padding:"14px 6px",background:"rgba(255,255,255,0.03)",border:"var(--border-glass)",borderRadius:12,textAlign:"center"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:6,color:"var(--text-secondary)"},children:e}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,marginBottom:4},children:[s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)"},children:t}),d&&s.jsx("button",{className:"sss-info-btn",onClick:p=>{p.stopPropagation(),d()},children:"i"})]}),s.jsx("p",{style:{fontSize:16,fontWeight:800,color:o||"white"},children:i}),c&&s.jsx("span",{style:{fontSize:9,color:o,fontWeight:600},children:c}),l&&s.jsx("p",{style:{fontSize:9,color:"var(--text-secondary)"},children:l})]}),Fs=({route:e,onClick:t,style:i})=>{var c;const o=Om(e.sss),l=((c=e.waypoints)==null?void 0:c.length)||0;return s.jsxs("div",{className:"glass-panel",onClick:t,style:{minWidth:"260px",maxWidth:"260px",height:"300px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"transform 0.25s ease, box-shadow 0.25s ease",display:"flex",flexDirection:"column",flexShrink:0,...i},onMouseEnter:d=>{d.currentTarget.style.transform="scale(1.02)",d.currentTarget.style.boxShadow="0 8px 32px rgba(0,0,0,0.4)"},onMouseLeave:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="none"},children:[s.jsxs("div",{style:{height:"55%",background:"#1a1d24",position:"relative",overflow:"hidden"},children:[s.jsx("img",{src:e.image||`https://picsum.photos/seed/${e.id}/800/600`,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover",opacity:.85},onError:d=>{d.target.style.display="none",d.target.parentElement.style.background="linear-gradient(135deg, #1a1d24, #2c3e50)"}}),s.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",background:"linear-gradient(transparent, rgba(0,0,0,0.6))",pointerEvents:"none"}}),s.jsxs("div",{style:{position:"absolute",top:10,right:10,width:42,height:42,borderRadius:"50%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(6px)",border:`2px solid ${o.color}`,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[s.jsx("span",{style:{fontSize:13,fontWeight:800,color:o.color,lineHeight:1},children:e.sss}),s.jsx("span",{style:{fontSize:7,color:o.color,letterSpacing:.5},children:"SSS"})]}),s.jsxs("div",{style:{position:"absolute",bottom:10,left:10,background:"rgba(20, 20, 20, 0.7)",backdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:20,fontSize:12,fontWeight:600,display:"flex",alignItems:"center",gap:6,color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:[s.jsx(Wn,{size:14})," ",Dm(e.duration)]})]}),s.jsxs("div",{style:{padding:"10px 14px",flex:1,display:"flex",flexDirection:"column"},children:[s.jsx("h3",{style:{fontSize:15,fontWeight:700,marginBottom:2,lineHeight:1.2},className:"truncate-2",children:e.name}),s.jsx("p",{style:{fontSize:11,color:"var(--text-secondary)",marginBottom:6},children:e.region}),s.jsxs("div",{style:{display:"flex",gap:12,fontSize:11,color:"var(--text-muted)",marginBottom:6},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx(Et,{size:10,color:"var(--primary-apex)"}),e.distanceFromUser?`${e.distanceFromUser} km away`:" km"]}),l>0&&s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx(Tm,{size:10}),l," ",l===1?"stop":"stops"]})]}),s.jsxs("div",{style:{marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,fontSize:11,color:"var(--text-secondary)"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(on,{size:11})," ",e.distance,"km"]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(td,{size:11})," ",e.curvinessIndex||"","/5"]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(Na,{size:11})," ",e.hearts||0]})]}),s.jsx("button",{style:{background:"var(--primary-apex)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",flexShrink:0,boxShadow:"0 2px 8px rgba(255,95,31,0.3)",transition:"transform 0.2s"},children:s.jsx(Cm,{size:14})})]})]})]})},Tn={starts:[{name:"Munich (Center)",lat:48.1351,lng:11.582},{name:"Munich (South)",lat:48.097,lng:11.545}],lakes:[{name:"Walchensee",lat:47.594,lng:11.401,type:"scenic",icon:"",tags:["scenic","chill","swim"]},{name:"Kochelsee",lat:47.6035,lng:11.3308,type:"scenic",icon:"",tags:["scenic","chill"]},{name:"Sylvensteinsee",lat:47.587,lng:11.556,type:"scenic",icon:"",tags:["scenic","bridge","chill"]},{name:"Tegernsee",lat:47.728,lng:11.773,type:"scenic",icon:"",tags:["scenic","posh","coffee"]},{name:"Ammersee",lat:47.999,lng:11.131,type:"scenic",icon:"",tags:["scenic","sunset","chill"]},{name:"Starnberger See",lat:47.9077,lng:11.3618,type:"scenic",icon:"",tags:["scenic","posh"]},{name:"Eibsee",lat:47.456,lng:10.992,type:"scenic",icon:"",tags:["scenic","far","mountains"]}],passes:[{name:"Kesselberg Pass",lat:47.625,lng:11.352,type:"driving",icon:"",tags:["curves","fast","technical"]},{name:"Sudelfeld Pass",lat:47.683,lng:12.01,type:"driving",icon:"",tags:["curves","technical","mountains"]},{name:"Tatzelwurm",lat:47.671,lng:12.083,type:"driving",icon:"",tags:["curves","waterfall","short"]},{name:"Jachenau Toll Road",lat:47.58,lng:11.434,type:"driving",icon:"",tags:["curves","forest","scenic"]},{name:"Rossfeld Panoramastrae",lat:47.616,lng:13.093,type:"driving",icon:"",tags:["curves","views","far"]}],food:[{name:"Dinbzer Kaffeersterei",lat:47.755,lng:11.745,type:"cafe",icon:"",tags:["coffee","cake"]},{name:"Aran Brothaus Tegernsee",lat:47.708,lng:11.756,type:"cafe",icon:"",tags:["coffee","view"]},{name:"Winklstberl",lat:47.783,lng:11.954,type:"cafe",icon:"",tags:["cake","traditional"]},{name:"Gourmet Tempel",lat:48,lng:11.3,type:"food",icon:"",tags:["food"]}],cities:[{name:"Bad Tlz",lat:47.76,lng:11.56,type:"landmark",icon:"",tags:["city","culture"]},{name:"Mittenwald",lat:47.441,lng:11.264,type:"landmark",icon:"",tags:["city","mountains"]},{name:"Garmisch-Partenkirchen",lat:47.491,lng:11.095,type:"landmark",icon:"",tags:["city","mountains"]}]},Pv=e=>{const t=e.toLowerCase();let i=180;const o=t.match(/(\d+)\s*h/)||t.match(/(\d+)\s*hour/);o&&(i=parseInt(o[1])*60);const l=[];return(t.includes("fast")||t.includes("speed")||t.includes("sport"))&&l.push("fast"),(t.includes("chill")||t.includes("relax")||t.includes("easy"))&&l.push("chill"),(t.includes("scenic")||t.includes("view")||t.includes("nice"))&&l.push("scenic"),(t.includes("curve")||t.includes("corner")||t.includes("fun"))&&l.push("curves"),(t.includes("coffee")||t.includes("cafe")||t.includes("cake"))&&l.push("coffee"),(t.includes("mountain")||t.includes("alp"))&&l.push("mountains"),(t.includes("lake")||t.includes("water"))&&l.push("scenic"),{duration:i,vibes:l}},cp=(e,t=1)=>[...e].sort(()=>.5-Math.random()).slice(0,t),Lv=e=>{let t=0;for(let d=0;d<e.length-1;d++){const p=e[d].lat,f=e[d].lng,g=e[d+1].lat,_=e[d+1].lng,y=6371,k=(g-p)*Math.PI/180,j=(_-f)*Math.PI/180,I=Math.sin(k/2)*Math.sin(k/2)+Math.cos(p*Math.PI/180)*Math.cos(g*Math.PI/180)*Math.sin(j/2)*Math.sin(j/2),z=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));t+=y*z}const i=Math.round(t*1.4),o=Math.round(i*1),l=(e.length-2)*15,c=o+l;return{distance:i,duration:c}},Wm=async(e,t)=>{console.log("[AI Architect] Generating real route for:",e,"from:",t),await new Promise(j=>setTimeout(j,1500));const{duration:i,vibes:o}=Pv(e),l=t?{name:"Current Location",lat:t.lat,lng:t.lng}:Tn.starts[0];let c=[];(o.includes("curves")||o.includes("fast"))&&c.push(...Tn.passes),(o.includes("scenic")||o.includes("chill"))&&(c.push(...Tn.lakes),c.push(...Tn.cities)),o.includes("coffee")&&c.push(...Tn.food),c.length===0&&(c=[...Tn.lakes,...Tn.passes,...Tn.cities]),c=[...new Set(c)];const d=Math.max(2,Math.min(5,Math.floor(i/45))),p=cp(c,d);if(o.includes("coffee")&&!p.some(j=>j.type==="cafe")){const j=cp(Tn.food,1)[0];j&&(p[1]=j)}p.sort((j,I)=>j.lng-I.lng);const f=[l,...p,l],g=Lv(f),_=p.find(j=>j.type==="driving"||j.type==="scenic")||p[0],y=`AI: ${_.name} ${o.includes("fast")?"Sprint":"Explorer"}`,k={id:`ai-gen-${Date.now()}`,name:y,region:t?"Near You":"Bavaria",author:"AI Architect",authorVerified:!0,distance:g.distance,duration:g.duration,curves:o.includes("curves")?"High":"Medium",curvinessIndex:o.includes("curves")?5:3,sss:o.includes("curves")?9.2:8.5,hearts:0,technical:o.includes("fast")||o.includes("curves"),scenic:!0,isLoop:!0,distanceFromUser:0,image:_.type==="scenic"?"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Walchensee_Panorama.jpg/1280px-Walchensee_Panorama.jpg":"https://www.rossfeldpanoramastrasse.de/wp-content/uploads/2024/05/rossfeld-panorama-strasse-home-header-1024x682.jpg",surface:{asphalt:100},hazards:{potholes:0,speedHumps:0,unpaved:0},elevation:{gain:Math.floor(g.distance*8),maxGradient:4},waypoints:f.map(j=>({lat:j.lat,lng:j.lng,name:j.name})),stops:p};return{status:"success",ai_reasoning:`Selected ${p.length} stops matching "${o.join(", ")}" vibe.`,route_proposal:k}},Iv=async(e,t)=>{const i=`${e.style>.5?"fast technical curves":"scenic chill"} ${e.duration} minutes`;return Wm(i,t)},Ev=({onClose:e,onRouteGenerated:t,userLocation:i})=>{const[o,l]=S.useState("voice"),[c,d]=S.useState(!1),[p,f]=S.useState(!1),[g,_]=S.useState(!1),[y,k]=S.useState(""),[j,I]=S.useState(!1),[z,N]=S.useState(2),[x,v]=S.useState("S"),[w,T]=S.useState(.5),[M,E]=S.useState(!0),U=[{label:"30 min",value:30},{label:"2 hours",value:120},{label:"4 hours",value:240},{label:"Day trip",value:480},{label:"Multiple days",value:1440}],O=[{key:"N",label:"N"},{key:"NE",label:"NE"},{key:"E",label:"E"},{key:"SE",label:"SE"},{key:"S",label:"S"},{key:"SW",label:"SW"},{key:"W",label:"W"},{key:"NW",label:"NW"}],V=Ai.useRef(null);S.useEffect(()=>{const X=window.SpeechRecognition||window.webkitSpeechRecognition;if(X){const Q=new X;Q.continuous=!1,Q.interimResults=!0,Q.lang="en-US",Q.onstart=()=>{_(!0),k(""),I(!1)},Q.onresult=me=>{let ve="";for(let Ae=me.resultIndex;Ae<me.results.length;++Ae)ve+=me.results[Ae][0].transcript;k(ve)},Q.onerror=me=>{console.error("[AI] Voice error:",me.error),_(!1),me.error==="not-allowed"?alert("Microphone access denied. Please check your system/browser permissions."):me.error==="no-speech"||alert("Voice input error: "+me.error)},Q.onend=()=>{_(!1),k(me=>(me&&me.trim().length>0&&I(!0),me))},V.current=Q}return()=>{V.current&&V.current.abort()}},[]);const A=()=>{if(!V.current){alert("Voice input is not supported in this browser. Please try Chrome, Edge, or Safari.");return}g?V.current.stop():V.current.start()};S.useEffect(()=>{!j||!y||c||(d(!0),Wm(y,i).then(X=>{X!=null&&X.route_proposal&&t(X.route_proposal)}).catch(X=>console.error("[AI] Voice error:",X)).finally(()=>d(!1)))},[j,y]);const te=async()=>{d(!0);try{const X=U[z].value,Q=await Iv({duration:X,direction:x,style:w,style:w,isLoop:M},i);Q!=null&&Q.route_proposal&&t(Q.route_proposal)}catch(X){console.error("[AI] Param error:",X)}d(!1)},Y=X=>({flex:1,padding:"10px 16px",borderRadius:10,border:"none",background:X?"linear-gradient(135deg, var(--primary-apex), var(--primary-deep))":"transparent",color:X?"white":"var(--text-secondary)",fontWeight:X?700:500,fontSize:14,fontFamily:"var(--font-main)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6,transition:"all 0.2s"});return s.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:20,animation:"fadeIn 0.2s ease"},children:[s.jsx("div",{onClick:e,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)"}}),s.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:440,maxHeight:"85vh",overflowY:"auto",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",border:"var(--border-glass-strong)",background:"rgba(22, 25, 32, 0.98)",borderRadius:"var(--border-radius)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:X=>X.stopPropagation(),className:"no-scrollbar",children:[s.jsxs("div",{style:{padding:"24px 24px 0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("div",{children:s.jsxs("h2",{style:{fontSize:20,fontWeight:800,display:"flex",alignItems:"center",gap:8},children:[s.jsx(Ni,{size:20,color:"var(--primary-apex)"})," AI route generator"]})}),s.jsx("button",{onClick:e,style:{background:"rgba(255,255,255,0.08)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},children:s.jsx(Mt,{size:18})})]}),s.jsxs("div",{style:{display:"flex",gap:4,margin:"16px 24px",padding:4,borderRadius:14,background:"rgba(255,255,255,0.05)"},children:[s.jsxs("button",{onClick:()=>{l("voice"),I(!1),k("")},style:Y(o==="voice"),children:[s.jsx(Aa,{size:15})," Voice"]}),s.jsxs("button",{onClick:()=>l("parameters"),style:Y(o==="parameters"),children:[s.jsx(B1,{size:15})," Parameters"]})]}),s.jsx("p",{style:{fontSize:13,color:"var(--text-muted)",padding:"0 24px",marginBottom:4},children:o==="voice"?"Describe your ideal route with your voice":"Fine-tune your route with exact parameters"}),s.jsxs("div",{style:{padding:"0 24px 24px"},children:[o==="voice"&&s.jsxs("div",{style:{margin:"20px 0 0",textAlign:"center"},children:[!j&&s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:20},children:s.jsxs("button",{onClick:()=>f(!p),style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"6px 14px",color:"var(--text-secondary)",fontSize:12,fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:6,fontFamily:"var(--font-main)"},children:[s.jsx(w1,{size:13})," How does it work?"]})}),p&&!j&&s.jsxs("div",{style:{padding:14,marginBottom:20,background:"rgba(255,95,31,0.06)",borderRadius:12,border:"1px solid rgba(255,95,31,0.15)",fontSize:13,color:"var(--text-secondary)",lineHeight:1.5,textAlign:"left"},children:[s.jsx("strong",{style:{color:"var(--primary-apex)"},children:"Tap the microphone"})," and describe your ideal drive. For example:",s.jsxs("ul",{style:{marginTop:8,paddingLeft:18,display:"flex",flexDirection:"column",gap:4},children:[s.jsx("li",{children:'"I want a 3-hour drive with lakes and challenging curves"'}),s.jsx("li",{children:'"Give me an iconic Black Forest route with a caf stop"'}),s.jsx("li",{children:'"A fast 2-hour autobahn route to test top speed"'})]})]}),!j&&s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:A,style:{width:90,height:90,borderRadius:"50%",background:g?"linear-gradient(135deg, var(--primary-apex), var(--sss-danger))":"rgba(255,255,255,0.06)",border:g?"3px solid var(--primary-apex)":"2px solid rgba(255,255,255,0.12)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",cursor:"pointer",transition:"all 0.3s",animation:g?"pulseGlow 1.5s ease infinite":"none",boxShadow:g?"0 0 30px rgba(255,95,31,0.3)":"none"},children:g?s.jsx(k1,{size:36,color:"white"}):s.jsx(Aa,{size:36,color:"var(--text-secondary)"})}),s.jsx("p",{style:{fontSize:14,color:g?"var(--primary-apex)":"var(--text-muted)",fontWeight:g?600:400},children:g?" Listening... Tap to finish":"Tap to start speaking"})]}),j&&s.jsxs("div",{style:{marginTop:12},children:[s.jsxs("div",{style:{padding:16,background:"rgba(255,255,255,0.04)",borderRadius:14,border:"1px solid rgba(255,95,31,0.15)",textAlign:"left",fontSize:15,fontStyle:"italic",color:"white",lineHeight:1.5},children:[s.jsx("span",{style:{color:"var(--text-muted)",fontSize:12,fontStyle:"normal",fontWeight:600,display:"block",marginBottom:8},children:"Your request:"}),'"',y,'"']}),c&&s.jsxs("div",{style:{marginTop:24,display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:[s.jsx("div",{style:{width:48,height:48,border:"3px solid rgba(255,95,31,0.2)",borderTopColor:"var(--primary-apex)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:15,fontWeight:600,color:"white"},children:"Generating your route..."}),s.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:4},children:"Analyzing roads, stops & conditions"})]})]}),!c&&s.jsxs("button",{onClick:()=>{I(!1),k("")},style:{marginTop:20,padding:"12px 20px",background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,color:"var(--text-secondary)",fontSize:14,fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:8,margin:"20px auto 0",fontFamily:"var(--font-main)"},children:[s.jsx(eu,{size:14})," Try again"]})]})]}),o==="parameters"&&s.jsxs("div",{style:{marginTop:20},children:[s.jsxs("div",{style:{marginBottom:28},children:[s.jsxs("label",{style:{fontSize:13,fontWeight:600,display:"flex",alignItems:"center",gap:6,marginBottom:12},children:[s.jsx(Wn,{size:14,color:"var(--primary-apex)"})," Duration"]}),s.jsx("input",{type:"range",min:0,max:4,step:1,value:z,onChange:X=>N(parseInt(X.target.value)),style:{width:"100%",accentColor:"var(--primary-apex)"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8,fontSize:11,color:"var(--text-muted)"},children:U.map((X,Q)=>s.jsx("span",{style:{color:Q===z?"var(--primary-apex)":"inherit",fontWeight:Q===z?700:400},children:X.label},Q))})]}),s.jsxs("div",{style:{marginBottom:28},children:[s.jsxs("label",{style:{fontSize:13,fontWeight:600,display:"flex",alignItems:"center",gap:6,marginBottom:12},children:[s.jsx(zm,{size:14,color:"var(--primary-apex)"})," Preferred Direction"]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:O.map(X=>s.jsx("button",{onClick:()=>v(X.key),style:{padding:"10px 8px",borderRadius:10,border:x===X.key?"1px solid rgba(255,95,31,0.4)":"var(--border-glass)",background:x===X.key?"rgba(255,95,31,0.12)":"rgba(255,255,255,0.03)",color:x===X.key?"var(--primary-apex)":"var(--text-secondary)",fontWeight:600,fontSize:14,fontFamily:"var(--font-main)",cursor:"pointer",transition:"all 0.2s"},children:X.label},X.key))})]}),s.jsxs("div",{style:{marginBottom:28},children:[s.jsxs("label",{style:{fontSize:13,fontWeight:600,display:"flex",alignItems:"center",gap:6,marginBottom:12},children:[s.jsx(Ni,{size:14,color:"var(--primary-apex)"})," Driving Style"]}),s.jsx("input",{type:"range",min:0,max:1,step:.1,value:w,onChange:X=>T(parseFloat(X.target.value)),style:{width:"100%",accentColor:"var(--primary-apex)"}}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8,fontSize:12,color:"var(--text-muted)"},children:[s.jsx("span",{style:{color:w<=.3?"var(--sss-apex)":"inherit"},children:"Relaxing"}),s.jsx("span",{style:{color:w>=.7?"var(--primary-apex)":"inherit"},children:"Challenging"})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:14,border:"var(--border-glass)",marginBottom:20},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(eu,{size:16,color:M?"var(--primary-apex)":"var(--text-muted)"}),s.jsxs("div",{children:[s.jsx("span",{style:{fontSize:14,fontWeight:600,color:"white"},children:"Loop Route"}),s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:"Return to starting point"})]})]}),s.jsx("div",{onClick:()=>E(!M),style:{width:50,height:28,borderRadius:14,background:M?"linear-gradient(135deg, var(--primary-apex), var(--primary-deep))":"rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.3s",position:"relative",flexShrink:0},children:s.jsx("div",{style:{width:22,height:22,borderRadius:"50%",background:"white",position:"absolute",top:3,left:M?25:3,transition:"left 0.3s",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"}})})]}),s.jsx("button",{onClick:te,disabled:c,className:"btn-primary",style:{width:"100%",padding:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:15,fontWeight:700},children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:18,height:18,border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ni,{size:18})," Generate Route"]})})]})]})]})]})},Mv=({route:e,onSave:t,onCancel:i,onUpdatePreview:o})=>{const[l,c]=S.useState(e.name||"Custom Route"),[d,p]=S.useState([]),[f,g]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!e.waypoints)return;g(!0);const N=await Promise.all(e.waypoints.map(async x=>{const v=x.name||await da(x.lat,x.lng);return{...x,address:v}}));p(N),g(!1)})()},[e]);const _=(z,N)=>{const x=[...d];x[z]={...x[z],address:N},p(x)},y=async z=>{const N=d[z];if(!N.address)return;g(!0);const x=await Vr(N.address,1);if(x&&x.length>0){const v=x[0],w=[...d];w[z]={...w[z],lat:v.lat,lng:v.lng,name:v.name},p(w),o({...e,waypoints:w,name:l})}g(!1)},k=()=>{p([...d,{address:"",lat:0,lng:0}])},j=z=>{const N=d.filter((x,v)=>v!==z);p(N),o({...e,waypoints:N,name:l})},I=()=>{t({...e,waypoints:d,name:l})};return s.jsxs("div",{style:{position:"absolute",top:20,left:20,height:"calc(100% - 40px)",maxHeight:800,width:360,zIndex:"var(--z-panel)",display:"flex",flexDirection:"column",boxSizing:"border-box"},className:"glass-panel no-scrollbar",children:[s.jsxs("div",{style:{padding:20,borderBottom:"var(--border-glass)",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[s.jsxs("h2",{style:{fontSize:18,fontWeight:700,display:"flex",alignItems:"center",gap:8},children:[s.jsx(Et,{size:20,color:"var(--primary-apex)"})," Edit Route"]}),s.jsx("button",{onClick:i,style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:s.jsx(Mt,{size:20})})]}),s.jsxs("div",{style:{flex:1,padding:20,overflowY:"auto"},className:"no-scrollbar",children:[s.jsxs("div",{style:{marginBottom:20},children:[s.jsx("label",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)",marginBottom:8,display:"block"},children:"ROUTE NAME"}),s.jsx("input",{value:l,onChange:z=>c(z.target.value),style:{width:"100%",padding:"10px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,color:"white",fontSize:14,fontWeight:600,fontFamily:"var(--font-main)",outline:"none"}})]}),s.jsxs("div",{style:{display:"flex",gap:12,marginBottom:24,padding:"12px",background:"rgba(255,255,255,0.03)",borderRadius:12,border:"var(--border-glass)"},children:[s.jsxs("div",{style:{flex:1,textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"white"},children:[e.distance,s.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)",marginLeft:2},children:"km"})]}),s.jsx("div",{style:{fontSize:10,color:"var(--text-muted)",textTransform:"uppercase"},children:"Distance"})]}),s.jsx("div",{style:{width:1,background:"rgba(255,255,255,0.1)"}}),s.jsxs("div",{style:{flex:1,textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"white"},children:[Math.floor(e.duration/60),s.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)",marginLeft:2},children:"h"})," ",e.duration%60,s.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)",marginLeft:2},children:"m"})]}),s.jsx("div",{style:{fontSize:10,color:"var(--text-muted)",textTransform:"uppercase"},children:"Duration"})]}),e.sss&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:1,background:"rgba(255,255,255,0.1)"}}),s.jsxs("div",{style:{flex:1,textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,color:e.sss>=9?"var(--sss-apex)":"var(--sss-good)"},children:e.sss}),s.jsx("div",{style:{fontSize:10,color:"var(--text-muted)",textTransform:"uppercase"},children:"SSS"})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[s.jsx("label",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)"},children:"STOPS"}),d.map((z,N)=>s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("div",{style:{paddingTop:10},children:s.jsx(on,{size:16,color:N===0?"var(--sss-good)":N===d.length-1?"var(--sss-apex)":"var(--text-muted)"})}),s.jsx("div",{style:{flex:1},children:s.jsx("input",{value:z.address,onChange:x=>_(N,x.target.value),onBlur:()=>y(N),placeholder:N===0?"Start location":N===d.length-1?"Destination":"Stop",style:{width:"100%",padding:"10px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,color:"white",fontSize:13,fontFamily:"var(--font-main)",outline:"none"}})}),d.length>2&&s.jsx("button",{onClick:()=>j(N),style:{background:"none",border:"none",color:"var(--sss-danger)",cursor:"pointer",opacity:.6},children:s.jsx(fi,{size:16})})]},N)),s.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"8px",marginTop:8,background:"rgba(255,255,255,0.03)",border:"1px dashed rgba(255,255,255,0.2)",borderRadius:8,color:"var(--text-secondary)",fontSize:12,cursor:"pointer"},children:[s.jsx(In,{size:14})," Add Stop"]})]})]}),s.jsxs("div",{style:{padding:20,borderTop:"var(--border-glass)",display:"flex",gap:10,flexShrink:0},children:[s.jsx("button",{onClick:i,className:"btn-glass",style:{flex:1,justifyContent:"center"},children:"Discard"}),s.jsx("button",{onClick:I,className:"btn-primary",disabled:f,style:{flex:1,justifyContent:"center"},children:f?"Updating...":s.jsxs(s.Fragment,{children:[s.jsx(rd,{size:16,style:{marginRight:6}})," Save Route"]})})]})]})},Rv=({onClose:e,onSelect:t,location:i})=>{const[o,l]=S.useState(""),[c,d]=S.useState([]),[p,f]=S.useState(!1);return S.useEffect(()=>{if(!o||o.length<3){d([]);return}f(!0);const g=setTimeout(async()=>{try{const _=await Vr(o,5,i);d(_)}catch(_){console.error("Search failed",_)}finally{f(!1)}},400);return()=>clearTimeout(g)},[o,i]),s.jsxs("div",{style:{position:"absolute",inset:0,zIndex:2500,background:"rgba(10, 10, 12, 0.95)",backdropFilter:"blur(12px)",display:"flex",flexDirection:"column",animation:"fadeIn 0.2s ease-out"},children:[s.jsxs("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:12,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("button",{onClick:e,style:{width:40,height:40,borderRadius:"50%",background:"rgba(255,255,255,0.1)",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:s.jsx(Mt,{size:20})}),s.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:10,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,padding:"10px 14px"},children:[s.jsx(Vi,{size:18,color:"var(--text-secondary)"}),s.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search for a stop...",value:o,onChange:g=>l(g.target.value),style:{background:"transparent",border:"none",color:"white",flex:1,fontSize:16,fontFamily:"var(--font-main)",outline:"none"}}),p&&s.jsx("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})]})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"10px 20px"},children:c.length>0?c.map((g,_)=>s.jsxs("button",{onClick:()=>t(g),style:{width:"100%",display:"flex",alignItems:"center",gap:14,padding:"16px 0",background:"none",border:"none",borderBottom:"1px solid rgba(255,255,255,0.05)",color:"white",cursor:"pointer",textAlign:"left"},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(on,{size:18,color:"white"})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:2},children:g.name}),s.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)"},children:g.details})]})]},g.id||_)):o.length>2&&!p&&s.jsx("div",{style:{padding:40,textAlign:"center",color:"var(--text-secondary)"},children:"No results found"})})]})},Bv=({onClose:e,onAIEntry:t,onStart:i})=>{const[o,l]=S.useState("Current Location"),[c,d]=S.useState(""),[p,f]=S.useState(null),[g,_]=S.useState([]),[y,k]=S.useState(!1);S.useEffect(()=>{if(!c||c.length<3){_([]);return}k(!0);const I=setTimeout(async()=>{const z=await Vr(c,5);_(z),k(!1)},400);return()=>clearTimeout(I)},[c]);const j=I=>{d(I.name),f(I),_([])};return s.jsxs("div",{className:"glass-sheet",style:{position:"absolute",bottom:0,left:0,right:0,height:"60vh",maxHeight:500,display:"flex",flexDirection:"column",boxShadow:"0 -10px 50px rgba(0,0,0,0.6)",animation:"sheetUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)",zIndex:"var(--z-panel)",borderTopLeftRadius:24,borderTopRightRadius:24,borderTop:"1px solid rgba(255,255,255,0.1)",overflow:"hidden"},children:[s.jsxs("div",{style:{padding:"20px 20px 10px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("h2",{style:{fontSize:20,fontWeight:700},children:"Plan Route"}),s.jsx("button",{onClick:e,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},children:s.jsx(Mt,{size:18})})]}),s.jsxs("div",{style:{padding:"0 20px 20px",flex:1,display:"flex",flexDirection:"column",gap:16,overflowY:"auto"},className:"no-scrollbar",children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",background:"rgba(255,255,255,0.05)",borderRadius:12,border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--primary-apex)"}}),s.jsx("input",{type:"text",value:o,onChange:I=>l(I.target.value),style:{background:"transparent",border:"none",color:"white",flex:1,fontSize:15,fontFamily:"var(--font-main)",outline:"none"}})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",background:"rgba(255,255,255,0.05)",borderRadius:12,border:"1px solid rgba(255,255,255,0.2)",borderColor:p?"var(--primary-apex)":"rgba(255,255,255,0.1)"},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",border:"2px solid white"}}),s.jsx("input",{type:"text",placeholder:"Where to?",value:c,onChange:I=>{d(I.target.value),p&&f(null)},style:{background:"transparent",border:"none",color:"white",flex:1,fontSize:15,fontFamily:"var(--font-main)",outline:"none"}}),y?s.jsx("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"}}):s.jsx(Vi,{size:18,color:"var(--text-muted)"})]}),g.length>0&&s.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,background:"rgba(25, 27, 32, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,overflow:"hidden",zIndex:100},children:g.map((I,z)=>s.jsxs("button",{onClick:()=>j(I),style:{width:"100%",display:"flex",alignItems:"center",gap:12,padding:"12px 16px",background:"none",border:"none",borderBottom:z<g.length-1?"1px solid rgba(255,255,255,0.05)":"none",color:"white",cursor:"pointer",textAlign:"left"},onMouseEnter:N=>N.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:N=>N.currentTarget.style.background="none",children:[s.jsx(on,{size:16,color:"var(--primary-apex)"}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:14,fontWeight:600},children:I.name}),s.jsx("div",{style:{fontSize:11,color:"var(--text-secondary)"},children:I.details})]})]},I.id||z))})]})]}),s.jsxs("button",{onClick:t,style:{padding:"16px",marginTop:8,background:"linear-gradient(135deg, rgba(255,95,31,0.15), rgba(255,95,31,0.05))",border:"1px dashed rgba(255,95,31,0.4)",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",gap:10,color:"var(--primary-apex)",fontSize:15,fontWeight:700,cursor:"pointer",transition:"all 0.2s"},children:[s.jsx(Ni,{size:18}),"AI route generator"]})]}),s.jsx("div",{style:{padding:"20px",borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"auto"},children:s.jsxs("button",{onClick:()=>i(p),disabled:!p,style:{width:"100%",padding:"16px",borderRadius:12,background:p?"var(--primary-apex)":"rgba(255,255,255,0.1)",color:p?"white":"rgba(255,255,255,0.3)",border:"none",fontSize:15,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:8,cursor:p?"pointer":"not-allowed",transition:"all 0.2s"},children:[s.jsx(Et,{size:18}),"Generate Route"]})})]})},Nv=[{id:"sports",label:" Sports car"},{id:"quick",label:" 1-2h"},{id:"half",label:" 3-5h"},{id:"full",label:" >5h"},{id:"multiday",label:" >1 day"},{id:"challenging",label:" Challenging"},{id:"relaxed",label:" Relaxed"}],Av=({routes:e=[],onRouteSelect:t,onManualPlan:i,onAutoCreate:o,onSearch:l,activeFilters:c=new Set,onFilterToggle:d,onLocationSelect:p,history:f=[],onSubmit:g,location:_})=>{const[y,k]=S.useState(""),[j,I]=S.useState(!1),[z,N]=S.useState([]),[x,v]=S.useState(!1);S.useEffect(()=>{if(!y||y.length<3){N([]);return}const M=setTimeout(async()=>{try{const E=await Vr(y,5,_);N(E)}catch(E){console.error("Autocomplete failed",E)}},300);return()=>clearTimeout(M)},[y,_]);const w=j&&(y.length>0||f.length>0),T=M=>{k(M.name),I(!1),p&&p({id:M.id,lat:M.lat,lng:M.lng,name:M.name,details:M.details,type:M.type,zoom:14})};return s.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,padding:"56px 20px 0",zIndex:"var(--z-overlay)",pointerEvents:"none"},children:[s.jsxs("div",{style:{display:"flex",gap:10,pointerEvents:"auto",alignItems:"stretch"},children:[s.jsxs("div",{style:{flex:j?1:3,padding:"12px 16px",display:"flex",alignItems:"center",gap:10,transition:"all 0.3s cubic-bezier(0.16, 1, 0.3, 1)",background:"var(--bg-glass)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:j?"1px solid var(--primary-apex)":"var(--border-glass)",borderRadius:20},children:[s.jsx(Vi,{size:18,color:"var(--text-secondary)"}),s.jsx("input",{type:"text",placeholder:"Where next?",value:y,onChange:M=>{k(M.target.value),l==null||l(M.target.value)},onFocus:()=>I(!0),onBlur:()=>setTimeout(()=>I(!1),200),onKeyDown:M=>{M.key==="Enter"&&(g==null||g(y),I(!1))},style:{background:"transparent",border:"none",color:"white",flex:1,fontSize:15,fontFamily:"var(--font-main)",outline:"none",minWidth:0}}),y&&s.jsx("button",{onClick:()=>{k(""),l==null||l("")},style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:4},children:s.jsx(Mt,{size:16})})]}),s.jsxs("button",{onClick:i,style:{flex:1,padding:"0 16px",display:j?"none":"flex",alignItems:"center",justifyContent:"center",gap:8,background:"linear-gradient(135deg, rgba(255,95,31,0.15) 0%, rgba(255,95,31,0.08) 100%)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,95,31,0.35)",borderRadius:"var(--border-radius)",color:"var(--primary-apex)",fontSize:13,fontWeight:700,cursor:"pointer",boxShadow:"0 4px 16px rgba(255,95,31,0.15)",transition:"all 0.3s cubic-bezier(0.16, 1, 0.3, 1)",whiteSpace:"nowrap",overflow:"hidden",opacity:j?0:1,width:j?0:"auto",transform:j?"scale(0.95)":"scale(1)"},children:[s.jsx(Ni,{size:16}),s.jsx("span",{children:"Create"})]})]}),s.jsx("div",{style:{marginTop:12,display:"flex",gap:8,overflowX:"auto",paddingBottom:4,pointerEvents:"auto",scrollbarWidth:"none"},className:"no-scrollbar",children:Nv.map(M=>s.jsx("div",{className:`filter-chip ${c.has(M.id)?"active":""}`,onClick:()=>d==null?void 0:d(M.id),children:M.label},M.id))}),w&&s.jsx("div",{style:{marginTop:8,position:"absolute",top:100,left:20,right:20,zIndex:2e3,background:"rgba(20, 24, 32, 0.95)",backdropFilter:"blur(16px)",borderRadius:16,border:"var(--border-glass)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)",pointerEvents:"auto",overflow:"hidden",animation:"slideDown 0.2s ease-out"},children:x?s.jsx("div",{style:{padding:20,textAlign:"center",color:"var(--text-secondary)",fontSize:13},children:"Searching..."}):y.length===0&&f.length>0?s.jsxs("div",{children:[s.jsx("div",{style:{padding:"12px 16px 4px",fontSize:11,fontWeight:700,color:"var(--text-secondary)",letterSpacing:"0.05em",textTransform:"uppercase"},children:"Recent Controls"}),f.map(M=>s.jsxs("div",{onClick:()=>T(M),style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:12,cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.04)",transition:"background 0.2s"},onMouseEnter:E=>E.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:E=>E.currentTarget.style.background="transparent",children:[s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(Wn,{size:16,color:"var(--text-secondary)"})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:14,fontWeight:600,color:"white"},children:M.name}),s.jsx("div",{style:{fontSize:12,color:"var(--text-secondary)"},children:M.details})]})]},M.id))]}):z.length>0?z.map(M=>s.jsxs("div",{onClick:()=>T(M),style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:12,cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.04)",transition:"background 0.2s"},onMouseEnter:E=>E.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:E=>E.currentTarget.style.background="transparent",children:[s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:"rgba(255,255,255,0.08)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(on,{size:16,color:"var(--text-secondary)"})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:14,fontWeight:600,color:"white"},children:M.name}),s.jsx("div",{style:{fontSize:12,color:"var(--text-secondary)"},children:M.details})]})]},M.id)):s.jsx("div",{style:{padding:20,textAlign:"center",color:"var(--text-secondary)",fontSize:13},children:"No results found"})})]})},Fv=({results:e=[],onSelect:t,onClose:i})=>!e||e.length===0?null:s.jsxs("div",{className:"glass-sheet",style:{position:"absolute",bottom:70,left:0,right:0,maxHeight:"60%",zIndex:"var(--z-panel)",borderTopLeftRadius:24,borderTopRightRadius:24,display:"flex",flexDirection:"column",overflow:"hidden",animation:"slideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1)",background:"rgba(20, 24, 32, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[s.jsxs("div",{style:{padding:"20px 20px 10px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:18,fontWeight:700,color:"white",marginBottom:2},children:"Search Results"}),s.jsxs("p",{style:{fontSize:13,color:"var(--text-secondary)"},children:[e.length," places found"]})]}),s.jsx("button",{onClick:i,className:"btn-icon",style:{background:"rgba(255,255,255,0.05)",width:32,height:32},children:s.jsx(Mt,{size:18})})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"10px 0",scrollbarWidth:"thin"},className:"no-scrollbar",children:e.map((o,l)=>s.jsxs("div",{onClick:()=>t(o),style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:16,cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.04)",transition:"background 0.2s"},onMouseEnter:c=>c.currentTarget.style.background="rgba(255,255,255,0.03)",onMouseLeave:c=>c.currentTarget.style.background="transparent",children:[s.jsx("div",{style:{width:40,height:40,borderRadius:12,background:"rgba(255,95,31,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(on,{size:20,color:"var(--primary-apex)"})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("div",{style:{fontSize:16,fontWeight:600,color:"white",marginBottom:2},className:"truncate",children:o.name}),s.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)"},className:"truncate",children:o.details||"Location"})]}),s.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Et,{size:14,color:"var(--text-secondary)",style:{transform:"rotate(90deg)"}})})]},o.id||l))})]}),Ov=({poi:e,userLocation:t,onClose:i,onRoute:o})=>{const[l,c]=S.useState(!1),[d,p]=S.useState(null),f=j=>{p(j.touches[0].clientY)},g=j=>{if(!d)return;const I=j.touches[0].clientY,z=d-I;z>50&&!l?(c(!0),p(null)):z<-50&&l&&(c(!1),p(null))},_=()=>{p(null)},y=S.useMemo(()=>{if(!e)return{};const j=e.id.split("").reduce((v,w)=>v+w.charCodeAt(0),0),I=(4+j%10/10).toFixed(1),z=20+j%200,x=`https://picsum.photos/id/${j%50+10}/600/400`;return{rating:I,reviews:z,imageUrl:x}},[e==null?void 0:e.id]);if(!e)return null;const k=t?(()=>{const I=(e.lat-t.lat)*Math.PI/180,z=(e.lng-t.lng)*Math.PI/180,N=Math.sin(I/2)*Math.sin(I/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(z/2)*Math.sin(z/2);return(6371*(2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N)))).toFixed(1)})():null;return s.jsx("div",{onTouchStart:f,onTouchMove:g,onTouchEnd:_,style:{position:"absolute",bottom:0,left:0,right:0,width:"100%",maxWidth:"none",height:l?"92vh":"auto",transition:"height 0.35s cubic-bezier(0.16, 1, 0.3, 1)",zIndex:1100,display:"flex",flexDirection:"column",pointerEvents:"none"},children:s.jsxs("div",{className:"glass-panel",style:{width:"100%",height:"100%",pointerEvents:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:24,borderTopRightRadius:24,padding:0,overflow:"hidden",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",boxShadow:"0 -8px 32px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:30,zIndex:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:()=>c(!l),children:s.jsx("div",{style:{width:40,height:4,borderRadius:2,background:"rgba(255,255,255,0.4)"}})}),s.jsx("button",{onClick:j=>{j.stopPropagation(),i()},style:{position:"absolute",top:12,left:12,zIndex:40,background:"rgba(0,0,0,0.6)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",backdropFilter:"blur(8px)",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:s.jsx(Rn,{size:22,strokeWidth:2.5})}),s.jsx("button",{onClick:j=>{j.stopPropagation(),i()},style:{position:"absolute",top:12,right:12,zIndex:30,background:"rgba(0,0,0,0.4)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",backdropFilter:"blur(4px)"},children:s.jsx(Mt,{size:18})}),s.jsxs("div",{style:{height:160,position:"relative"},children:[s.jsx("img",{src:y.imageUrl,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 40%, rgba(20,24,32,0.95))"}}),s.jsx("div",{style:{position:"absolute",bottom:16,left:20,background:"rgba(255, 95, 31, 0.9)",color:"white",padding:"4px 10px",borderRadius:4,fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:.5},children:e.type||"Point of Interest"})]}),s.jsxs("div",{style:{padding:"4px 20px 20px",flex:1,overflowY:l?"auto":"hidden",position:"relative",maxHeight:l?"none":"200px"},className:"no-scrollbar",children:[!l&&s.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:60,background:"linear-gradient(to bottom, rgba(20, 20, 20, 0), rgba(15, 17, 21, 1))",zIndex:10,pointerEvents:"none"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:"0 0 4px",color:"white"},children:e.name}),s.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",margin:0},children:e.details})]})}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginTop:16},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx(sd,{size:14,fill:"#FFD700",color:"#FFD700"}),s.jsx("span",{style:{fontSize:13,fontWeight:600,color:"white"},children:y.rating}),s.jsxs("span",{style:{fontSize:12,color:"var(--text-muted)"},children:["(",y.reviews,")"]})]}),k&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[s.jsx(Et,{size:14,color:"var(--primary-apex)"}),s.jsxs("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:[k," km away"]})]})]}),s.jsx("button",{onClick:()=>o==null?void 0:o(e),className:"btn-primary",style:{width:"100%",marginTop:20,display:"flex",justifyContent:"center",gap:8},children:s.jsx("span",{children:"Routes"})})]})]})})},Dv=[{id:"muc-1",name:"Isar-Classic Loop",region:"Mnchen Ost",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:55,duration:75,sss:9.8,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:105,image:"https://images.unsplash.com/photo-1595867818082-083862f3d630?w=800",surface:{asphalt:98,concrete:2,gravel:0,cobblestone:0},elevation:{gain:120,max:590,minGradient:-3,maxGradient:4},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Keine"],atmosphere:["Riverside","Urban Exit"],coordinates:{start:{lat:48.13,lng:11.595},end:{lat:48.13,lng:11.595}},path:[{lat:48.13,lng:11.595},{lat:48.091,lng:11.55},{lat:48.041,lng:11.519},{lat:48.06,lng:11.48},{lat:48.091,lng:11.53},{lat:48.13,lng:11.595}],waypoints:[{name:"Isar Overlook",type:"scenic",distanceKm:8},{name:"Grnwald Bridge",type:"scenic",distanceKm:22},{name:"Schftlarn Abbey",type:"scenic",distanceKm:38}],gallery:["https://images.unsplash.com/photo-1595867818082-083862f3d630?w=400"]},{id:"muc-2",name:"Ammersee Westbank",region:"Mnchen West",author:"Stefan K.",authorVerified:!0,theme:"Relaxed",distance:115,duration:150,sss:9.4,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:487,image:"https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=800",surface:{asphalt:96,concrete:4,gravel:0,cobblestone:0},elevation:{gain:280,max:710,minGradient:-4,maxGradient:5},hazards:{speedHumps:2,potholes:0,unpaved:0},chassisThreats:["Promenaden-Verkehr"],atmosphere:["Lakeside","Countryside"],coordinates:{start:{lat:48.146,lng:11.459},end:{lat:48.146,lng:11.459}},path:[{lat:48.146,lng:11.459},{lat:48.08,lng:11.3},{lat:48.001,lng:11.112},{lat:47.95,lng:11.08},{lat:48.001,lng:11.2},{lat:48.08,lng:11.35},{lat:48.146,lng:11.459}],waypoints:[{name:"Herrsching Promenade",type:"scenic",distanceKm:20},{name:"Dieen Caf",type:"rest",distanceKm:48},{name:"Andechs Kloster",type:"rest",distanceKm:78}],gallery:["https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=400"]},{id:"muc-3",name:"Voralpen-Sprint",region:"Mnchen Sd",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:140,duration:165,sss:8.5,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:267,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800",surface:{asphalt:93,concrete:4,gravel:3,cobblestone:0},elevation:{gain:860,max:920,minGradient:-10,maxGradient:12},hazards:{speedHumps:2,potholes:1,unpaved:0},chassisThreats:["Scharfe Kurven im Forst"],atmosphere:["Alpine Foothills","Forest"],coordinates:{start:{lat:48.11,lng:11.54},end:{lat:48.11,lng:11.54}},path:[{lat:48.11,lng:11.54},{lat:48.04,lng:11.58},{lat:47.95,lng:11.65},{lat:47.854,lng:11.751},{lat:47.92,lng:11.68},{lat:48.01,lng:11.6},{lat:48.11,lng:11.54}],waypoints:[{name:"Sauerlach Curves",type:"scenic",distanceKm:18},{name:"Holzkirchen Bypass",type:"scenic",distanceKm:42},{name:"Miesbach Valley",type:"scenic",distanceKm:75}],gallery:["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400"]},{id:"muc-4",name:"Dachauer Hinterland",region:"Mnchen Nord",author:"Max T.",authorVerified:!0,theme:"Relaxed",distance:75,duration:90,sss:9.2,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:175,image:"https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=800",surface:{asphalt:97,concrete:3,gravel:0,cobblestone:0},elevation:{gain:90,max:520,minGradient:-2,maxGradient:3},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Landstraen-Profil"],atmosphere:["Countryside","Moorland"],coordinates:{start:{lat:48.2,lng:11.58},end:{lat:48.2,lng:11.58}},path:[{lat:48.2,lng:11.58},{lat:48.26,lng:11.5},{lat:48.31,lng:11.48},{lat:48.29,lng:11.55},{lat:48.25,lng:11.57},{lat:48.2,lng:11.58}],waypoints:[{name:"Dachau Palace",type:"scenic",distanceKm:12},{name:"Amper Bridge",type:"scenic",distanceKm:35},{name:"Schleiheim Palace",type:"scenic",distanceKm:58}],gallery:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=400"]},{id:"alp-1",name:"Kesselberg & Walchensee",region:"Kochel am See",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:95,duration:120,sss:7.8,curvinessIndex:5,curves:"Extreme",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:245,image:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=800",surface:{asphalt:90,concrete:5,gravel:5,cobblestone:0},elevation:{gain:1200,max:1100,minGradient:-14,maxGradient:16},hazards:{speedHumps:1,potholes:1,unpaved:1},chassisThreats:["Haarnadelkurven","Hohes Verkehrsaufkommen"],atmosphere:["Alpine","Mountain Pass"],coordinates:{start:{lat:47.683,lng:11.332},end:{lat:47.683,lng:11.332}},path:[{lat:47.683,lng:11.332},{lat:47.65,lng:11.34},{lat:47.61,lng:11.35},{lat:47.585,lng:11.345},{lat:47.6,lng:11.32},{lat:47.64,lng:11.31},{lat:47.683,lng:11.332}],waypoints:[{name:"Kesselberg Pass",type:"scenic",distanceKm:12},{name:"Walchensee View",type:"scenic",distanceKm:35},{name:"Urfeld Caf",type:"rest",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400"]},{id:"alp-2",name:"Rossfeldpanoramastrae",region:"Berchtesgaden",author:"Stefan K.",authorVerified:!0,theme:"Relaxed",distance:40,duration:75,sss:8.2,curvinessIndex:5,curves:"Extreme",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:128,image:"https://www.rossfeldpanoramastrasse.de/wp-content/uploads/2024/05/rossfeld-panorama-strasse-home-header-1024x682.jpg",surface:{asphalt:92,concrete:6,gravel:2,cobblestone:0},elevation:{gain:920,max:1560,minGradient:-13,maxGradient:13},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Steile Gradienten (13%)"],atmosphere:["Alpine","Panorama"],coordinates:{start:{lat:47.63,lng:13.001},end:{lat:47.63,lng:13.001}},path:[{lat:47.63,lng:13.001},{lat:47.64,lng:13.02},{lat:47.65,lng:13.05},{lat:47.645,lng:13.07},{lat:47.635,lng:13.04},{lat:47.63,lng:13.001}],waypoints:[{name:"Rossfeld Summit",type:"scenic",distanceKm:15},{name:"Panorama Terrace",type:"scenic",distanceKm:25}],gallery:["https://www.rossfeldpanoramastrasse.de/wp-content/uploads/2024/05/rossfeld-panorama-strasse-home-header-1024x682.jpg"]},{id:"alp-3",name:"Sylvenstein Odyssey",region:"Bad Tlz",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:120,duration:180,sss:9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:346,image:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800",surface:{asphalt:95,concrete:3,gravel:2,cobblestone:0},elevation:{gain:680,max:880,minGradient:-8,maxGradient:10},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Brcken-Dehnungsfugen"],atmosphere:["Alpine","Lakeside"],coordinates:{start:{lat:47.749,lng:11.412},end:{lat:47.749,lng:11.412}},path:[{lat:47.749,lng:11.412},{lat:47.7,lng:11.45},{lat:47.62,lng:11.55},{lat:47.592,lng:11.538},{lat:47.64,lng:11.48},{lat:47.7,lng:11.43},{lat:47.749,lng:11.412}],waypoints:[{name:"Sylvenstein Dam",type:"scenic",distanceKm:30},{name:"Fall Village",type:"rest",distanceKm:55},{name:"Lenggries Return",type:"scenic",distanceKm:90}],gallery:["https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400"]},{id:"alp-4",name:"Oberstdorf Alpencross",region:"Oberstdorf",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:110,duration:150,sss:8,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:242,image:"https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=800",surface:{asphalt:91,concrete:5,gravel:4,cobblestone:0},elevation:{gain:1100,max:1200,minGradient:-12,maxGradient:14},hazards:{speedHumps:1,potholes:1,unpaved:1},chassisThreats:["Engstellen","Viehgitter"],atmosphere:["Alpine","Valley"],coordinates:{start:{lat:47.407,lng:10.279},end:{lat:47.407,lng:10.279}},path:[{lat:47.407,lng:10.279},{lat:47.38,lng:10.3},{lat:47.358,lng:10.316},{lat:47.34,lng:10.298},{lat:47.36,lng:10.27},{lat:47.39,lng:10.26},{lat:47.407,lng:10.279}],waypoints:[{name:"Nebelhorn Base",type:"scenic",distanceKm:8},{name:"Fellhorn View",type:"scenic",distanceKm:42},{name:"Breitachklamm",type:"scenic",distanceKm:75}],gallery:["https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=400"]},{id:"alp-5",name:"Tegernsee Panorama",region:"Gmund am Tegernsee",author:"Stefan K.",authorVerified:!0,theme:"Relaxed",distance:85,duration:105,sss:9.5,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:236,image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800",surface:{asphalt:97,concrete:3,gravel:0,cobblestone:0},elevation:{gain:480,max:870,minGradient:-6,maxGradient:8},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["1 Temposchwelle Rottach-Egern"],atmosphere:["Lakeside","Alpine"],coordinates:{start:{lat:47.746,lng:11.737},end:{lat:47.746,lng:11.737}},path:[{lat:47.746,lng:11.737},{lat:47.72,lng:11.75},{lat:47.69,lng:11.76},{lat:47.67,lng:11.74},{lat:47.7,lng:11.72},{lat:47.73,lng:11.73},{lat:47.746,lng:11.737}],waypoints:[{name:"Tegernsee Brustberl",type:"rest",distanceKm:12},{name:"Rottach Promenade",type:"scenic",distanceKm:30},{name:"Kreuth Valley",type:"scenic",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400"]},{id:"alp-6",name:"Plansee Border Run",region:"Reutte (AT)",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:70,duration:100,sss:9.1,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:447,image:"https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=800",surface:{asphalt:94,concrete:4,gravel:2,cobblestone:0},elevation:{gain:520,max:980,minGradient:-7,maxGradient:9},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Grenzbergang"],atmosphere:["Alpine","Lakeside"],coordinates:{start:{lat:47.486,lng:10.718},end:{lat:47.486,lng:10.718}},path:[{lat:47.486,lng:10.718},{lat:47.46,lng:10.75},{lat:47.44,lng:10.79},{lat:47.432,lng:10.785},{lat:47.45,lng:10.73},{lat:47.486,lng:10.718}],waypoints:[{name:"Plansee Shore",type:"scenic",distanceKm:10},{name:"Heiterwanger See",type:"scenic",distanceKm:32},{name:"Ammergau Return",type:"scenic",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=400"]},{id:"alp-7",name:"Garmisch: Wank & Estergebirge",region:"Garmisch-Partenkirchen",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:100,duration:135,sss:8.3,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:394,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=800",surface:{asphalt:92,concrete:5,gravel:3,cobblestone:0},elevation:{gain:980,max:1280,minGradient:-11,maxGradient:13},hazards:{speedHumps:1,potholes:1,unpaved:0},chassisThreats:["Steile Rampen","Forstweg-Kreuzungen"],atmosphere:["Alpine","Mountain Pass"],coordinates:{start:{lat:47.492,lng:11.096},end:{lat:47.492,lng:11.096}},path:[{lat:47.492,lng:11.096},{lat:47.47,lng:11.12},{lat:47.44,lng:11.08},{lat:47.435,lng:11.105},{lat:47.455,lng:11.13},{lat:47.48,lng:11.1},{lat:47.492,lng:11.096}],waypoints:[{name:"Wank Panorama",type:"scenic",distanceKm:15},{name:"Esterbergalm",type:"rest",distanceKm:45},{name:"Partnachklamm View",type:"scenic",distanceKm:72}],gallery:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400"]},{id:"alp-8",name:"Bad Reichenhall Salzstrae",region:"Bad Reichenhall",author:"Lisa R.",authorVerified:!0,theme:"Relaxed",distance:65,duration:90,sss:9.3,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:362,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800",surface:{asphalt:96,concrete:4,gravel:0,cobblestone:0},elevation:{gain:380,max:750,minGradient:-5,maxGradient:7},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Salzbergwerk-Verkehr"],atmosphere:["Alpine","Cultural"],coordinates:{start:{lat:47.727,lng:12.878},end:{lat:47.727,lng:12.878}},path:[{lat:47.727,lng:12.878},{lat:47.71,lng:12.9},{lat:47.69,lng:12.92},{lat:47.7,lng:12.95},{lat:47.72,lng:12.91},{lat:47.727,lng:12.878}],waypoints:[{name:"Alte Saline",type:"scenic",distanceKm:5},{name:"Thumsee",type:"scenic",distanceKm:25},{name:"Nonn Viewpoint",type:"scenic",distanceKm:48}],gallery:["https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400"]},{id:"sw-1",name:"Schwarzwaldhochstrae (B500)",region:"Baden-Baden",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:160,duration:210,sss:8.8,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:308,image:"https://images.unsplash.com/photo-1448375240586-882707db888b?w=800",surface:{asphalt:93,concrete:4,gravel:3,cobblestone:0},elevation:{gain:1100,max:1164,minGradient:-10,maxGradient:12},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Wildwechsel","Touristenbusse"],atmosphere:["Forest","Mountain Pass"],coordinates:{start:{lat:48.762,lng:8.242},end:{lat:48.762,lng:8.242}},path:[{lat:48.762,lng:8.242},{lat:48.7,lng:8.23},{lat:48.63,lng:8.22},{lat:48.52,lng:8.21},{lat:48.6,lng:8.25},{lat:48.7,lng:8.26},{lat:48.762,lng:8.242}],waypoints:[{name:"Mummelsee",type:"scenic",distanceKm:25},{name:"Ruhestein Pass",type:"scenic",distanceKm:60},{name:"Hornisgrinde Summit",type:"scenic",distanceKm:95}],gallery:["https://images.unsplash.com/photo-1448375240586-882707db888b?w=400"]},{id:"sw-2",name:"Schauinsland Hillclimb",region:"Freiburg",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:50,duration:60,sss:7.5,curvinessIndex:5,curves:"Extreme",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:170,image:"https://images.unsplash.com/photo-1542202229-7d93c33f5d07?w=800",surface:{asphalt:90,concrete:5,gravel:5,cobblestone:0},elevation:{gain:1050,max:1284,minGradient:-14,maxGradient:16},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["Extreme Kurvenfolge","Motorradfahrer"],atmosphere:["Forest","Mountain Pass"],coordinates:{start:{lat:47.994,lng:7.852},end:{lat:47.994,lng:7.852}},path:[{lat:47.994,lng:7.852},{lat:47.97,lng:7.87},{lat:47.94,lng:7.89},{lat:47.91,lng:7.89},{lat:47.94,lng:7.86},{lat:47.97,lng:7.85},{lat:47.994,lng:7.852}],waypoints:[{name:"Schauinsland Summit",type:"scenic",distanceKm:18},{name:"Bergstation Caf",type:"rest",distanceKm:25}],gallery:["https://images.unsplash.com/photo-1542202229-7d93c33f5d07?w=400"]},{id:"sw-3",name:"Triberg Waterfall Circuit",region:"Triberg",author:"Stefan K.",authorVerified:!0,theme:"Relaxed",distance:80,duration:110,sss:8.9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:154,image:"https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=800",surface:{asphalt:94,concrete:4,gravel:2,cobblestone:0},elevation:{gain:620,max:950,minGradient:-8,maxGradient:10},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Touristenzone Triberg"],atmosphere:["Forest","Cultural"],coordinates:{start:{lat:48.13,lng:8.234},end:{lat:48.13,lng:8.234}},path:[{lat:48.13,lng:8.234},{lat:48.1,lng:8.25},{lat:48.06,lng:8.28},{lat:48.08,lng:8.31},{lat:48.11,lng:8.27},{lat:48.13,lng:8.234}],waypoints:[{name:"Triberg Falls",type:"scenic",distanceKm:5},{name:"Cuckoo Clock Workshop",type:"scenic",distanceKm:28},{name:"Gutach Valley",type:"scenic",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=400"]},{id:"sw-4",name:"Titisee-Feldberg Loop",region:"Titisee-Neustadt",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:90,duration:120,sss:8.1,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:167,image:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800",surface:{asphalt:92,concrete:5,gravel:3,cobblestone:0},elevation:{gain:880,max:1493,minGradient:-12,maxGradient:14},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["Feldberg-Gradienten","Wanderer-Verkehr"],atmosphere:["Alpine","Lakeside"],coordinates:{start:{lat:47.899,lng:8.157},end:{lat:47.899,lng:8.157}},path:[{lat:47.899,lng:8.157},{lat:47.87,lng:8.14},{lat:47.86,lng:8.1},{lat:47.88,lng:8.07},{lat:47.91,lng:8.1},{lat:47.899,lng:8.157}],waypoints:[{name:"Titisee Promenade",type:"scenic",distanceKm:5},{name:"Feldberg Summit Road",type:"scenic",distanceKm:35},{name:"Seebuck View",type:"scenic",distanceKm:60}],gallery:["https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400"]},{id:"sw-5",name:"Freudenstadt Forest Sprint",region:"Freudenstadt",author:"Max T.",authorVerified:!0,theme:"Relaxed",distance:70,duration:95,sss:9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:108,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800",surface:{asphalt:95,concrete:3,gravel:2,cobblestone:0},elevation:{gain:480,max:740,minGradient:-6,maxGradient:8},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Forst-Fahrzeuge"],atmosphere:["Forest","Countryside"],coordinates:{start:{lat:48.461,lng:8.411},end:{lat:48.461,lng:8.411}},path:[{lat:48.461,lng:8.411},{lat:48.43,lng:8.44},{lat:48.4,lng:8.47},{lat:48.42,lng:8.5},{lat:48.45,lng:8.45},{lat:48.461,lng:8.411}],waypoints:[{name:"Marktplatz",type:"scenic",distanceKm:3},{name:"Kniebis Pass",type:"scenic",distanceKm:28},{name:"Murgtal View",type:"scenic",distanceKm:50}],gallery:["https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400"]},{id:"sw-6",name:"Schluchsee Deep Valley",region:"Schluchsee",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:85,duration:115,sss:8.4,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:199,image:"https://images.unsplash.com/photo-1519046904884-53103b34b206?w=800",surface:{asphalt:91,concrete:5,gravel:4,cobblestone:0},elevation:{gain:780,max:1020,minGradient:-11,maxGradient:13},hazards:{speedHumps:0,potholes:1,unpaved:1},chassisThreats:["Steile Abstiegs-Kurven","Gravel-Abschnitt"],atmosphere:["Forest","Lakeside"],coordinates:{start:{lat:47.816,lng:8.174},end:{lat:47.816,lng:8.174}},path:[{lat:47.816,lng:8.174},{lat:47.79,lng:8.19},{lat:47.76,lng:8.21},{lat:47.78,lng:8.24},{lat:47.81,lng:8.2},{lat:47.816,lng:8.174}],waypoints:[{name:"Schluchsee Dam",type:"scenic",distanceKm:8},{name:"St. Blasien",type:"scenic",distanceKm:35},{name:"Aha Viewpoint",type:"scenic",distanceKm:60}],gallery:["https://images.unsplash.com/photo-1519046904884-53103b34b206?w=400"]},{id:"sw-7",name:"Calw Heritage Run",region:"Calw",author:"Lisa R.",authorVerified:!0,theme:"Relaxed",distance:60,duration:80,sss:9.2,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:319,image:"https://images.unsplash.com/photo-1473116763249-2faaef81ccda?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:320,max:610,minGradient:-5,maxGradient:6},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Altstadt-Pflaster"],atmosphere:["Forest","Cultural"],coordinates:{start:{lat:48.714,lng:8.74},end:{lat:48.714,lng:8.74}},path:[{lat:48.714,lng:8.74},{lat:48.69,lng:8.76},{lat:48.67,lng:8.79},{lat:48.69,lng:8.81},{lat:48.71,lng:8.77},{lat:48.714,lng:8.74}],waypoints:[{name:"Hermann Hesse Museum",type:"scenic",distanceKm:3},{name:"Nagold Valley",type:"scenic",distanceKm:22},{name:"Hirsau Monastery",type:"scenic",distanceKm:42}],gallery:["https://images.unsplash.com/photo-1473116763249-2faaef81ccda?w=400"]},{id:"sw-8",name:"Kinzigtal Curves",region:"Haslach im Kinzigtal",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:100,duration:130,sss:8.6,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:132,image:"https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?w=800",surface:{asphalt:93,concrete:4,gravel:3,cobblestone:0},elevation:{gain:720,max:860,minGradient:-9,maxGradient:11},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Holztransporter","Enge Talstrae"],atmosphere:["Forest","Valley"],coordinates:{start:{lat:48.277,lng:8.086},end:{lat:48.277,lng:8.086}},path:[{lat:48.277,lng:8.086},{lat:48.25,lng:8.11},{lat:48.22,lng:8.14},{lat:48.2,lng:8.12},{lat:48.24,lng:8.08},{lat:48.277,lng:8.086}],waypoints:[{name:"Kinzig Bridge",type:"scenic",distanceKm:10},{name:"Wolfach Old Town",type:"scenic",distanceKm:38},{name:"Gutach Valley",type:"scenic",distanceKm:70}],gallery:["https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?w=400"]},{id:"ger-1",name:"Eifel: Green Hell Periphery",region:"Nrburg",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:85,duration:105,sss:8,curvinessIndex:5,curves:"Extreme",scenic:!1,technical:!0,isLoop:!0,distanceFromUser:0,hearts:319,image:"https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=800",surface:{asphalt:88,concrete:6,gravel:4,cobblestone:2},elevation:{gain:560,max:620,minGradient:-9,maxGradient:11},hazards:{speedHumps:2,potholes:2,unpaved:0},chassisThreats:["Schlaglcher auf Nebenstraen"],atmosphere:["Forest","Motorsport"],coordinates:{start:{lat:50.334,lng:6.942},end:{lat:50.334,lng:6.942}},path:[{lat:50.334,lng:6.942},{lat:50.36,lng:6.97},{lat:50.4,lng:7.05},{lat:50.38,lng:7.01},{lat:50.35,lng:6.96},{lat:50.334,lng:6.942}],waypoints:[{name:"Nrburgring View",type:"scenic",distanceKm:5},{name:"Adenau Town",type:"rest",distanceKm:25},{name:"Hohe Acht",type:"scenic",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=400"]},{id:"ger-2",name:"Mosel: Hairpin Heaven",region:"Cochem",author:"Stefan K.",authorVerified:!0,theme:"Relaxed",distance:110,duration:135,sss:8.9,curvinessIndex:5,curves:"Extreme",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:461,image:"https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=800",surface:{asphalt:91,concrete:5,gravel:3,cobblestone:1},elevation:{gain:720,max:540,minGradient:-10,maxGradient:12},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Enge Weinberg-Serpentinen"],atmosphere:["Riverside","Cultural"],coordinates:{start:{lat:50.147,lng:7.167},end:{lat:50.147,lng:7.167}},path:[{lat:50.147,lng:7.167},{lat:50.12,lng:7.14},{lat:50.08,lng:7.11},{lat:50.05,lng:7.1},{lat:50.09,lng:7.14},{lat:50.13,lng:7.16},{lat:50.147,lng:7.167}],waypoints:[{name:"Cochem Castle",type:"scenic",distanceKm:3},{name:"Vineyard Terrace",type:"scenic",distanceKm:35},{name:"Beilstein Village",type:"rest",distanceKm:65}],gallery:["https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=400"]},{id:"ger-3",name:"Harz: The Brocken Loop",region:"Wernigerode",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:130,duration:165,sss:8.3,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:416,image:"https://images.unsplash.com/photo-1514565131-fce0801e5785?w=800",surface:{asphalt:89,concrete:6,gravel:4,cobblestone:1},elevation:{gain:840,max:1141,minGradient:-11,maxGradient:13},hazards:{speedHumps:2,potholes:1,unpaved:0},chassisThreats:["Feuchtigkeit im Wald","Temposchwellen"],atmosphere:["Forest","Mountain Pass"],coordinates:{start:{lat:51.833,lng:10.784},end:{lat:51.833,lng:10.784}},path:[{lat:51.833,lng:10.784},{lat:51.81,lng:10.75},{lat:51.78,lng:10.68},{lat:51.75,lng:10.6},{lat:51.79,lng:10.7},{lat:51.82,lng:10.76},{lat:51.833,lng:10.784}],waypoints:[{name:"Wernigerode Castle",type:"scenic",distanceKm:5},{name:"Schierke Village",type:"rest",distanceKm:42},{name:"Brocken Vista",type:"scenic",distanceKm:80}],gallery:["https://images.unsplash.com/photo-1514565131-fce0801e5785?w=400"]},{id:"ger-4",name:"Schsische Schweiz Panorama",region:"Pirna",author:"Lisa R.",authorVerified:!0,theme:"Relaxed",distance:90,duration:120,sss:9.1,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:369,image:"https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=800",surface:{asphalt:93,concrete:4,gravel:2,cobblestone:1},elevation:{gain:520,max:420,minGradient:-7,maxGradient:9},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Pflasterstein-Segmente"],atmosphere:["Forest","Cultural"],coordinates:{start:{lat:50.962,lng:14.124},end:{lat:50.962,lng:14.124}},path:[{lat:50.962,lng:14.124},{lat:50.94,lng:14.16},{lat:50.92,lng:14.2},{lat:50.92,lng:14.3},{lat:50.94,lng:14.25},{lat:50.96,lng:14.16},{lat:50.962,lng:14.124}],waypoints:[{name:"Bastei Bridge",type:"scenic",distanceKm:15},{name:"Knigstein Fortress",type:"scenic",distanceKm:38},{name:"Elbe Valley View",type:"scenic",distanceKm:65}],gallery:["https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=400"]},{id:"ger-5",name:"Rhn: Biosphre Loop",region:"Fulda",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:105,duration:135,sss:9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:109,image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800",surface:{asphalt:94,concrete:4,gravel:2,cobblestone:0},elevation:{gain:680,max:950,minGradient:-8,maxGradient:10},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Windkraftanlagen-Zufahrten"],atmosphere:["Countryside","Forest"],coordinates:{start:{lat:50.554,lng:9.678},end:{lat:50.554,lng:9.678}},path:[{lat:50.554,lng:9.678},{lat:50.52,lng:9.72},{lat:50.48,lng:9.76},{lat:50.45,lng:9.73},{lat:50.49,lng:9.69},{lat:50.53,lng:9.67},{lat:50.554,lng:9.678}],waypoints:[{name:"Wasserkuppe",type:"scenic",distanceKm:22},{name:"Kreuzberg Kloster",type:"rest",distanceKm:52},{name:"Milseburg View",type:"scenic",distanceKm:78}],gallery:["https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400"]},{id:"ger-6",name:"Taunus Ridge Run",region:"Bad Homburg",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:75,duration:100,sss:8.7,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:495,image:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800",surface:{asphalt:92,concrete:5,gravel:3,cobblestone:0},elevation:{gain:640,max:880,minGradient:-10,maxGradient:12},hazards:{speedHumps:2,potholes:0,unpaved:0},chassisThreats:["Radfahrer am Feldberg"],atmosphere:["Forest","Mountain Pass"],coordinates:{start:{lat:50.227,lng:8.615},end:{lat:50.227,lng:8.615}},path:[{lat:50.227,lng:8.615},{lat:50.24,lng:8.58},{lat:50.26,lng:8.54},{lat:50.25,lng:8.5},{lat:50.235,lng:8.56},{lat:50.227,lng:8.615}],waypoints:[{name:"Feldberg Summit",type:"scenic",distanceKm:18},{name:"Saalburg Roman Fort",type:"scenic",distanceKm:35},{name:"Oberursel Return",type:"scenic",distanceKm:58}],gallery:["https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400"]},{id:"ger-7",name:"Odenwald Nibelungen Sprint",region:"Bensheim",author:"Max T.",authorVerified:!0,theme:"Relaxed",distance:95,duration:125,sss:8.5,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:223,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=800",surface:{asphalt:91,concrete:5,gravel:3,cobblestone:1},elevation:{gain:720,max:580,minGradient:-9,maxGradient:11},hazards:{speedHumps:1,potholes:1,unpaved:0},chassisThreats:["Nibelungenstrae eng","Forstwirtschaft"],atmosphere:["Forest","Cultural"],coordinates:{start:{lat:49.68,lng:8.62},end:{lat:49.68,lng:8.62}},path:[{lat:49.68,lng:8.62},{lat:49.66,lng:8.66},{lat:49.63,lng:8.7},{lat:49.61,lng:8.68},{lat:49.64,lng:8.64},{lat:49.67,lng:8.62},{lat:49.68,lng:8.62}],waypoints:[{name:"Felsenmeer",type:"scenic",distanceKm:12},{name:"Lindenfels Castle",type:"scenic",distanceKm:38},{name:"Auerbach Valley",type:"scenic",distanceKm:65}],gallery:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400"]},{id:"ger-8",name:"Tecklenburger Land",region:"Tecklenburg",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:70,duration:95,sss:9.3,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:143,image:"https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:280,max:235,minGradient:-4,maxGradient:5},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Landwirtschafts-Verkehr"],atmosphere:["Countryside"],coordinates:{start:{lat:52.219,lng:7.812},end:{lat:52.219,lng:7.812}},path:[{lat:52.219,lng:7.812},{lat:52.24,lng:7.84},{lat:52.26,lng:7.87},{lat:52.245,lng:7.9},{lat:52.225,lng:7.85},{lat:52.219,lng:7.812}],waypoints:[{name:"Tecklenburg Castle",type:"scenic",distanceKm:3},{name:"Drenther Klippen",type:"scenic",distanceKm:28},{name:"Bad Iburg",type:"rest",distanceKm:52}],gallery:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=400"]},{id:"ger-9",name:"Rgen Coastal Cruise",region:"Bergen auf Rgen",author:"Stefan K.",authorVerified:!0,theme:"Relaxed",distance:95,duration:125,sss:9.4,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:208,image:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800",surface:{asphalt:95,concrete:4,gravel:1,cobblestone:0},elevation:{gain:120,max:160,minGradient:-3,maxGradient:4},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Saisonaler Touristenverkehr"],atmosphere:["Coastal","Cultural"],coordinates:{start:{lat:54.418,lng:13.432},end:{lat:54.418,lng:13.432}},path:[{lat:54.418,lng:13.432},{lat:54.44,lng:13.48},{lat:54.47,lng:13.52},{lat:54.49,lng:13.5},{lat:54.46,lng:13.45},{lat:54.43,lng:13.43},{lat:54.418,lng:13.432}],waypoints:[{name:"Kreidefelsen Knigsstuhl",type:"scenic",distanceKm:18},{name:"Prora Beach",type:"scenic",distanceKm:42},{name:"Binz Promenade",type:"rest",distanceKm:68}],gallery:["https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400"]},{id:"ger-10",name:"Holsteinische Schweiz",region:"Eutin",author:"Lisa R.",authorVerified:!0,theme:"Relaxed",distance:80,duration:105,sss:9.2,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:394,image:"https://images.unsplash.com/photo-1473116763249-2faaef81ccda?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:180,max:168,minGradient:-3,maxGradient:4},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Keine"],atmosphere:["Lakeside","Countryside"],coordinates:{start:{lat:54.137,lng:10.619},end:{lat:54.137,lng:10.619}},path:[{lat:54.137,lng:10.619},{lat:54.16,lng:10.65},{lat:54.18,lng:10.69},{lat:54.17,lng:10.72},{lat:54.15,lng:10.67},{lat:54.137,lng:10.619}],waypoints:[{name:"Groer Plner See",type:"scenic",distanceKm:12},{name:"Malente Kurpark",type:"rest",distanceKm:35},{name:"Eutin Castle",type:"scenic",distanceKm:62}],gallery:["https://images.unsplash.com/photo-1473116763249-2faaef81ccda?w=400"]},{id:"eng-1",name:"Lake District Passes",region:"Keswick, Cumbria",author:"Peak Flow Curated",authorVerified:!0,theme:"Challenging",distance:115,duration:165,sss:8.4,curvinessIndex:5,curves:"Extreme",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:612,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800",surface:{asphalt:90,concrete:5,gravel:4,cobblestone:1},elevation:{gain:1420,max:454,minGradient:-16,maxGradient:18},hazards:{speedHumps:0,potholes:2,unpaved:0},chassisThreats:["Steep gradients on Hardknott Pass","Single-track sections"],atmosphere:["Mountain Pass","Lakeside"],coordinates:{start:{lat:54.601,lng:-3.136},end:{lat:54.601,lng:-3.136}},path:[{lat:54.601,lng:-3.136},{lat:54.55,lng:-3.18},{lat:54.48,lng:-3.22},{lat:54.4,lng:-3.15},{lat:54.38,lng:-3.07},{lat:54.42,lng:-3.02},{lat:54.5,lng:-3.05},{lat:54.56,lng:-3.1},{lat:54.601,lng:-3.136}],waypoints:[{name:"Honister Pass",type:"scenic",distanceKm:18},{name:"Hardknott Pass",type:"scenic",distanceKm:55},{name:"Windermere Lake",type:"rest",distanceKm:90}],gallery:["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400"]},{id:"eng-2",name:"Cotswolds Golden Tour",region:"Stow-on-the-Wold, Gloucestershire",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:95,duration:130,sss:9.3,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:487,image:"https://images.unsplash.com/photo-1590073844006-33379778ae09?w=800",surface:{asphalt:97,concrete:2,gravel:1,cobblestone:0},elevation:{gain:420,max:310,minGradient:-5,maxGradient:6},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Occasional farm traffic"],atmosphere:["Countryside","Cultural"],coordinates:{start:{lat:51.929,lng:-1.725},end:{lat:51.929,lng:-1.725}},path:[{lat:51.929,lng:-1.725},{lat:51.96,lng:-1.78},{lat:52,lng:-1.83},{lat:51.98,lng:-1.9},{lat:51.95,lng:-1.85},{lat:51.93,lng:-1.77},{lat:51.929,lng:-1.725}],waypoints:[{name:"Bourton-on-the-Water",type:"scenic",distanceKm:8},{name:"Broadway Tower",type:"scenic",distanceKm:38},{name:"Chipping Campden",type:"rest",distanceKm:65}],gallery:["https://images.unsplash.com/photo-1590073844006-33379778ae09?w=400"]},{id:"eng-3",name:"Peak District Snake Pass",region:"Glossop, Derbyshire",author:"James W.",authorVerified:!0,theme:"Challenging",distance:105,duration:150,sss:8.6,curvinessIndex:5,curves:"Extreme",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:534,image:"https://images.unsplash.com/photo-1501854140801-50d01698950b?w=800",surface:{asphalt:93,concrete:4,gravel:2,cobblestone:1},elevation:{gain:980,max:512,minGradient:-12,maxGradient:14},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["Exposed moorland crosswinds","Tight switchbacks"],atmosphere:["Mountain Pass","Countryside"],coordinates:{start:{lat:53.443,lng:-1.95},end:{lat:53.443,lng:-1.95}},path:[{lat:53.443,lng:-1.95},{lat:53.42,lng:-1.88},{lat:53.4,lng:-1.82},{lat:53.38,lng:-1.76},{lat:53.41,lng:-1.85},{lat:53.43,lng:-1.92},{lat:53.443,lng:-1.95}],waypoints:[{name:"Snake Pass Summit",type:"scenic",distanceKm:22},{name:"Ladybower Reservoir",type:"scenic",distanceKm:48},{name:"Mam Tor Viewpoint",type:"scenic",distanceKm:78}],gallery:["https://images.unsplash.com/photo-1501854140801-50d01698950b?w=400"]},{id:"eng-4",name:"North York Moors Loop",region:"Helmsley, North Yorkshire",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:130,duration:180,sss:9.1,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:378,image:"https://images.unsplash.com/photo-1509316785289-025f5b846b35?w=800",surface:{asphalt:95,concrete:3,gravel:2,cobblestone:0},elevation:{gain:780,max:454,minGradient:-8,maxGradient:10},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Sheep on road"],atmosphere:["Countryside","Coastal"],coordinates:{start:{lat:54.246,lng:-1.064},end:{lat:54.246,lng:-1.064}},path:[{lat:54.246,lng:-1.064},{lat:54.3,lng:-.98},{lat:54.36,lng:-.88},{lat:54.4,lng:-.78},{lat:54.38,lng:-.92},{lat:54.3,lng:-1.02},{lat:54.246,lng:-1.064}],waypoints:[{name:"Rievaulx Abbey",type:"scenic",distanceKm:5},{name:"Goathland Village",type:"rest",distanceKm:55},{name:"Whitby Harbour",type:"scenic",distanceKm:95}],gallery:["https://images.unsplash.com/photo-1509316785289-025f5b846b35?w=400"]},{id:"eng-5",name:"Devon Atlantic Highway",region:"Barnstaple, Devon",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:140,duration:195,sss:9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!1,distanceFromUser:0,hearts:451,image:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:520,max:230,minGradient:-7,maxGradient:9},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Seasonal tourist traffic on A39"],atmosphere:["Coastal","Countryside"],coordinates:{start:{lat:51.08,lng:-4.06},end:{lat:50.688,lng:-5.042}},path:[{lat:51.08,lng:-4.06},{lat:51.02,lng:-4.2},{lat:50.96,lng:-4.4},{lat:50.85,lng:-4.62},{lat:50.78,lng:-4.8},{lat:50.688,lng:-5.042}],waypoints:[{name:"Clovelly Village",type:"scenic",distanceKm:30},{name:"Bude Sea Pool",type:"rest",distanceKm:65},{name:"Tintagel Castle",type:"scenic",distanceKm:100}],gallery:["https://images.unsplash.com/photo-1533105079780-92b9be482077?w=400"]},{id:"eng-6",name:"Cornwall Coastal Blast",region:"St Ives, Cornwall",author:"Oliver T.",authorVerified:!0,theme:"Challenging",distance:100,duration:150,sss:8.2,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:389,image:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800",surface:{asphalt:91,concrete:5,gravel:3,cobblestone:1},elevation:{gain:680,max:250,minGradient:-11,maxGradient:13},hazards:{speedHumps:1,potholes:1,unpaved:0},chassisThreats:["Narrow single-track lanes","Blind corners on B-roads"],atmosphere:["Coastal","Countryside"],coordinates:{start:{lat:50.211,lng:-5.479},end:{lat:50.211,lng:-5.479}},path:[{lat:50.211,lng:-5.479},{lat:50.18,lng:-5.42},{lat:50.12,lng:-5.35},{lat:50.07,lng:-5.4},{lat:50.1,lng:-5.5},{lat:50.16,lng:-5.52},{lat:50.211,lng:-5.479}],waypoints:[{name:"Porthmeor Beach",type:"scenic",distanceKm:3},{name:"Land's End",type:"scenic",distanceKm:35},{name:"Penzance Harbour",type:"rest",distanceKm:70}],gallery:["https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400"]},{id:"eng-7",name:"South Downs Rollercoaster",region:"Lewes, East Sussex",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:85,duration:115,sss:9.2,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:298,image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:580,max:248,minGradient:-8,maxGradient:9},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Cyclists on Ditchling Beacon road"],atmosphere:["Countryside","Coastal"],coordinates:{start:{lat:50.873,lng:.012},end:{lat:50.873,lng:.012}},path:[{lat:50.873,lng:.012},{lat:50.9,lng:-.05},{lat:50.92,lng:-.12},{lat:50.9,lng:-.2},{lat:50.88,lng:-.12},{lat:50.873,lng:.012}],waypoints:[{name:"Ditchling Beacon",type:"scenic",distanceKm:12},{name:"Devil's Dyke",type:"scenic",distanceKm:35},{name:"Beachy Head",type:"scenic",distanceKm:68}],gallery:["https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400"]},{id:"eng-8",name:"Norfolk Broads Glide",region:"Norwich, Norfolk",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:90,duration:120,sss:9.5,curvinessIndex:1,curves:"Minimal",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:245,image:"https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=800",surface:{asphalt:98,concrete:2,gravel:0,cobblestone:0},elevation:{gain:45,max:28,minGradient:-1,maxGradient:2},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["None"],atmosphere:["Countryside","Lakeside"],coordinates:{start:{lat:52.63,lng:1.297},end:{lat:52.63,lng:1.297}},path:[{lat:52.63,lng:1.297},{lat:52.65,lng:1.4},{lat:52.68,lng:1.52},{lat:52.72,lng:1.58},{lat:52.7,lng:1.42},{lat:52.66,lng:1.32},{lat:52.63,lng:1.297}],waypoints:[{name:"Wroxham Broad",type:"scenic",distanceKm:12},{name:"Horsey Windpump",type:"scenic",distanceKm:48},{name:"Ranworth Church",type:"scenic",distanceKm:72}],gallery:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=400"]},{id:"eng-9",name:"Yorkshire Dales Buttertubs",region:"Hawes, North Yorkshire",author:"Peak Flow Curated",authorVerified:!0,theme:"Challenging",distance:110,duration:160,sss:8.5,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:502,image:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800",surface:{asphalt:92,concrete:4,gravel:3,cobblestone:1},elevation:{gain:1180,max:528,minGradient:-14,maxGradient:16},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["25% gradient sections","Exposed cattle grids"],atmosphere:["Mountain Pass","Countryside"],coordinates:{start:{lat:54.322,lng:-2.2},end:{lat:54.322,lng:-2.2}},path:[{lat:54.322,lng:-2.2},{lat:54.35,lng:-2.15},{lat:54.38,lng:-2.08},{lat:54.4,lng:-2.15},{lat:54.37,lng:-2.22},{lat:54.34,lng:-2.21},{lat:54.322,lng:-2.2}],waypoints:[{name:"Buttertubs Pass",type:"scenic",distanceKm:15},{name:"Tan Hill Inn",type:"rest",distanceKm:52},{name:"Ribblehead Viaduct",type:"scenic",distanceKm:88}],gallery:["https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400"]},{id:"eng-10",name:"Welsh Border Switchbacks",region:"Ludlow, Shropshire",author:"Emily R.",authorVerified:!0,theme:"Challenging",distance:90,duration:130,sss:8.8,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:267,image:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=800",surface:{asphalt:93,concrete:4,gravel:2,cobblestone:1},elevation:{gain:820,max:540,minGradient:-10,maxGradient:12},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["Forestry vehicles on B-roads"],atmosphere:["Forest","Countryside"],coordinates:{start:{lat:52.367,lng:-2.718},end:{lat:52.367,lng:-2.718}},path:[{lat:52.367,lng:-2.718},{lat:52.4,lng:-2.78},{lat:52.44,lng:-2.85},{lat:52.42,lng:-2.92},{lat:52.39,lng:-2.82},{lat:52.367,lng:-2.718}],waypoints:[{name:"Ludlow Castle",type:"scenic",distanceKm:2},{name:"Long Mynd",type:"scenic",distanceKm:35},{name:"Stiperstones",type:"scenic",distanceKm:62}],gallery:["https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400"]},{id:"eng-11",name:"New Forest Cruise",region:"Lyndhurst, Hampshire",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:70,duration:95,sss:9.4,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:412,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800",surface:{asphalt:97,concrete:2,gravel:1,cobblestone:0},elevation:{gain:180,max:128,minGradient:-3,maxGradient:4},hazards:{speedHumps:2,potholes:0,unpaved:0},chassisThreats:["Free-roaming ponies on road","40 mph speed limits"],atmosphere:["Forest","Countryside"],coordinates:{start:{lat:50.872,lng:-1.575},end:{lat:50.872,lng:-1.575}},path:[{lat:50.872,lng:-1.575},{lat:50.85,lng:-1.62},{lat:50.82,lng:-1.68},{lat:50.8,lng:-1.6},{lat:50.84,lng:-1.55},{lat:50.872,lng:-1.575}],waypoints:[{name:"Beaulieu Motor Museum",type:"scenic",distanceKm:10},{name:"Bolderwood Deer Sanctuary",type:"scenic",distanceKm:32},{name:"Lymington Quay",type:"rest",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400"]},{id:"eng-12",name:"Lincolnshire Wolds Sprint",region:"Louth, Lincolnshire",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:75,duration:100,sss:9.3,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:156,image:"https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=800",surface:{asphalt:97,concrete:2,gravel:1,cobblestone:0},elevation:{gain:320,max:168,minGradient:-5,maxGradient:6},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["Agricultural vehicles in season"],atmosphere:["Countryside"],coordinates:{start:{lat:53.37,lng:-.006},end:{lat:53.37,lng:-.006}},path:[{lat:53.37,lng:-.006},{lat:53.4,lng:.04},{lat:53.42,lng:.1},{lat:53.4,lng:.15},{lat:53.38,lng:.08},{lat:53.37,lng:-.006}],waypoints:[{name:"Hubbard's Hills",type:"scenic",distanceKm:3},{name:"Donington on Bain",type:"scenic",distanceKm:30},{name:"Tetford Village",type:"rest",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=400"]},{id:"eng-13",name:"Shropshire Hills Circuit",region:"Church Stretton, Shropshire",author:"Peak Flow Curated",authorVerified:!0,theme:"Challenging",distance:85,duration:125,sss:8.7,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:234,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=800",surface:{asphalt:92,concrete:5,gravel:2,cobblestone:1},elevation:{gain:760,max:516,minGradient:-11,maxGradient:13},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["Single-track sections with passing places"],atmosphere:["Mountain Pass","Countryside"],coordinates:{start:{lat:52.538,lng:-2.803},end:{lat:52.538,lng:-2.803}},path:[{lat:52.538,lng:-2.803},{lat:52.56,lng:-2.85},{lat:52.58,lng:-2.9},{lat:52.57,lng:-2.95},{lat:52.55,lng:-2.87},{lat:52.538,lng:-2.803}],waypoints:[{name:"Long Mynd Burway",type:"scenic",distanceKm:5},{name:"Caer Caradoc",type:"scenic",distanceKm:35},{name:"Wenlock Edge",type:"scenic",distanceKm:62}],gallery:["https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400"]},{id:"eng-14",name:"Dartmoor Wilderness Run",region:"Princetown, Devon",author:"Peak Flow Curated",authorVerified:!0,theme:"Challenging",distance:95,duration:140,sss:8.3,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:345,image:"https://images.unsplash.com/photo-1501854140801-50d01698950b?w=800",surface:{asphalt:90,concrete:5,gravel:4,cobblestone:1},elevation:{gain:880,max:520,minGradient:-13,maxGradient:15},hazards:{speedHumps:0,potholes:2,unpaved:0},chassisThreats:["Livestock on open moorland roads","Sudden fog banks"],atmosphere:["Countryside","Mountain Pass"],coordinates:{start:{lat:50.543,lng:-3.989},end:{lat:50.543,lng:-3.989}},path:[{lat:50.543,lng:-3.989},{lat:50.58,lng:-3.92},{lat:50.62,lng:-3.85},{lat:50.6,lng:-3.78},{lat:50.57,lng:-3.88},{lat:50.543,lng:-3.989}],waypoints:[{name:"Dartmoor Prison Museum",type:"scenic",distanceKm:2},{name:"Haytor Rocks",type:"scenic",distanceKm:38},{name:"Widecombe-in-the-Moor",type:"rest",distanceKm:65}],gallery:["https://images.unsplash.com/photo-1501854140801-50d01698950b?w=400"]},{id:"eng-15",name:"Chilterns Beechwood Run",region:"Henley-on-Thames, Oxfordshire",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:80,duration:110,sss:9.1,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:312,image:"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:480,max:267,minGradient:-7,maxGradient:9},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Commuter traffic near M40"],atmosphere:["Forest","Countryside"],coordinates:{start:{lat:51.535,lng:-.903},end:{lat:51.535,lng:-.903}},path:[{lat:51.535,lng:-.903},{lat:51.57,lng:-.95},{lat:51.6,lng:-1.02},{lat:51.62,lng:-.95},{lat:51.58,lng:-.88},{lat:51.535,lng:-.903}],waypoints:[{name:"Henley Bridge",type:"scenic",distanceKm:2},{name:"Turville Village",type:"scenic",distanceKm:30},{name:"Christmas Common",type:"rest",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=400"]},{id:"eng-16",name:"Surrey Hills Box Hill Sprint",region:"Dorking, Surrey",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:65,duration:90,sss:8.9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:567,image:"https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=800",surface:{asphalt:96,concrete:3,gravel:1,cobblestone:0},elevation:{gain:420,max:224,minGradient:-8,maxGradient:10},hazards:{speedHumps:2,potholes:0,unpaved:0},chassisThreats:["Cyclists on Zig Zag Road","Speed bumps in villages"],atmosphere:["Forest","Countryside"],coordinates:{start:{lat:51.248,lng:-.334},end:{lat:51.248,lng:-.334}},path:[{lat:51.248,lng:-.334},{lat:51.27,lng:-.38},{lat:51.29,lng:-.42},{lat:51.28,lng:-.48},{lat:51.26,lng:-.4},{lat:51.248,lng:-.334}],waypoints:[{name:"Box Hill Viewpoint",type:"scenic",distanceKm:5},{name:"Leith Hill Tower",type:"scenic",distanceKm:25},{name:"Shere Village",type:"rest",distanceKm:45}],gallery:["https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=400"]},{id:"eng-17",name:"Northumberland Coast Road",region:"Alnwick, Northumberland",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:120,duration:165,sss:9.5,curvinessIndex:2,curves:"Low",scenic:!0,technical:!1,isLoop:!1,distanceFromUser:0,hearts:423,image:"https://images.unsplash.com/photo-1432405972618-c60b0225b8f9?w=800",surface:{asphalt:97,concrete:2,gravel:1,cobblestone:0},elevation:{gain:280,max:160,minGradient:-4,maxGradient:5},hazards:{speedHumps:0,potholes:0,unpaved:0},chassisThreats:["None"],atmosphere:["Coastal","Cultural"],coordinates:{start:{lat:55.413,lng:-1.706},end:{lat:55.672,lng:-1.924}},path:[{lat:55.413,lng:-1.706},{lat:55.46,lng:-1.72},{lat:55.52,lng:-1.75},{lat:55.58,lng:-1.8},{lat:55.63,lng:-1.86},{lat:55.672,lng:-1.924}],waypoints:[{name:"Alnwick Castle",type:"scenic",distanceKm:3},{name:"Bamburgh Castle",type:"scenic",distanceKm:50},{name:"Holy Island Causeway",type:"scenic",distanceKm:85}],gallery:["https://images.unsplash.com/photo-1432405972618-c60b0225b8f9?w=400"]},{id:"eng-18",name:"Somerset Levels Glide",region:"Glastonbury, Somerset",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:75,duration:100,sss:9.4,curvinessIndex:1,curves:"Minimal",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:198,image:"https://images.unsplash.com/photo-1468276311594-df7cb65d8df6?w=800",surface:{asphalt:97,concrete:2,gravel:1,cobblestone:0},elevation:{gain:120,max:158,minGradient:-2,maxGradient:3},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Seasonal flooding risk on low-lying roads"],atmosphere:["Countryside","Cultural"],coordinates:{start:{lat:51.148,lng:-2.714},end:{lat:51.148,lng:-2.714}},path:[{lat:51.148,lng:-2.714},{lat:51.12,lng:-2.78},{lat:51.08,lng:-2.82},{lat:51.06,lng:-2.75},{lat:51.1,lng:-2.7},{lat:51.148,lng:-2.714}],waypoints:[{name:"Glastonbury Tor",type:"scenic",distanceKm:3},{name:"Wells Cathedral",type:"scenic",distanceKm:28},{name:"Cheddar Gorge",type:"scenic",distanceKm:55}],gallery:["https://images.unsplash.com/photo-1468276311594-df7cb65d8df6?w=400"]},{id:"eng-19",name:"Forest of Dean Twister",region:"Coleford, Gloucestershire",author:"Peak Flow Curated",authorVerified:!0,theme:"Challenging",distance:80,duration:115,sss:8.6,curvinessIndex:4,curves:"High",scenic:!0,technical:!0,isLoop:!0,distanceFromUser:0,hearts:289,image:"https://images.unsplash.com/photo-1448375240586-882707db888b?w=800",surface:{asphalt:92,concrete:4,gravel:3,cobblestone:1},elevation:{gain:620,max:310,minGradient:-9,maxGradient:11},hazards:{speedHumps:0,potholes:1,unpaved:0},chassisThreats:["Forestry logging vehicles","Loose gravel patches"],atmosphere:["Forest","Countryside"],coordinates:{start:{lat:51.794,lng:-2.614},end:{lat:51.794,lng:-2.614}},path:[{lat:51.794,lng:-2.614},{lat:51.82,lng:-2.58},{lat:51.84,lng:-2.52},{lat:51.82,lng:-2.46},{lat:51.8,lng:-2.55},{lat:51.794,lng:-2.614}],waypoints:[{name:"Puzzlewood",type:"scenic",distanceKm:5},{name:"Symonds Yat Rock",type:"scenic",distanceKm:32},{name:"Tintern Abbey",type:"scenic",distanceKm:58}],gallery:["https://images.unsplash.com/photo-1448375240586-882707db888b?w=400"]},{id:"eng-20",name:"Isle of Wight Diamond",region:"Newport, Isle of Wight",author:"Peak Flow Curated",authorVerified:!0,theme:"Relaxed",distance:95,duration:135,sss:9,curvinessIndex:3,curves:"Medium",scenic:!0,technical:!1,isLoop:!0,distanceFromUser:0,hearts:376,image:"https://images.unsplash.com/photo-1500259571355-332da5cb07aa?w=800",surface:{asphalt:95,concrete:3,gravel:2,cobblestone:0},elevation:{gain:480,max:240,minGradient:-8,maxGradient:10},hazards:{speedHumps:1,potholes:0,unpaved:0},chassisThreats:["Summer tourist traffic","Military Road cliff erosion areas"],atmosphere:["Coastal","Countryside"],coordinates:{start:{lat:50.693,lng:-1.289},end:{lat:50.693,lng:-1.289}},path:[{lat:50.693,lng:-1.289},{lat:50.67,lng:-1.35},{lat:50.64,lng:-1.52},{lat:50.66,lng:-1.3},{lat:50.7,lng:-1.15},{lat:50.72,lng:-1.22},{lat:50.693,lng:-1.289}],waypoints:[{name:"The Needles",type:"scenic",distanceKm:25},{name:"Ventnor Esplanade",type:"rest",distanceKm:50},{name:"Sandown Bay",type:"scenic",distanceKm:78}],gallery:["https://images.unsplash.com/photo-1500259571355-332da5cb07aa?w=400"]}],Wv=[{id:"d1",name:"Jasper M.",vehicle:"Porsche 911 GT3",latOffset:.015,lngOffset:-.01},{id:"d2",name:"Anna B.",vehicle:"Porsche Cayman GT4",latOffset:-.01,lngOffset:.02}],Hv=[{name:"Max",distance:30,vehicle:"Porsche 911 GT3"},{name:"Anna",distance:20,vehicle:"Porsche Cayman GT4"},{name:"Tom",distance:385,vehicle:"BMW M3 Touring"},{name:"Lisa",distance:5,vehicle:"Audi RS6"}],Vv=({favorites:e,bucketList:t,onToggleFavorite:i,onToggleBucketList:o,onSaveMyRoute:l,onSaveTrip:c,createMode:d,onResetCreateMode:p,initialRoute:f,onClearInitialRoute:g,onRequestConvoy:_,drivingMode:y,onStartDrive:k,onEndDrive:j,onToggleNav:I,squadEnabled:z,setSquadEnabled:N,onLeaveConvoy:x})=>{var dn;const[v,w]=S.useState("map"),[T,M]=S.useState(null),[E,U]=S.useState(null),[O,V]=S.useState([...Dv]),A=S.useMemo(()=>E?O.map(C=>{var jt;const W=(jt=C.coordinates)==null?void 0:jt.start;if(!W)return C;const ae=6371,J=(W.lat-E.lat)*Math.PI/180,fe=(W.lng-E.lng)*Math.PI/180,je=Math.sin(J/2)*Math.sin(J/2)+Math.cos(E.lat*Math.PI/180)*Math.cos(W.lat*Math.PI/180)*Math.sin(fe/2)*Math.sin(fe/2),Ge=2*Math.atan2(Math.sqrt(je),Math.sqrt(1-je)),Yt=ae*Ge;return{...C,distanceFromUser:Yt.toFixed(1)}}):O,[O,E]),te=S.useMemo(()=>y!=null&&y.members?y.members.map((C,W)=>({...C,distance:C.distance||(W+1)*45+Math.floor(Math.random()*20)})):Hv,[y]),[Y,X]=S.useState(null),[Q,me]=S.useState(null),[ve,Ae]=S.useState(null),[B,K]=S.useState(null),[D,re]=S.useState(""),[ge,Pe]=S.useState(!1),[_e,pe]=S.useState(!1),[oe,Fe]=S.useState(!1),[lt,de]=S.useState("default"),[Ie,Oe]=S.useState(new Set),[Hn,ct]=S.useState(null),[$,an]=S.useState(!1),[_i,ln]=S.useState(!1),[G,ye]=S.useState(!1),[Z,ce]=S.useState("members"),[se,Se]=S.useState([{id:"sys1",type:"system",text:"Convoy started",time:"Now"}]),[lo,Gi]=S.useState(!1),[Zr,co]=S.useState([]),[Vn,Gr]=S.useState(null),[ut,wn]=S.useState(null),[Kr,Ki]=S.useState(null),[wi,$r]=S.useState(!1),[Yr,Un]=S.useState(!1),bi=Ai.useRef(null),$i=S.useCallback(()=>{y&&($r(!0),bi.current&&clearTimeout(bi.current),bi.current=setTimeout(()=>{$r(!1)},5e3))},[y]);S.useEffect(()=>()=>{bi.current&&clearTimeout(bi.current)},[]);const[cn,Si]=S.useState([]),[uo,nl]=S.useState(()=>{try{return JSON.parse(localStorage.getItem("peak_flow_search_history")||"[]")}catch{return[]}}),il=C=>{!C||!C.name||nl(W=>{const ae={id:C.id||`loc-${Date.now()}`,name:C.name,details:C.details||C.region||"",lat:C.lat,lng:C.lng,type:C.type||"place",timestamp:Date.now()},J=W.filter(je=>je.name!==ae.name),fe=[ae,...J].slice(0,5);return localStorage.setItem("peak_flow_search_history",JSON.stringify(fe)),fe})},[ho,Zn]=S.useState([]),[be,wt]=S.useState(null),[$t,dt]=S.useState(!1),[qr,Qr]=S.useState([]),rl=S.useCallback(async C=>{if(!E||!(be!=null&&be.destinationCoords))return;const W=[...qr,C];Qr(W),dt(!0);try{const ae=[E,...W,be.destinationCoords],J=await nu(ae);J&&(wt(fe=>({...fe,geometry:J.geometry,distance:J.distance,duration:J.duration,stops:W})),Zn([]),J.geometry&&K({path:J.geometry.map(fe=>({lat:fe[0],lng:fe[1]})),paddingOptions:{paddingTopLeft:[50,50],paddingBottomRight:[50,400]}}))}catch(ae){console.error("Failed to add stop:",ae),Qr(qr)}finally{dt(!1)}},[E,be,qr]),[Xe,ne]=S.useState("idle"),[Xr,Jr]=S.useState(0),[po,Yi]=S.useState(!1),[qi,es]=S.useState(""),[nt,ts]=S.useState(!1),[sl,fo]=S.useState(0);S.useEffect(()=>{let C;return nt&&(C=setInterval(()=>{fo(W=>W+1)},1e3)),()=>clearInterval(C)},[nt]);const[ol,bt]=S.useState(!1),[mo,Gn]=S.useState(""),[un,ki]=S.useState(!1);S.useEffect(()=>{let C;return Xe==="recording"?C=setInterval(()=>{Jr(W=>W+1)},1e3):Xe==="idle"&&Jr(0),()=>clearInterval(C)},[Xe]),S.useEffect(()=>{let C=[];if(z&&E&&(C=[...C,...Wv.map(W=>({...W,lat:E.lat+W.latOffset,lng:E.lng+W.lngOffset}))]),y!=null&&y.members&&E){const W=y.members.map((J,fe)=>{const je=J.name.split("").reduce((jt,Sn)=>jt+Sn.charCodeAt(0),0),Ge=je%100/1e4*(fe%2===0?1:-1),Yt=je%50/5e3*(fe%2===0?-1:1);return{id:J.id,name:J.name,vehicle:J.vehicle,lat:E.lat+Ge+.005,lng:E.lng+Yt+.005,isConvoy:!0}}),ae=new Set(W.map(J=>J.name));C=[...C.filter(J=>!ae.has(J.name)),...W]}co(C)},[z,E,y]);const al=C=>{const W=Math.floor(C/60),ae=C%60;return`${W.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}`},ll=()=>{ne("paused");const C=new Date;es(`Trip on ${C.toLocaleDateString()} ${C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`),Yi(!0)},cl=()=>{const C={id:`trip-${Date.now()}`,date:new Date().toISOString(),routeName:qi||`Trip on ${new Date().toLocaleDateString()}`,distance:(Math.random()*50+10).toFixed(1),duration:Math.floor(Xr/60),photos:0,image:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=800",notes:"Recorded trip",performance:{labels:["0","10","20","30","40","50"],data:[65,59,80,81,56,55]}};c&&c(C),ne("idle"),Yi(!1),Gn("Saved successfully"),bt(!0),setTimeout(()=>bt(!1),5e3)},ul=()=>{Yi(!1),ne("idle")};S.useEffect(()=>{d&&(pe(!0),p&&p())},[d,p]),S.useEffect(()=>{var C;f&&(me(f),(C=f.coordinates)!=null&&C.start?K({...f.coordinates.start,zoom:14}):f.path&&f.path.length>0&&K({path:f.path,paddingOptions:{paddingTopLeft:[50,50],paddingBottomRight:[50,50]}}),w("map"),g&&g())},[f,g]);const ns=S.useCallback(C=>{U(C),ct(W=>W||C)},[]),ji=S.useCallback(C=>{Oe(W=>{const ae=new Set(W);return ae.has(C)?ae.delete(C):ae.add(C),ae})},[]);S.useEffect(()=>{y&&E&&(K({lat:E.lat,lng:E.lng,zoom:18,pitch:60,isDrivingTrack:!0}),ki(!1))},[y,E]),S.useEffect(()=>{(async()=>{var W,ae;if(console.log("[Discover] calcApproach check",{navigateToStart:y==null?void 0:y.navigateToStart,hasStartCoords:!!((W=y==null?void 0:y.coordinates)!=null&&W.start),userLocation:E}),y!=null&&y.navigateToStart&&((ae=y.coordinates)!=null&&ae.start)&&E){dt(!0);try{const J=await Zo(E,y.coordinates.start),fe=Array.isArray(J)?J[0]:J;wt({...fe,destinationName:`Start: ${y.title}`})}catch(J){console.error("Failed to calculate approach route:",J)}finally{dt(!1)}}})()},[y,E]);const Qi=S.useMemo(()=>{if(v==="editor"&&Y)return[Y];if(y||be||$t||ut||d)return Kr?[Kr]:[];let C=A;if(D.trim()){const W=D.toLowerCase();C=C.filter(ae=>ae.name.toLowerCase().includes(W)||ae.region.toLowerCase().includes(W))}if(Ie.size>0){const W=["sports","challenging","relaxed"].filter(J=>Ie.has(J)),ae=["quick","half","full","multiday"].filter(J=>Ie.has(J));C=C.filter(J=>{for(const je of W)switch(je){case"sports":if(J.sss<8.5)return!1;break;case"challenging":if(J.curvinessIndex<4&&!J.technical)return!1;break;case"relaxed":if(J.theme!=="Relaxed"&&(J.curvinessIndex>3||J.technical))return!1;break}const fe=Array.from(ae||[]);return!(fe.length>0&&!fe.some(Ge=>{switch(Ge){case"quick":return J.duration<=120;case"half":return J.duration>120&&J.duration<=300;case"full":return J.duration>300&&!J.multiDay;case"multiday":return!!J.multiDay;default:return!1}}))})}return C},[D,Ie,A,v,Y,y,be,$t,ut,d,Kr,E]);console.log("[Discover] Render State:",{allRoutesLen:O==null?void 0:O.length,searchResultsLen:cn==null?void 0:cn.length,drivingMode:y,activeNavRoute:be});const St=Q||ve||ge||_e||Array.isArray(cn)&&cn.length>0;S.useEffect(()=>{const C=!!(ut||be||St);I==null||I(C)},[ut,be,St,I]);const Kn=S.useCallback(()=>{be?wt(null):Q?(me(null),K(null),T&&(w(T),M(null))):ut&&(wn(null),K(null),Si([]))},[be,Q,ut,T]),ke=S.useCallback(async C=>{if(!(!C||C.length<3)){dt(!0);try{const W=await Vr(C,20,E);if(Si(W),W.length>0)if(wn(null),me(null),W.length>1){const ae=W.map(jt=>jt.lat),J=W.map(jt=>jt.lng),fe=Math.min(...ae),je=Math.max(...ae),Ge=Math.min(...J),Yt=Math.max(...J);K({path:[{lat:fe,lng:Ge},{lat:je,lng:Yt}],paddingOptions:{padding:[50,50]}})}else K({...W[0],zoom:14});else Gn("No results found"),bt(!0),setTimeout(()=>bt(!1),3e3)}catch(W){console.error(W),Gn("Search failed"),bt(!0),setTimeout(()=>bt(!1),3e3)}finally{dt(!1)}}},[]),ze=S.useCallback(C=>{C&&(v==="list"&&M("list"),K({...C,paddingOptions:{paddingBottomRight:[50,400],paddingTopLeft:[50,50]}}),me(C),w("map"))},[v]),Xi=S.useCallback(()=>{Q&&(Ae(Q),me(null))},[Q]),$n=S.useCallback(()=>{me(null),K(null),T&&(w(T),M(null))},[T]),Yn=S.useCallback(()=>{Ae(null),T&&(w(T),M(null))},[T]),is=S.useCallback(C=>{Pe(!1),C.waypoints&&(C.path=C.waypoints),C.isGenerated=!0,me(C),w("map"),K({path:C.waypoints||C.path,paddingOptions:{paddingBottomRight:[50,400],paddingTopLeft:[50,50]}})},[]),ue=C=>{V(W=>[C,...W]),X(null),w("discover"),l&&l(C),setTimeout(()=>{me(C),K(C)},100)},De=()=>{X(null),w("discover")},rs=C=>{X(C)},Ji=S.useCallback(C=>{ct(C)},[]),kt=C=>{window.confirm("Send route to McLaren?")&&alert("Route sent to McLaren Navigation System.")},ss=()=>{_&&_({route:be||Q||Y||ve})},qn=S.useCallback(C=>{K({lat:C.lat,lng:C.lng,zoom:C.zoom||14}),wn(C),il(C),me(null),Ae(null),w("map")},[]),bn=S.useCallback(()=>{!y&&!un&&ki(!0),$i()},[y,un,$i]),Ue=()=>{E&&(K({...E,zoom:15,pitch:0}),ki(!1))};return s.jsxs("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden"},children:[s.jsx(Sv,{routes:ve?[ve]:Q!=null&&Q.isGenerated?[Q]:be?[]:Qi,flyToTarget:B,onRouteTap:ze,onLocationFound:ns,mapStyle:lt,onMapMove:Ji,selectedRouteId:Q==null?void 0:Q.id,onManualPan:bn,onMapClick:$i,poiMarker:ut,liveSharing:z||y&&y.memberCount>0,nearbyDrivers:Zr,onDriverClick:C=>Gr(C),activeNavRoute:be,alternativeRoutes:y?[]:ho.filter(C=>C.id!==(be==null?void 0:be.id)),onAlternativeRouteSelect:wt,searchResults:cn,onSearchResultClick:qn}),y&&s.jsx(s.Fragment,{children:be||y.duration||y.distance?s.jsx(q1,{route:be||y,showControls:wi,onEndDrive:()=>{wt(null),wn(null),X(null),Ki(null),ki(!1),Zn([]),E&&K({...E,zoom:15,pitch:0}),j==null||j()},onAddStop:()=>Fe(!0),style:{position:"absolute",top:20,left:20}}):s.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:"var(--z-overlay)",padding:"52px 20px 12px",display:"flex",alignItems:"center",gap:10},children:[s.jsx("button",{onClick:()=>{wt(null),wn(null),Ki(null),ki(!1),E&&K({...E,zoom:15,pitch:0}),j==null||j()},style:{background:"rgba(0,0,0,0.5)",backdropFilter:"blur(12px)",border:"var(--border-glass)",borderRadius:"50%",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},children:s.jsx(Rn,{size:18})}),s.jsxs("div",{className:"glass-panel",style:{flex:1,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("span",{style:{fontSize:18,fontWeight:600,fontFamily:"var(--font-display)"},children:y.title}),y.memberCount&&s.jsxs("span",{style:{fontSize:12,color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:4},children:[s.jsx(st,{size:12})," ",y.memberCount]})]})]})}),!y&&v==="list"&&s.jsx("div",{style:{position:"absolute",inset:0,top:0,background:"#0a0a0c",zIndex:"var(--z-map)",overflowY:"auto",paddingTop:200,paddingBottom:120},className:"no-scrollbar",children:D||Ie.size>0?s.jsxs("div",{style:{padding:"0 20px"},children:[s.jsxs("h3",{style:{marginBottom:16,fontSize:20,fontWeight:400,color:"var(--text-primary)",fontFamily:"var(--font-display)"},children:[(Qi||[]).length," Results"]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:[...Qi||[]].sort((C,W)=>(C.duration||0)-(W.duration||0)).map(C=>s.jsx(Fs,{route:C,onClick:()=>ze(C),style:{width:"100%",maxWidth:"none"}},C.id))})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[s.jsx(lr,{title:"Nearby",routes:[...A||[]].sort((C,W)=>parseFloat(C.distanceFromUser||9999)-parseFloat(W.distanceFromUser||9999)).slice(0,10),onRouteClick:ze,showCreateCard:!0,createCardPosition:"end",onCreateRoute:()=>Pe(!0)}),s.jsx(lr,{title:"Relaxed Drives",routes:[...(A||[]).filter(C=>C.curvinessIndex<=2||C.scenic&&C.curvinessIndex<=3)].sort((C,W)=>parseFloat(C.distanceFromUser||9999)-parseFloat(W.distanceFromUser||9999)),onRouteClick:ze}),s.jsx(lr,{title:"Challenging Drives",routes:[...(A||[]).filter(C=>C.curvinessIndex>=4||C.technical)].sort((C,W)=>parseFloat(C.distanceFromUser||9999)-parseFloat(W.distanceFromUser||9999)),onRouteClick:ze}),s.jsx(lr,{title:"Quick escapes",routes:[...(A||[]).filter(C=>C.duration>=60&&C.duration<=120)].sort((C,W)=>parseFloat(C.distanceFromUser||9999)-parseFloat(W.distanceFromUser||9999)),onRouteClick:ze}),s.jsx(lr,{title:"Fun with curves",routes:[...(A||[]).filter(C=>C.curvinessIndex>=4)].sort((C,W)=>parseFloat(C.distanceFromUser||9999)-parseFloat(W.distanceFromUser||9999)),onRouteClick:ze}),s.jsx(lr,{title:"Up and down",routes:[...(A||[]).filter(C=>{var W;return((W=C.elevation)==null?void 0:W.gain)>500})].sort((C,W)=>parseFloat(C.distanceFromUser||9999)-parseFloat(W.distanceFromUser||9999)),onRouteClick:ze})]})}),(ut||be)&&!y&&s.jsx("button",{onClick:Kn,className:"btn-glass",style:{position:"absolute",top:20,left:20,zIndex:1200,width:44,height:44,borderRadius:"50%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:s.jsx(Rn,{size:24,strokeWidth:2.5})}),!y&&!St&&!ut&&!be&&!$t&&s.jsx(Av,{routes:O,onRouteSelect:ze,onManualPlan:()=>Pe(!0),onAutoCreate:()=>Pe(!0),onSearch:re,activeFilters:Ie,onFilterToggle:ji,onLocationSelect:qn,history:uo,onSubmit:ke,location:E}),s.jsx(Fv,{results:cn,onSelect:C=>{qn(C),Si([])},onClose:()=>Si([])}),!y&&ut&&s.jsx(Ov,{poi:ut,userLocation:E,onClose:Kn,onRoute:async C=>{if(!E){alert("Waiting for your location...");return}dt(!0),wn(null),K(null);try{const W=await Zo(E,C),ae=Array.isArray(W)?W:[W],J=ae[0],fe=ae.map(Ge=>({...Ge,destinationName:C.name,destinationAddress:C.details||null,destinationCoords:{lat:C.lat,lng:C.lng},surface:{asphalt:100},hazards:{potholes:0,speedHumps:0,unpaved:0},elevation:{gain:Math.floor((Ge.distance||0)*8),maxGradient:4}}));Zn(fe);const je=fe[0];wt(je),J!=null&&J.geometry&&K({path:J.geometry.map(Ge=>({lat:Ge[0],lng:Ge[1]})),paddingOptions:{paddingTopLeft:[50,50],paddingBottomRight:[50,400]}})}catch(W){console.error("Routing failed:",W),alert("Could not calculate route. Please try again.")}finally{dt(!1)}}}),!y&&!ut&&!be&&!$t&&s.jsx("div",{style:{position:"absolute",bottom:110,left:"50%",transform:"translateX(-50%)",zIndex:"var(--z-overlay)",transition:"all 0.3s ease",opacity:St?0:1,pointerEvents:St?"none":"auto"},children:s.jsx("button",{onClick:()=>w(C=>C==="map"?"list":"map"),style:{background:"rgba(20, 20, 20, 0.6)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:32,padding:"10px 24px",display:"flex",alignItems:"center",gap:10,color:"white",fontSize:13,fontWeight:600,cursor:"pointer",boxShadow:"0 4px 20px rgba(0,0,0,0.4)",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:.5},onMouseEnter:C=>C.currentTarget.style.background="rgba(40, 40, 40, 0.8)",onMouseLeave:C=>C.currentTarget.style.background="rgba(20, 20, 20, 0.6)",children:v==="map"?s.jsxs(s.Fragment,{children:[s.jsx(b1,{size:18})," List View"]}):s.jsxs(s.Fragment,{children:[s.jsx(ua,{size:18})," Map View"]})})}),s.jsxs("div",{style:{position:"absolute",top:St||y||be?20:190,right:20,display:v==="list"?"none":"flex",flexDirection:"column",gap:12,zIndex:"var(--z-overlay)",transition:"top 0.3s ease, opacity 0.3s ease",opacity:y&&!wi?0:1,pointerEvents:y&&!wi?"none":"auto"},children:[s.jsx("button",{className:"map-control-btn",style:{background:"rgba(20, 20, 20, 0.8)",color:"white",border:"1px solid rgba(255,255,255,0.1)",width:40,height:40,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backdropFilter:"blur(12px)",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",transition:"all 0.2s ease"},onClick:()=>de(C=>C==="default"?"satellite":"default"),title:lt==="default"?"Satellite view":"Default view",children:lt==="default"?s.jsx(_1,{size:20}):s.jsx(ua,{size:20})}),y&&s.jsx("button",{className:"map-control-btn",style:{background:"rgba(20, 20, 20, 0.8)",color:"white",border:"1px solid rgba(255,255,255,0.1)",width:40,height:40,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backdropFilter:"blur(12px)",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",transition:"all 0.2s ease"},onClick:()=>{if(Yr)E&&K({lat:E.lat,lng:E.lng,zoom:18,pitch:60,isDrivingTrack:!0}),Un(!1);else{const C=be||y;C!=null&&C.geometry?K({path:C.geometry.map(W=>({lat:W[0],lng:W[1]})),paddingOptions:{padding:[60,60]}}):C!=null&&C.coordinates&&C.coordinates.start&&K({coordinates:C.coordinates}),Un(!0)}$i()},title:Yr?"Resume Navigation":"Route Overview",children:Yr?s.jsx(Et,{size:18}):s.jsx(ua,{size:18})})]}),s.jsx("div",{style:{position:"absolute",bottom:St?320:110,left:20,zIndex:"var(--z-overlay)",transition:"all 0.3s ease",opacity:!y&&!St&&un&&v==="map"?1:0,transform:!y&&!St&&un&&v==="map"?"scale(1)":"scale(0.8)",pointerEvents:!y&&!St&&un&&v==="map"?"auto":"none"},children:s.jsx("button",{className:"map-control-btn",onClick:Ue,title:"Re-center Map",children:s.jsx(v1,{size:20})})}),y&&y.memberCount>0&&s.jsxs("div",{style:{position:"absolute",bottom:110,left:"50%",transform:"translateX(-50%)",zIndex:"var(--z-overlay)",display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[s.jsx("button",{onClick:()=>{nt?ts(!1):(ts(!0),fo(0))},style:{width:64,height:64,borderRadius:"50%",background:nt?"#00e676":"rgba(20, 20, 20, 0.8)",border:`2px solid ${nt?"#00e676":"rgba(255,255,255,0.2)"}`,color:nt?"black":"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backdropFilter:"blur(12px)",boxShadow:nt?"0 0 20px rgba(0, 230, 118, 0.4)":"0 4px 12px rgba(0,0,0,0.3)",transition:"all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)",transform:nt?"scale(1.1)":"scale(1)"},children:s.jsx(Aa,{size:28,fill:nt?"black":"none"})}),nt&&s.jsx("div",{style:{background:"rgba(0, 230, 118, 0.9)",color:"black",padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:700,fontFamily:"monospace",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",animation:"fadeIn 0.2s ease"},children:new Date(sl*1e3).toISOString().substr(14,5)})]}),po&&s.jsx("div",{style:{position:"absolute",inset:0,top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.2s ease"},children:s.jsxs("div",{style:{background:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:24,padding:24,width:"90%",maxWidth:320,boxShadow:"0 20px 40px rgba(0,0,0,0.4)",animation:"scaleUp 0.2s ease"},children:[s.jsx("h3",{style:{fontSize:18,fontWeight:700,marginBottom:8,color:"white"},children:"Save Trip?"}),s.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:20},children:"Stop recording and save this trip to your history."}),s.jsxs("div",{style:{marginBottom:24},children:[s.jsx("label",{style:{display:"block",fontSize:11,fontWeight:600,color:"var(--text-muted)",marginBottom:8,letterSpacing:.5},children:"TRIP NAME"}),s.jsx("input",{type:"text",value:qi,onChange:C=>es(C.target.value),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,padding:"12px 16px",color:"white",fontSize:14,outline:"none",fontFamily:"var(--font-main)"},onClick:C=>C.target.select(),autoFocus:!0})]}),s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("button",{onClick:ul,style:{flex:1,padding:"12px",borderRadius:12,background:"rgba(255,255,255,0.05)",border:"none",color:"var(--text-secondary)",fontWeight:600,fontSize:14,cursor:"pointer"},children:"Discard"}),s.jsx("button",{onClick:cl,style:{flex:1,padding:"12px",borderRadius:12,background:"var(--primary-apex)",border:"none",color:"white",fontWeight:600,fontSize:14,cursor:"pointer"},children:"Save"})]})]})}),ol&&s.jsxs("div",{style:{position:"absolute",top:80,left:"50%",transform:"translateX(-50%)",background:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:32,padding:"12px 24px",display:"flex",alignItems:"center",gap:10,zIndex:2100,boxShadow:"0 8px 32px rgba(0,0,0,0.4)",animation:"slideDown 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)"},children:[s.jsx(sp,{size:18,color:"var(--primary-apex)"}),s.jsx("span",{style:{fontSize:13,fontWeight:600,color:"white"},children:mo})]}),s.jsxs("div",{style:{position:"absolute",bottom:120,right:20,zIndex:"var(--z-overlay)",display:"flex",flexDirection:"column",gap:16,alignItems:"flex-end"},children:[s.jsxs("button",{className:`map-control-btn ${z||y&&y.memberCount>0?"active-squad":""}`,onClick:()=>{y&&y.memberCount>0?ln(!0):z?(N(!1),Gn("Live location sharing disabled"),bt(!0),setTimeout(()=>bt(!1),3e3)):an(!0)},style:{width:48,height:48,borderRadius:"50%",background:z||y&&y.memberCount>0?"rgba(0, 230, 118, 0.15)":"rgba(20, 20, 20, 0.8)",backdropFilter:"blur(12px)",border:`1px solid ${z||y&&y.memberCount>0?"#00e676":"rgba(255,255,255,0.15)"}`,color:z||y&&y.memberCount>0?"#00e676":"white",display:v==="list"||!y&&(St||ut||be||$t)?"none":"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 16px rgba(0,0,0,0.3)",position:"relative"},title:"Squad",children:[s.jsx(st,{size:20}),y&&y.memberCount>0&&s.jsx("div",{style:{position:"absolute",top:-4,right:-4,background:"#00e676",color:"black",fontSize:10,fontWeight:800,minWidth:16,height:16,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(20,20,20,1)"},children:((dn=y.members)==null?void 0:dn.length)||y.memberCount})]}),y&&s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",animation:"slideInRight 0.3s ease"},children:Xe==="idle"?s.jsx("button",{className:"map-control-btn",onClick:()=>ne("recording"),title:"Start Recording Trip",style:{width:48,height:48,borderRadius:"50%",background:"rgba(20, 20, 20, 0.8)",border:"1px solid rgba(255,255,255,0.15)",color:"#ff1744",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",boxShadow:"0 4px 16px rgba(0,0,0,0.3)"},children:s.jsx(y1,{fill:"#ff1744",size:20})}):s.jsxs("div",{style:{background:"rgba(20, 20, 20, 0.8)",backdropFilter:"blur(12px)",borderRadius:32,padding:"6px 6px 6px 16px",display:"flex",alignItems:"center",gap:12,border:"1px solid rgba(255, 23, 68, 0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.4)"},children:[s.jsxs("div",{style:{fontFamily:"monospace",fontSize:14,fontWeight:700,color:"#ff1744",display:"flex",alignItems:"center",gap:6},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#ff1744",animation:Xe==="recording"?"pulse 1.5s infinite":"none",opacity:Xe==="paused"?.5:1}}),al(Xr)]}),s.jsxs("div",{style:{display:"flex",gap:4},children:[s.jsx("button",{onClick:()=>ne(C=>C==="recording"?"paused":"recording"),style:{width:32,height:32,borderRadius:"50%",background:"rgba(255,255,255,0.1)",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:Xe==="recording"?s.jsx(C1,{size:14,fill:"white"}):s.jsx(P1,{size:14,fill:"white"})}),s.jsx("button",{onClick:ll,style:{width:32,height:32,borderRadius:"50%",background:"#ff1744",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:s.jsx(N1,{size:14,fill:"white"})})]})]})})]}),$t&&s.jsxs("div",{style:{position:"absolute",top:80,left:"50%",transform:"translateX(-50%)",background:"rgba(20, 20, 20, 0.9)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:32,padding:"12px 24px",display:"flex",alignItems:"center",gap:10,zIndex:2100,boxShadow:"0 8px 32px rgba(0,0,0,0.4)",animation:"slideDown 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)"},children:[s.jsx("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:"#4285f4",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),s.jsx("span",{style:{fontSize:13,fontWeight:600,color:"white"},children:"Calculating route..."})]}),!y&&be&&!$t&&s.jsx(K1,{route:be,routes:ho,onSelectRoute:wt,onCancel:()=>{wt(null),Zn([]),Qr([])},onAddStop:rl,onStart:()=>{k==null||k({...be,title:be.destinationName})},onConvoy:ss,userLocation:E}),$&&s.jsx("div",{className:"squad-modal-overlay",children:s.jsxs("div",{className:"squad-modal",children:[s.jsx(st,{size:48,color:"#00e676",style:{marginBottom:16}}),s.jsx("h3",{style:{fontSize:20,fontWeight:700,marginBottom:12,color:"white"},children:"Activate radar"}),s.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.5,marginBottom:24},children:"To see other drivers and form convoys, we need to share your live location with nearby users. Your data is encrypted and only visible to active squad members."}),s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("button",{onClick:()=>an(!1),className:"btn-glass",style:{flex:1,justifyContent:"center",height:44},children:"Cancel"}),s.jsxs("button",{onClick:()=>{N(!0),an(!1),navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>{},()=>{})},className:"btn-primary",style:{flex:1,justifyContent:"center",height:44},children:[s.jsx(sp,{size:16,style:{marginRight:6}})," Enable"]})]})]})}),_i&&s.jsx("div",{className:"squad-modal-overlay",children:s.jsxs("div",{className:"squad-modal",children:[s.jsx(st,{size:48,color:"#ff1744",style:{marginBottom:16}}),s.jsx("h3",{style:{fontSize:20,fontWeight:700,marginBottom:12,color:"white"},children:"Leave Convoy?"}),s.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.5,marginBottom:24},children:"You will stop sharing your location and will no longer see other convoy members. Navigation will continue in solo mode."}),s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("button",{onClick:()=>ln(!1),className:"btn-glass",style:{flex:1,justifyContent:"center",height:44},children:"Cancel"}),s.jsx("button",{onClick:()=>{ln(!1),N(!1),k&&y&&k({...y,memberCount:0,members:[]}),x&&x(),Gn("Left convoy"),bt(!0),setTimeout(()=>bt(!1),3e3)},className:"btn-primary",style:{flex:1,justifyContent:"center",height:44,background:"#ff1744",boxShadow:"0 4px 16px rgba(255, 23, 68, 0.4)"},children:"Leave"})]})]})}),Vn&&s.jsx("div",{className:"squad-modal-overlay",children:s.jsxs("div",{className:"squad-modal",children:[s.jsx("div",{style:{width:56,height:56,borderRadius:"50%",background:"rgba(0, 230, 118, 0.15)",border:"2px solid #00e676",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:16},children:s.jsx(st,{size:28,color:"#00e676"})}),s.jsx("h3",{style:{fontSize:20,fontWeight:700,marginBottom:4,color:"white"},children:"Request convoy"}),s.jsxs("p",{style:{fontSize:15,color:"var(--primary-apex)",fontWeight:600,marginBottom:12},children:[Vn.name,"  ",Vn.vehicle]}),s.jsxs("p",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.5,marginBottom:24},children:["This will set up a new convoy and send a request to ",Vn.name.split(" ")[0]," to join your group drive."]}),s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("button",{onClick:()=>Gr(null),className:"btn-glass",style:{flex:1,justifyContent:"center",height:44},children:"Cancel"}),s.jsxs("button",{onClick:()=>{_&&_(Vn),Gr(null)},className:"btn-primary",style:{flex:1,justifyContent:"center",height:44},children:[s.jsx(st,{size:16,style:{marginRight:6}})," Request"]})]})]})}),Q&&!ve&&s.jsx(zv,{route:Q,onClose:$n,onExpand:Xi,onStartDrive:async()=>{var ae,J;if(!E){alert("Waiting for your location...");return}const C=Q,W=(ae=C.coordinates)==null?void 0:ae.start;if(!W){alert("No start coordinates for this route.");return}dt(!0),me(null),K(null);try{const fe=await Zo(E,W),je=Array.isArray(fe)?fe[0]:fe,Ge=(je==null?void 0:je.geometry)||[],Yt=((je==null?void 0:je.distance)||0)+(C.distance||0),jt=((je==null?void 0:je.duration)||0)+(C.duration||0),Sn={geometry:Ge,distance:Yt,duration:jt,destinationName:C.name,destinationCoords:((J=C.coordinates)==null?void 0:J.end)||W,title:C.name};Ki(C),wt(Sn),Zn([]);const dl=[...Ge.map(er=>({lat:er[0],lng:er[1]})),...C.path||[]];k==null||k({...Sn,coordinates:C.coordinates})}catch(fe){console.error("Failed to calculate approach route:",fe),alert("Could not calculate route. Please try again.")}finally{dt(!1)}},onFormConvoy:ss,isFavorite:e.has(Q.id),isBucketListed:t.has(Q.id),onToggleFavorite:()=>i(Q.id),onToggleBucketList:()=>o(Q.id),userLocation:E,onSave:()=>ue(Q),onDiscard:()=>{me(null),K(null)}}),ve&&s.jsx(Tv,{route:ve,onClose:Yn,onStartDrive:()=>kt(),onFormConvoy:ss,isFavorite:e.has(ve.id),isBucketListed:t.has(ve.id),onToggleFavorite:()=>i(ve.id),onToggleBucketList:()=>o(ve.id)}),ge&&s.jsx(Ev,{onClose:()=>Pe(!1),onRouteGenerated:is,userLocation:E}),_e&&s.jsx(Bv,{onClose:()=>pe(!1),onAIEntry:()=>{pe(!1),setTimeout(()=>Pe(!0),10)},onStart:async C=>{if(!(!C||!E)){pe(!1),dt(!0);try{let W="Current Location";try{const fe=await reverseGeocode(E.lat,E.lng);fe&&(W=fe)}catch(fe){console.warn("Reverse geocode failed",fe)}const ae=await Zo(E,{lat:C.lat,lng:C.lng}),J=Array.isArray(ae)?ae[0]:ae;if(J){const fe=(Array.isArray(ae)?ae:[ae]).map(je=>({...je,destinationName:C.name,destinationAddress:C.details||C.address,startName:W,destinationCoords:{lat:C.lat,lng:C.lng},surface:{asphalt:100},hazards:{potholes:0,speedHumps:0,unpaved:0},elevation:{gain:Math.floor(je.distance*8),maxGradient:4}}));Zn(fe),wt(fe[0]),K({path:J.geometry.map(je=>({lat:je[0],lng:je[1]})),paddingOptions:{paddingTopLeft:[50,50],paddingBottomRight:[50,400]}})}}catch(W){console.error("Manual start error:",W)}finally{dt(!1)}}}}),v==="editor"&&Y&&s.jsx(Mv,{route:Y,onSave:ue,onCancel:De,onUpdatePreview:rs}),oe&&s.jsx(Rv,{onClose:()=>Fe(!1),location:E,onSelect:async C=>{if(Fe(!1),!be||!E)return;const W=be.destinationCoords;dt(!0);try{const ae=[E,{lat:C.lat,lng:C.lng},W],J=await nu(ae);J?(wt({...be,...J}),Gn(`Added stop: ${C.name}`),bt(!0),setTimeout(()=>bt(!1),4e3)):alert("Could not calculate route to stop.")}catch(ae){console.error("Add stop failed",ae)}finally{dt(!1)}}}),y&&(z||y&&y.memberCount>0)&&s.jsx("div",{style:{position:"absolute",top:160,left:20,zIndex:"var(--z-overlay)",display:"flex",flexDirection:"column",gap:6,pointerEvents:"none"},children:te.filter(C=>C.id!=="1"&&C.name!=="You").map((C,W)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:[s.jsx("span",{style:{color:"white",fontWeight:600,fontSize:18,fontFamily:"var(--font-display)"},children:C.name}),s.jsxs("span",{style:{color:"#ff6d00",fontWeight:700,fontSize:18,fontFamily:"monospace"},children:[C.distance,"m"]})]},C.id||W))})]})},lr=({title:e,routes:t,onRouteClick:i,showCreateCard:o,onCreateRoute:l,createCardPosition:c="start"})=>{if(!t||t.length===0&&!o)return null;const d=s.jsxs("div",{onClick:l,style:{minWidth:"140px",height:"300px",borderRadius:24,background:"rgba(255,255,255,0.05)",border:"1px dashed rgba(255,255,255,0.2)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:"var(--primary-apex)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:12,boxShadow:"0 4px 16px rgba(255,95,31,0.4)"},children:s.jsx(Ni,{size:24,color:"white"})}),s.jsx("span",{style:{fontSize:14,fontWeight:700,color:"white"},children:"Create"})]});return s.jsxs("div",{children:[s.jsx("div",{style:{padding:"0 20px",marginBottom:12,display:"flex",alignItems:"center",justifyContent:"space-between"},children:s.jsx("h3",{style:{fontSize:20,fontWeight:500,color:"white",fontFamily:"var(--font-display)"},children:e})}),s.jsxs("div",{className:"no-scrollbar",style:{display:"flex",gap:16,padding:"0 20px",overflowX:"auto",paddingBottom:20},children:[o&&c==="start"&&d,t.map(p=>s.jsx(Fs,{route:p,onClick:()=>i(p)},p.id)),o&&c==="end"&&d]})]})},Er=[{id:1,name:"The Black Forest Hairpins",region:"Baden-Wrttemberg",author:"Stefan K.",authorVerified:!0,distance:42,curves:"High",curvinessIndex:4,sss:9.4,duration:45,technical:!0,scenic:!0,distanceFromUser:120,hearts:342,image:"https://welovetravel.in/wp-content/uploads/2024/09/david-talley-FWCjJ7VNm-k-unsplash-scaled.jpg",surface:{asphalt:89,concrete:6,gravel:4,cobblestone:1},elevation:{gain:860,max:1140,minGradient:-8,maxGradient:11},hazards:{speedHumps:1,potholes:0,unpaved:0},atmosphere:["Forest"],coordinates:{start:{lat:48.41,lng:8.07},end:{lat:48.23,lng:8.18}},gallery:["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400","https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400","https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400"],waypoints:[{name:"Obertal Viewpoint",type:"scenic",distanceKm:8},{name:"Shell V-Power Station",type:"fuel",distanceKm:22},{name:"Mummelsee Overlook",type:"scenic",distanceKm:35}]},{id:2,name:"Alpine Pass Sprint",region:"Bavaria",author:"Peak Flow Curated",authorVerified:!1,distance:18,curves:"Medium",curvinessIndex:3,sss:8.8,duration:25,technical:!1,scenic:!0,distanceFromUser:280,hearts:187,image:"https://www.mototourseurope.com/img/website/blog_posts/thumbs/2c4c5e64-8590-472a-b080-0b01b8e4703c_000.jpg",surface:{asphalt:82,concrete:10,gravel:5,cobblestone:3},elevation:{gain:520,max:1680,minGradient:-6,maxGradient:9},hazards:{speedHumps:2,potholes:0,unpaved:0},atmosphere:["Alpine"],coordinates:{start:{lat:47.44,lng:11.1},end:{lat:47.39,lng:11.25}},gallery:["https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=400","https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400"],waypoints:[{name:"Summit Pass",type:"scenic",distanceKm:12},{name:"Alpine Hut Rest Stop",type:"rest",distanceKm:16}]},{id:3,name:"Coastal Cruise",region:"North Sea",author:"Jasper M.",authorVerified:!0,distance:120,curves:"Low",curvinessIndex:1,sss:7.5,duration:110,technical:!1,scenic:!0,distanceFromUser:450,hearts:89,image:"https://blog.alltours.de/wp-content/uploads/2025/07/kuestenstrasse-kroatien-istock-525555543.jpg",surface:{asphalt:72,concrete:12,gravel:10,cobblestone:6},elevation:{gain:120,max:45,minGradient:-2,maxGradient:3},hazards:{speedHumps:3,potholes:1,unpaved:2},atmosphere:["Coastal"],coordinates:{start:{lat:53.87,lng:8.7},end:{lat:54.32,lng:8.55}},gallery:["https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400","https://images.unsplash.com/photo-1519046904884-53103b34b206?w=400","https://images.unsplash.com/photo-1473116763249-2faaef81ccda?w=400","https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?w=400"],waypoints:[{name:"Lighthouse Point",type:"scenic",distanceKm:18},{name:"Harbour Caf",type:"rest",distanceKm:55},{name:"Dune Overlook",type:"scenic",distanceKm:82},{name:"Aral High-Octane",type:"fuel",distanceKm:100}]},{id:4,name:"Urban Night Loop",region:"Berlin",author:"Max T.",authorVerified:!1,distance:25,curves:"Medium",curvinessIndex:2,sss:6.5,duration:40,technical:!0,scenic:!1,distanceFromUser:15,hearts:56,image:"https://i.pinimg.com/236x/86/37/7a/86377a8a62ae6bb953f952d6669a8703.jpg",surface:{asphalt:60,concrete:15,gravel:3,cobblestone:22},elevation:{gain:30,max:65,minGradient:-1,maxGradient:2},hazards:{speedHumps:5,potholes:2,unpaved:0},atmosphere:["Industrial"],coordinates:{start:{lat:52.52,lng:13.4},end:{lat:52.52,lng:13.4}},gallery:["https://images.unsplash.com/photo-1514565131-fce0801e5785?w=400"],waypoints:[{name:"Brandenburg Gate",type:"scenic",distanceKm:5},{name:"Tempelhof Straight",type:"scenic",distanceKm:15}]},{id:5,name:"Taunus Climb",region:"Hesse",author:"Stefan K.",authorVerified:!0,distance:35,curves:"High",curvinessIndex:4,sss:8.9,duration:55,technical:!0,scenic:!0,distanceFromUser:20,hearts:221,image:"https://www.rossfeldpanoramastrasse.de/wp-content/uploads/2024/05/rossfeld-panorama-strasse-home-header-1024x682.jpg",surface:{asphalt:91,concrete:5,gravel:3,cobblestone:1},elevation:{gain:640,max:880,minGradient:-10,maxGradient:12},hazards:{speedHumps:2,potholes:0,unpaved:0},atmosphere:["Forest"],coordinates:{start:{lat:50.22,lng:8.48},end:{lat:50.18,lng:8.5}},gallery:["https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400","https://images.unsplash.com/photo-1448375240586-882707db888b?w=400","https://images.unsplash.com/photo-1542202229-7d93c33f5d07?w=400"],waypoints:[{name:"Feldberg Summit",type:"scenic",distanceKm:18},{name:"Aral V-Power",type:"fuel",distanceKm:28},{name:"Saalburg Overlook",type:"scenic",distanceKm:33}]},{id:6,name:"Mosel Valley Run",region:"Rhineland",author:"Peak Flow Curated",authorVerified:!1,distance:60,curves:"Medium",curvinessIndex:3,sss:9.1,duration:90,technical:!1,scenic:!0,distanceFromUser:210,hearts:156,image:"https://www.canyon.com/dw/image/v2/BCML_PRD/on/demandware.static/-/Library-Sites-canyon-shared/default/dw3ec105c0/images/blog/E-Bike/moselle-cycle-path-01.jpg?sw=1064",surface:{asphalt:85,concrete:8,gravel:5,cobblestone:2},elevation:{gain:380,max:520,minGradient:-5,maxGradient:7},hazards:{speedHumps:1,potholes:0,unpaved:0},atmosphere:["Forest","Coastal"],coordinates:{start:{lat:50.36,lng:7.59},end:{lat:49.95,lng:7.31}},gallery:["https://images.unsplash.com/photo-1505765050516-f72dcac9c60e?w=400","https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=400"],waypoints:[{name:"Vineyard Terrace",type:"scenic",distanceKm:15},{name:"Cochem Castle View",type:"scenic",distanceKm:38},{name:"River Bend Rest",type:"rest",distanceKm:52}]},{id:7,name:"Eifel Ring Road",region:"Nrburg",author:"Peak Flow Curated",authorVerified:!1,distance:15,curves:"Extreme",curvinessIndex:5,sss:9.8,duration:20,technical:!0,scenic:!1,distanceFromUser:180,hearts:892,image:"https://funkygermany.com/wp-content/uploads/2020/06/roadtrip-deutschland-bayern.jpg",surface:{asphalt:96,concrete:4,gravel:0,cobblestone:0},elevation:{gain:190,max:620,minGradient:-7,maxGradient:8},hazards:{speedHumps:0,potholes:0,unpaved:0},atmosphere:["Forest"],coordinates:{start:{lat:50.33,lng:6.94},end:{lat:50.33,lng:6.94}},gallery:["https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=400","https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=400"],waypoints:[{name:"Pit Lane Entry",type:"scenic",distanceKm:0},{name:"Karussell",type:"scenic",distanceKm:7}]},{id:8,name:"Grand Alpine Tour",region:"The Alps",author:"Stefan K.",authorVerified:!0,distance:350,curves:"Medium",curvinessIndex:3,sss:9.5,duration:360,technical:!1,scenic:!0,multiDay:!0,distanceFromUser:290,hearts:1204,image:"https://www.grossglockner.at/Bildmaterial%20%26%20PDF%20Websites/Gro%C3%9Fglockner%20Hochalpenstra%C3%9Fe/Naturlandschaft/169/image-thumb__169__lightbox/Glockner-Edelweissspitze-1.a03aa18a.jpg",surface:{asphalt:78,concrete:11,gravel:8,cobblestone:3},elevation:{gain:3200,max:2504,minGradient:-12,maxGradient:14},hazards:{speedHumps:2,potholes:1,unpaved:0},atmosphere:["Alpine"],coordinates:{start:{lat:47.07,lng:12.84},end:{lat:47.07,lng:12.84}},gallery:["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400","https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400","https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400","https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=400","https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400"],waypoints:[{name:"Grossglockner Entry",type:"scenic",distanceKm:0},{name:"Kaiser-Franz-Josefs-Hhe",type:"scenic",distanceKm:48},{name:"Edelwei-Spitze",type:"scenic",distanceKm:85},{name:"OMV High-Octane",type:"fuel",distanceKm:160},{name:"Zillertal Valley Caf",type:"rest",distanceKm:220},{name:"Inntal Panorama",type:"scenic",distanceKm:310}]}],Uv=[{id:"t1",routeId:1,routeName:"The Black Forest Hairpins",date:"2026-02-08",distance:42.3,duration:48,image:"https://welovetravel.in/wp-content/uploads/2024/09/david-talley-FWCjJ7VNm-k-unsplash-scaled.jpg",notes:"Perfect conditions. Morning mist cleared by 10am. Took the southern variant through the valley.",photos:3,performance:{avgSpeed:72,maxSpeed:164,avgGForce:.4,maxGForce:1.1,fuelUsed:18.2,gearChanges:342,sectors:[{name:"Sector 1  Valley Entry",time:"4:32",speed:88},{name:"Sector 2  Hairpin Series",time:"12:08",speed:54},{name:"Sector 3  Ridge Run",time:"6:44",speed:112},{name:"Sector 4  Descent",time:"8:16",speed:96}]}},{id:"t2",routeId:5,routeName:"Taunus Climb",date:"2026-02-01",distance:35.1,duration:58,image:"https://www.rossfeldpanoramastrasse.de/wp-content/uploads/2024/05/rossfeld-panorama-strasse-home-header-1024x682.jpg",notes:"Cold but dry. Some frost patches on the northern switchbacks. Incredible sunset at the top.",photos:7,performance:{avgSpeed:64,maxSpeed:148,avgGForce:.5,maxGForce:1.3,fuelUsed:14.8,gearChanges:298,sectors:[{name:"Sector 1  Base Approach",time:"3:18",speed:92},{name:"Sector 2  Main Climb",time:"14:22",speed:48},{name:"Sector 3  Summit Loop",time:"5:56",speed:68}]}},{id:"t3",routeId:7,routeName:"Eifel Ring Road",date:"2026-01-25",distance:15.2,duration:22,image:"https://funkygermany.com/wp-content/uploads/2020/06/roadtrip-deutschland-bayern.jpg",notes:"Quick blast around the ring. Track was quiet, perfect grip.",photos:2,performance:{avgSpeed:108,maxSpeed:212,avgGForce:.8,maxGForce:1.8,fuelUsed:8.4,gearChanges:186,sectors:[{name:"Sector 1  Sprint Start",time:"2:48",speed:142},{name:"Sector 2  Technical Mid",time:"6:12",speed:94},{name:"Sector 3  Fast Finish",time:"3:44",speed:128}]}},{id:"t4",routeId:8,routeName:"Grand Alpine Tour",date:"2026-01-12",distance:348.7,duration:312,image:"https://www.grossglockner.at/Bildmaterial%20%26%20PDF%20Websites/Gro%C3%9Fglockner%20Hochalpenstra%C3%9Fe/Naturlandschaft/169/image-thumb__169__lightbox/Glockner-Edelweissspitze-1.a03aa18a.jpg",notes:"Full day tour with the PEX team. Stopped at 3 overlooks. Highlight was the Grossglockner pass.",photos:24,performance:{avgSpeed:68,maxSpeed:178,avgGForce:.3,maxGForce:.9,fuelUsed:82.5,gearChanges:1420,sectors:[{name:"Sector 1  Valley Start",time:"18:32",speed:88},{name:"Sector 2  Mountain Climb",time:"42:08",speed:52},{name:"Sector 3  High Pass",time:"28:44",speed:64},{name:"Sector 4  Descent Home",time:"22:16",speed:82}]}}],Zv=[{id:1,title:"PEX team roadtrip to Arlberg",countdown:"Now happening",timestamp:Date.now(),members:8,distance:530,startLocation:"Munich",endLocation:"Lech am Arlberg",image:"https://www.grossglockner.at/Bildmaterial%20%26%20PDF%20Websites/Gro%C3%9Fglockner%20Hochalpenstra%C3%9Fe/Naturlandschaft/169/image-thumb__169__lightbox/Glockner-Edelweissspitze-1.a03aa18a.jpg",route:Er.find(e=>e.id===8)},{id:2,title:"Black Forest Grand Tour",countdown:"In 12 days",timestamp:Date.now()+12*864e5,members:5,distance:420,startLocation:"Stuttgart",endLocation:"Freiburg",image:"https://welovetravel.in/wp-content/uploads/2024/09/david-talley-FWCjJ7VNm-k-unsplash-scaled.jpg",route:Er.find(e=>e.id===1)},{id:3,title:"Alpine Sunrise Convoy",countdown:"In 18 days",timestamp:Date.now()+18*864e5,members:12,distance:680,startLocation:"Innsbruck",endLocation:"Zell am See",image:"https://www.mototourseurope.com/img/website/blog_posts/thumbs/2c4c5e64-8590-472a-b080-0b01b8e4703c_000.jpg",route:Er.find(e=>e.id===2)}],ou=[{id:"u2",name:"Jasper M.",vehicle:"Porsche 911 GT3",username:"@jasper_m"},{id:"u3",name:"Max T.",vehicle:"BMW M4",username:"@max_t"},{id:"u4",name:"Lisa R.",vehicle:"Audi RS6",username:"@lisa_r"},{id:"u5",name:"Tom W.",vehicle:"Mercedes AMG GT",username:"@tom_w"},{id:"u6",name:"Anna B.",vehicle:"Porsche Cayman GT4",username:"@anna_b"},{id:"u7",name:"Chris D.",vehicle:"Nissan GT-R",username:"@chris_d"}],sc=ou,up=[{id:"m1",userId:"u1",name:"Stefan K.",text:"Convoy created! Who's in? ",time:"15:30"}],Hm={phase:"lobby",convoy:null,tether:{status:"connected",gaps:[]}};function Gv(e,t){var i,o,l;switch(t.type){case"CREATE_CONVOY":return{...e,phase:"building",convoy:{id:"convoy-"+Date.now(),title:"",description:"",coverImage:null,code:Math.random().toString(36).substring(2,8).toUpperCase(),route:null,members:[sc[0]],schedule:"instant",gallery:[],messages:[...up]}};case"JOIN_CONVOY":return{...e,phase:"summary",convoy:{id:"convoy-joined",title:((i=t.payload)==null?void 0:i.title)||"Joined Convoy",description:"A group drive with friends",coverImage:"https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=600",code:((o=t.payload)==null?void 0:o.code)||"------",route:((l=t.payload)==null?void 0:l.route)||null,members:[sc[0],sc[1]],schedule:"instant",gallery:[],messages:[...up]}};case"SET_TITLE":return{...e,convoy:{...e.convoy,title:t.payload}};case"SET_DESCRIPTION":return{...e,convoy:{...e.convoy,description:t.payload}};case"SET_COVER":return{...e,convoy:{...e.convoy,coverImage:t.payload}};case"SET_SCHEDULE":return{...e,convoy:{...e.convoy,schedule:t.payload}};case"ADD_MEMBER":return e.convoy.members.find(d=>d.id===t.payload.id)?e:{...e,convoy:{...e.convoy,members:[...e.convoy.members,t.payload]}};case"REMOVE_MEMBER":return{...e,convoy:{...e.convoy,members:e.convoy.members.filter(d=>d.id!==t.payload)}};case"SET_ROUTE":return{...e,convoy:{...e.convoy,route:t.payload}};case"UPDATE_STOP_DETAILS":if(!e.convoy||!e.convoy.route)return e;const c={...e.convoy.route};return c.stops||(c.stops=[]),c.stops[t.payload.index]={...c.stops[t.payload.index],...t.payload.details},{...e,convoy:{...e.convoy,route:c}};case"CONFIRM_CONVOY":return{...e,phase:"summary"};case"ADD_GALLERY_IMAGE":return{...e,convoy:{...e.convoy,gallery:[...e.convoy.gallery,t.payload]}};case"ADD_MESSAGE":return{...e,convoy:{...e.convoy,messages:[...e.convoy.messages,t.payload]}};case"START_DRIVE":return{...e,phase:"driving"};case"SET_TETHER":return{...e,tether:{...e.tether,status:t.payload}};case"END_DRIVE":return{...e,phase:"ended"};case"UPDATE_ROUTE_STRUCTURE":return{...e,convoy:{...e.convoy,route:t.payload}};case"BACK_TO_LOBBY":return{...Hm};default:return e}}const cr={width:"100%",padding:"14px 16px",borderRadius:12,background:"rgba(255,255,255,0.05)",border:"var(--border-glass)",color:"white",fontSize:15,fontFamily:"var(--font-main)",outline:"none"},ur={marginBottom:24},dr={fontSize:13,fontWeight:600,marginBottom:8,display:"block",color:"var(--text-secondary)"},Kv=({myRoutes:e=[],onConvoyChange:t,initialMembers:i=[],onClearInitialMembers:o,initialRoute:l=null,onClearInitialRoute:c,onStartDrive:d,onEndDrive:p,onBack:f})=>{var _i,ln;const[g,_]=S.useReducer(Gv,Hm),[y,k]=S.useState(""),[j,I]=S.useState(!1),[z,N]=S.useState(!1),[x,v]=S.useState(!1),[w,T]=S.useState(""),[M,E]=S.useState("route"),[U,O]=S.useState(""),[V,A]=S.useState(!1),[te,Y]=S.useState(""),[X,Q]=S.useState("09:00"),me=S.useRef(null),ve=S.useRef(null),Ae=S.useRef(null),B=S.useRef(!1),[K,D]=S.useState(!1),[re,ge]=S.useState(null),[Pe,_e]=S.useState(!1),[pe,oe]=S.useState([...Zv]),[Fe,lt]=S.useState([{id:"p1",title:"Midnight Run",image:"https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=300",members:8,date:"2 days ago"},{id:"p2",title:"Alpine Tour 2023",image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=300",members:12,date:"4 weeks ago"}]);S.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(G=>{ge({lat:G.coords.latitude,lng:G.coords.longitude})},G=>console.warn("Squad location error",G),{enableHighAccuracy:!0})},[]);const de=async G=>{const ye=[];for(const Z of G){let ce=Z.coordinates;if(Z.isCurrentLocation&&!ce&&re)ce=re;else if(Z.isCurrentLocation&&!ce){alert("Cannot calculate route from current location without permission.");return}ce&&ye.push(ce)}if(ye.length<2){alert("Route must have at least 2 points.");return}try{const Z=await nu(ye);if(Z){const ce=G.map(Se=>({name:Se.name,description:Se.description,photos:Se.photos,type:Se.type})),se={...$.route,...Z,stops:ce,destinationName:G[G.length-1].name,startAddress:G[0].details||G[0].name};_({type:"UPDATE_ROUTE_STRUCTURE",payload:se}),_e(!1)}else alert("Could not calculate new route.")}catch(Z){console.error(Z),alert("Error updating route.")}},Ie=async()=>({name:"New Stop",description:"Added waypoint",coordinates:re||{lat:37.7749,lng:-122.4194},type:"stop",isCurrentLocation:!!re});S.useEffect(()=>{if(!x)return;const G=ye=>{Ae.current&&!Ae.current.contains(ye.target)&&(v(!1),T(""))};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[x]);const Oe=G=>{var Z;const ye=(Z=G.target.files)==null?void 0:Z[0];if(ye){const ce=URL.createObjectURL(ye);_({type:"SET_COVER",payload:ce})}};S.useEffect(()=>{i.length>0&&(g.phase==="lobby"&&(B.current=!0,_({type:"CREATE_CONVOY"})),i.forEach(G=>{_({type:"ADD_MEMBER",payload:G})}),o&&o())},[i,g.phase,o]),S.useEffect(()=>{if(l){g.phase==="lobby"&&(B.current=!0,_({type:"CREATE_CONVOY"}));let G={...l};G.name||(G.destinationName?G.name=`To ${G.destinationName}`:G.name="Custom Route"),G.region||(G.region="Custom"),G.distance&&(G.legs||G.duration)&&G.distance>800&&(G.distance=(G.distance/1e3).toFixed(1)),_({type:"SET_ROUTE",payload:G}),g.convoy&&!g.convoy.title&&_({type:"SET_TITLE",payload:`${G.name} Run`}),c&&c()}},[l,g.phase,(_i=g.convoy)==null?void 0:_i.title,c]);const Hn=()=>{window.confirm("Allow 'Peak Flow' to access your camera?")&&N(!0)},{phase:ct,convoy:$,tether:an}=g;if(S.useEffect(()=>{t&&t(ct!=="lobby"&&ct!=="ended"&&$?{active:!0,memberCount:$.members.length,title:$.title,phase:ct}:null)},[ct,(ln=$==null?void 0:$.members)==null?void 0:ln.length,$==null?void 0:$.title,t]),ct==="lobby")return s.jsxs("div",{style:{height:"100%",overflow:"auto",padding:"56px 20px 100px"},className:"no-scrollbar",children:[s.jsx("h1",{style:{fontSize:28,fontWeight:800,marginBottom:4},children:"Squad"}),s.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginBottom:28},children:"Your convoy lobby"}),s.jsxs("div",{style:{display:"flex",gap:12,marginBottom:32},children:[s.jsxs("button",{onClick:()=>_({type:"CREATE_CONVOY"}),className:"btn-primary",style:{flex:1,padding:"18px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:10,fontSize:15,fontWeight:700},children:[s.jsx(In,{size:20})," Create Convoy"]}),s.jsxs("button",{onClick:()=>I(!j),className:"btn-glass",style:{flex:1,padding:"18px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:10,fontSize:15,fontWeight:600},children:[s.jsx(I1,{size:20})," Join Convoy"]})]}),j&&s.jsx("div",{className:"glass-panel",style:{padding:20,marginBottom:28,animation:"slideDown 0.2s ease",position:"relative",overflow:"hidden"},children:z?s.jsxs("div",{style:{height:200,background:"black",borderRadius:12,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[s.jsx("div",{style:{position:"absolute",inset:0,border:"2px solid var(--primary-apex)",borderRadius:12,opacity:.5}}),s.jsx("div",{style:{width:"80%",height:2,background:"var(--primary-apex)",boxShadow:"0 0 10px var(--primary-apex)",animation:"scan 2s infinite ease-in-out"}}),s.jsx("p",{style:{marginTop:20,fontSize:12,color:"rgba(255,255,255,0.7)"},children:"Align QR code within frame"}),s.jsx("button",{onClick:()=>N(!1),style:{position:"absolute",bottom:10,background:"rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.2)",color:"white",padding:"6px 12px",borderRadius:20,fontSize:12},children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:12},children:"Enter 6-digit code"}),s.jsxs("div",{style:{display:"flex",gap:10},children:[s.jsx("input",{type:"text",maxLength:6,placeholder:"ABC123",value:y,onChange:G=>k(G.target.value.toUpperCase()),style:{...cr,fontSize:20,fontWeight:700,letterSpacing:8,textAlign:"center",flex:1}}),s.jsx("button",{onClick:()=>_({type:"JOIN_CONVOY",payload:{code:y}}),disabled:y.length<6,className:"btn-primary",style:{padding:"14px 20px",fontSize:14},children:"Join"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginTop:14,color:"var(--text-muted)"},children:[s.jsx("div",{style:{flex:1,height:1,background:"rgba(255,255,255,0.06)"}}),s.jsx("span",{style:{fontSize:12},children:"or"}),s.jsx("div",{style:{flex:1,height:1,background:"rgba(255,255,255,0.06)"}})]}),s.jsxs("button",{onClick:Hn,style:{width:"100%",marginTop:14,padding:"12px",background:"rgba(255,255,255,0.04)",border:"var(--border-glass)",borderRadius:12,color:"var(--text-secondary)",fontFamily:"var(--font-main)",fontSize:14,fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[s.jsx(L1,{size:16})," Scan QR Code"]})]})}),s.jsx("h3",{style:{fontSize:16,fontWeight:700,marginBottom:14},children:"Upcoming Convoys"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:32},children:[...pe].sort((G,ye)=>(G.timestamp||0)-(ye.timestamp||0)).map(G=>s.jsxs("div",{onClick:()=>_({type:"JOIN_CONVOY",payload:{title:G.title,code:"SAMPLE",route:G.route}}),className:"glass-panel",style:{display:"flex",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:ye=>ye.currentTarget.style.transform="scale(1.01)",onMouseLeave:ye=>ye.currentTarget.style.transform="scale(1)",children:[s.jsx("div",{style:{width:90,height:90,flexShrink:0,overflow:"hidden"},children:s.jsx("img",{src:G.image,alt:G.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:{flex:1,padding:"12px 14px",display:"flex",flexDirection:"column",justifyContent:"center",minWidth:0},children:[s.jsx("h4",{style:{fontSize:14,fontWeight:700,marginBottom:4,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:G.title}),s.jsxs("div",{style:{display:"flex",gap:10,fontSize:11,color:"var(--text-secondary)"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(st,{size:10})," ",G.members]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(on,{size:10})," ",G.distance,"km"]})]}),s.jsx("p",{style:{fontSize:12,color:G.countdown==="Now happening"?"var(--sss-apex)":"var(--primary-apex)",fontWeight:600,marginTop:4},children:G.countdown})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"0 12px",gap:12},children:[s.jsx("button",{onClick:ye=>{ye.stopPropagation(),window.confirm(`Delete "${G.title}"?`)&&oe(Z=>Z.filter(ce=>ce.id!==G.id))},style:{background:"none",border:"none",padding:8,color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s"},onMouseEnter:ye=>ye.currentTarget.style.color="#ff4444",onMouseLeave:ye=>ye.currentTarget.style.color="var(--text-muted)",children:s.jsx(fi,{size:18})}),s.jsx(As,{size:18,color:"var(--text-muted)"})]})]},G.id))}),s.jsx("h3",{style:{fontSize:16,fontWeight:700,marginBottom:14,color:"var(--text-muted)"},children:"Past Convoys"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[Fe.map(G=>s.jsxs("div",{onClick:()=>_({type:"JOIN_CONVOY",payload:{title:G.title,code:"PAST",route:null}}),className:"glass-panel",style:{display:"flex",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s",filter:"grayscale(1)",opacity:.8},children:[s.jsx("div",{style:{width:90,height:90,flexShrink:0,overflow:"hidden"},children:s.jsx("img",{src:G.image,alt:G.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:{flex:1,padding:"12px 14px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[s.jsx("h4",{style:{fontSize:14,fontWeight:700,marginBottom:4,color:"var(--text-secondary)"},children:G.title}),s.jsxs("div",{style:{display:"flex",gap:10,fontSize:11,color:"var(--text-muted)"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(st,{size:10})," ",G.members]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(ec,{size:10})," ",G.date]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"0 12px",gap:12},children:[s.jsx("button",{onClick:ye=>{ye.stopPropagation(),window.confirm(`Delete "${G.title}" from history?`)&&lt(Z=>Z.filter(ce=>ce.id!==G.id))},style:{background:"none",border:"none",padding:8,color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s"},onMouseEnter:ye=>ye.currentTarget.style.color="#ff4444",onMouseLeave:ye=>ye.currentTarget.style.color="var(--text-muted)",children:s.jsx(fi,{size:18})}),s.jsx(As,{size:18,color:"var(--text-muted)"})]})]},G.id)),Fe.length===0&&s.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",textAlign:"center"},children:"No past convoys"})]})]});if(ct==="building"){const G=ou.filter(Z=>!$.members.find(ce=>ce.id===Z.id)&&(Z.name.toLowerCase().includes(w.toLowerCase())||Z.username.toLowerCase().includes(w.toLowerCase()))),ye=e.length>0?e:Er;return s.jsxs("div",{style:{height:"100%",overflow:"auto",padding:"56px 20px 100px"},className:"no-scrollbar",children:[s.jsxs("button",{onClick:()=>{D(!0)},style:{background:"none",border:"none",color:"var(--primary-apex)",fontFamily:"var(--font-main)",fontSize:13,fontWeight:600,cursor:"pointer",marginBottom:20,padding:0,display:"flex",alignItems:"center",gap:6},children:[s.jsx(Rn,{size:16})," ",B.current?"Back":"Back to Lobby"]}),K&&s.jsx("div",{style:{position:"fixed",inset:0,zIndex:1200,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",p:20},onClick:()=>D(!1),children:s.jsxs("div",{className:"glass-panel",style:{width:"90%",maxWidth:320,padding:24,background:"#1a1d24",border:"1px solid rgba(255,255,255,0.1)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},onClick:Z=>Z.stopPropagation(),children:[s.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:"rgba(255, 152, 0, 0.1)",color:"#ff9800",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:16},children:s.jsx(Ns,{size:24})}),s.jsx("h3",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Discard Convoy?"}),s.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginBottom:24,lineHeight:1.5},children:"If you go back now, your convoy setup and all changes will be lost."}),s.jsxs("div",{style:{display:"flex",gap:12,width:"100%"},children:[s.jsx("button",{onClick:()=>{D(!1),B.current&&f?f():_({type:"BACK_TO_LOBBY"})},className:"btn-glass",style:{flex:1,padding:"12px",fontSize:14,color:"#ff4444",borderColor:"rgba(255, 68, 68, 0.3)"},children:"Discard"}),s.jsx("button",{onClick:()=>D(!1),className:"btn-primary",style:{flex:1,padding:"12px",fontSize:14},children:"Continue Editing"})]})]})}),s.jsx("h2",{style:{fontSize:24,fontWeight:800,marginBottom:4},children:"Set Up Convoy"}),s.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginBottom:24},children:"Configure your group drive"}),s.jsxs("div",{style:ur,children:[s.jsx("label",{style:dr,children:"Convoy Title *"}),s.jsx("input",{type:"text",placeholder:"e.g. Sunday Morning Blast",value:$.title,onChange:Z=>_({type:"SET_TITLE",payload:Z.target.value}),style:cr})]}),s.jsxs("div",{style:ur,children:[s.jsxs("label",{style:dr,children:["Cover Image ",s.jsx("span",{style:{fontWeight:400,color:"var(--text-muted)"},children:"(optional)"})]}),s.jsx("input",{type:"file",accept:"image/*",ref:ve,onChange:Oe,style:{display:"none"}}),$.coverImage?s.jsxs("div",{style:{position:"relative",borderRadius:12,overflow:"hidden",height:140},children:[s.jsx("img",{src:$.coverImage,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("button",{onClick:()=>_({type:"SET_COVER",payload:null}),style:{position:"absolute",top:8,right:8,width:28,height:28,borderRadius:"50%",background:"rgba(0,0,0,0.6)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Mt,{size:14})})]}):s.jsxs("button",{onClick:()=>{var Z;return(Z=ve.current)==null?void 0:Z.click()},style:{width:"100%",padding:"28px 16px",borderRadius:12,background:"rgba(255,255,255,0.03)",border:"1px dashed rgba(255,255,255,0.12)",color:"var(--text-muted)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:8,fontFamily:"var(--font-main)",fontSize:13},children:[s.jsx(no,{size:24,style:{opacity:.5}}),s.jsx("span",{children:"Tap to select cover image"})]})]}),s.jsxs("div",{style:ur,children:[s.jsxs("label",{style:dr,children:["Description ",s.jsx("span",{style:{fontWeight:400,color:"var(--text-muted)"},children:"(optional)"})]}),s.jsx("textarea",{placeholder:"What's the plan?",value:$.description,onChange:Z=>_({type:"SET_DESCRIPTION",payload:Z.target.value}),rows:3,style:{...cr,resize:"none"}})]}),s.jsxs("div",{style:ur,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[s.jsxs("label",{style:{...dr,marginBottom:0},children:["Members (",$.members.length,")"]}),s.jsxs("button",{onClick:()=>v(!x),style:{background:"none",border:"none",color:"var(--primary-apex)",cursor:"pointer",fontFamily:"var(--font-main)",fontSize:13,fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[s.jsx(In,{size:14})," Add"]})]}),x&&s.jsxs("div",{ref:Ae,className:"glass-panel",style:{padding:12,marginBottom:12,animation:"slideDown 0.2s ease"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12,padding:"8px 12px",borderRadius:10,background:"rgba(255,255,255,0.04)"},children:[s.jsx(Vi,{size:14,color:"var(--text-muted)"}),s.jsx("input",{type:"text",placeholder:"Search by name or @username",value:w,onChange:Z=>T(Z.target.value),style:{background:"transparent",border:"none",color:"white",fontSize:13,fontFamily:"var(--font-main)",outline:"none",flex:1}})]}),s.jsxs("div",{style:{maxHeight:180,overflow:"auto"},className:"no-scrollbar",children:[G.map(Z=>s.jsxs("div",{onClick:()=>{_({type:"ADD_MEMBER",payload:{id:Z.id,name:Z.name,vehicle:Z.vehicle}}),T("")},style:{display:"flex",alignItems:"center",gap:10,padding:"10px 4px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.04)",transition:"background 0.15s"},onMouseEnter:ce=>ce.currentTarget.style.background="rgba(255,255,255,0.04)",onMouseLeave:ce=>ce.currentTarget.style.background="transparent",children:[s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:"linear-gradient(135deg, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700},children:Z.name.charAt(0)}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:13,fontWeight:600},children:Z.name}),s.jsxs("p",{style:{fontSize:11,color:"var(--text-muted)"},children:[Z.username,"  ",Z.vehicle]})]}),s.jsx(In,{size:16,color:"var(--primary-apex)"})]},Z.id)),G.length===0&&s.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",textAlign:"center",padding:12},children:"No contacts found"})]})]}),s.jsx("div",{className:"glass-panel",style:{padding:12},children:$.members.map((Z,ce)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 0",borderBottom:ce<$.members.length-1?"1px solid rgba(255,255,255,0.04)":"none"},children:[s.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:ce===0?"linear-gradient(135deg, var(--primary-apex), #ff8f00)":"linear-gradient(135deg, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:700},children:Z.name.charAt(0)}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("p",{style:{fontSize:14,fontWeight:600},children:[Z.name," ",ce===0&&s.jsx("span",{style:{fontSize:10,color:"var(--primary-apex)",fontWeight:700},children:"ADMIN"})]}),s.jsx("p",{style:{fontSize:12,color:"var(--text-secondary)"},children:Z.vehicle})]}),ce>0&&s.jsx("button",{onClick:()=>_({type:"REMOVE_MEMBER",payload:Z.id}),style:{background:"none",border:"none",color:"rgba(255,80,80,0.7)",cursor:"pointer",padding:4},children:s.jsx(Mt,{size:14})})]},Z.id))})]}),s.jsxs("div",{style:ur,children:[s.jsx("label",{style:dr,children:"Schedule"}),s.jsxs("div",{style:{display:"flex",gap:10},children:[s.jsxs("button",{onClick:()=>_({type:"SET_SCHEDULE",payload:"instant"}),style:{flex:1,padding:"14px",borderRadius:12,cursor:"pointer",fontFamily:"var(--font-main)",background:$.schedule==="instant"?"rgba(255,95,31,0.15)":"rgba(255,255,255,0.03)",border:$.schedule==="instant"?"1px solid rgba(255,95,31,0.4)":"var(--border-glass)",color:$.schedule==="instant"?"var(--primary-apex)":"var(--text-secondary)",fontSize:13,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[s.jsx(tu,{size:16})," Drive Now"]}),s.jsxs("button",{onClick:()=>{const ce=new Date(Date.now()+6048e5).toISOString().split("T")[0];Y(ce),_({type:"SET_SCHEDULE",payload:`${ce}T${X}`})},style:{flex:1,padding:"14px",borderRadius:12,cursor:"pointer",fontFamily:"var(--font-main)",background:$.schedule!=="instant"?"rgba(255,95,31,0.15)":"rgba(255,255,255,0.03)",border:$.schedule!=="instant"?"1px solid rgba(255,95,31,0.4)":"var(--border-glass)",color:$.schedule!=="instant"?"var(--primary-apex)":"var(--text-secondary)",fontSize:13,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[s.jsx(ec,{size:16})," Schedule"]})]}),$.schedule!=="instant"&&s.jsxs("div",{style:{display:"flex",gap:10,marginTop:10},children:[s.jsx("input",{type:"date",value:te,onChange:Z=>{Y(Z.target.value),_({type:"SET_SCHEDULE",payload:`${Z.target.value}T${X}`})},style:{...cr,flex:1,colorScheme:"dark"}}),s.jsx("input",{type:"time",value:X,onChange:Z=>{Q(Z.target.value),_({type:"SET_SCHEDULE",payload:`${te}T${Z.target.value}`})},style:{...cr,flex:1,colorScheme:"dark"}})]})]}),s.jsxs("div",{style:ur,children:[s.jsxs("label",{style:dr,children:["Route ",s.jsx("span",{style:{fontWeight:400,color:"var(--text-muted)"},children:"(optional  can add later)"})]}),$.route?s.jsx(Fa,{route:$.route,userLocation:re,onStopUpdate:(Z,ce)=>_({type:"UPDATE_STOP_DETAILS",payload:{index:Z,details:ce}})}):s.jsxs("div",{style:{display:"flex",gap:10},children:[s.jsxs("button",{onClick:()=>A(!0),style:{flex:1,padding:"16px 12px",borderRadius:12,background:"rgba(255,255,255,0.03)",border:"1px dashed rgba(255,255,255,0.12)",color:"var(--text-muted)",cursor:"pointer",fontFamily:"var(--font-main)",fontSize:13,display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[s.jsx(ua,{size:20,style:{opacity:.5}}),s.jsx("span",{children:"Select Route"})]}),s.jsxs("button",{onClick:()=>alert("Switch to the Discover tab to create a new route using Manual or AI route builder."),style:{flex:1,padding:"16px 12px",borderRadius:12,background:"rgba(255,255,255,0.03)",border:"1px dashed rgba(255,255,255,0.12)",color:"var(--text-muted)",cursor:"pointer",fontFamily:"var(--font-main)",fontSize:13,display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[s.jsx(Ni,{size:20,style:{opacity:.5}}),s.jsx("span",{children:"Create Route"})]})]})]}),s.jsx("button",{onClick:()=>{_({type:"CONFIRM_CONVOY"});let Z="Now happening",ce=Date.now();if($.schedule!=="instant"){const Se=new Date($.schedule);ce=Se.getTime();const lo=Se-Date.now(),Gi=Math.ceil(lo/(1e3*60*60*24));Gi<=0?Z="Today":Gi===1?Z="Tomorrow":Z=`In ${Gi} days`}const se={id:$.id,title:$.title,image:$.coverImage||"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=300",members:$.members.length,distance:$.route?Math.round($.route.distance):0,countdown:Z,timestamp:ce,route:$.route};oe(Se=>[...Se,se])},disabled:!$.title,className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:16,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:8,opacity:$.title?1:.4},children:" Create Convoy"}),V&&s.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(8px)",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"56px 20px 20px",display:"flex",alignItems:"center",gap:12},children:[s.jsx("button",{onClick:()=>A(!1),style:{background:"rgba(255,255,255,0.08)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},children:s.jsx(Rn,{size:18})}),s.jsx("h2",{style:{fontSize:20,fontWeight:800},children:"Select a Route"})]}),s.jsx("div",{style:{flex:1,overflow:"auto",padding:"0 20px 40px"},className:"no-scrollbar",children:ye.length===0?s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx(kr,{size:40,color:"var(--text-muted)",style:{opacity:.3,marginBottom:12}}),s.jsx("p",{style:{fontSize:14,color:"var(--text-muted)"},children:"No saved routes yet"}),s.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:4},children:"Create routes from the Discover tab first"})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:ye.map(Z=>s.jsxs("div",{onClick:()=>{_({type:"SET_ROUTE",payload:Z}),A(!1)},className:"glass-panel",style:{display:"flex",overflow:"hidden",cursor:"pointer",transition:"transform 0.15s"},onMouseEnter:ce=>ce.currentTarget.style.transform="scale(1.01)",onMouseLeave:ce=>ce.currentTarget.style.transform="scale(1)",children:[s.jsx("div",{style:{width:80,height:80,flexShrink:0,overflow:"hidden"},children:s.jsx("img",{src:Z.image,alt:Z.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:{flex:1,padding:"10px 14px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[s.jsx("h4",{style:{fontSize:14,fontWeight:700,marginBottom:4},children:Z.name}),s.jsxs("div",{style:{display:"flex",gap:10,fontSize:11,color:"var(--text-secondary)"},children:[s.jsxs("span",{children:[Z.distance,"km"]}),s.jsx("span",{children:Z.region}),Z.waypoints&&s.jsxs("span",{children:[Z.waypoints.length," waypoints"]})]})]}),s.jsx("div",{style:{display:"flex",alignItems:"center",padding:"0 12px",color:"var(--text-muted)"},children:s.jsx(As,{size:16})})]},Z.id))})})]})]})}if(ct==="summary"){const G=$.schedule==="instant",ye=G?"Happening Now":new Date($.schedule).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),Z=[{id:"route",icon:s.jsx(kr,{size:16}),label:"Route"},{id:"members",icon:s.jsx(st,{size:16}),label:"Members"},{id:"gallery",icon:s.jsx(op,{size:16}),label:"Gallery"},{id:"chat",icon:s.jsx(S1,{size:16}),label:"Chat"}],ce=()=>{U.trim()&&(_({type:"ADD_MESSAGE",payload:{id:"m"+Date.now(),userId:"u1",name:"Stefan K.",text:U,time:new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}}),O(""))};return s.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs("div",{style:{flexShrink:0,position:"relative"},children:[$.coverImage?s.jsxs("div",{style:{height:180,position:"relative"},children:[s.jsx("img",{src:$.coverImage,alt:"",onError:se=>se.currentTarget.style.display="none",style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(15,17,21,0.3) 0%, rgba(15,17,21,0.95) 100%)"}})]}):s.jsx("div",{style:{height:100,background:"linear-gradient(135deg, rgba(255,95,31,0.15), rgba(255,95,31,0.05))"}}),s.jsx("div",{style:{position:"absolute",top:16,left:16,zIndex:10},children:s.jsx("button",{onClick:()=>{B.current&&f?f():_({type:"BACK_TO_LOBBY"})},style:{background:"rgba(0,0,0,0.6)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",backdropFilter:"blur(8px)",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:s.jsx(Rn,{size:22,strokeWidth:2.5})})}),s.jsxs("div",{style:{position:"absolute",bottom:16,left:20,right:20},children:[s.jsx("h2",{style:{fontSize:22,fontWeight:800},children:$.title||"Untitled Convoy"}),s.jsxs("p",{style:{fontSize:13,color:G?"var(--sss-apex)":"var(--primary-apex)",fontWeight:600,marginTop:4,display:"flex",alignItems:"center",gap:6},children:[G?s.jsx(tu,{size:14}):s.jsx(ec,{size:14})," ",ye]}),s.jsxs("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:2},children:["Code: ",s.jsx("span",{style:{color:"var(--primary-apex)",fontWeight:700,letterSpacing:2},children:$.code})]})]})]}),s.jsx("div",{style:{display:"flex",gap:0,padding:"0 16px",flexShrink:0,borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(15,17,21,0.8)",backdropFilter:"blur(12px)"},children:Z.map(se=>s.jsxs("button",{onClick:()=>E(se.id),style:{flex:1,padding:"14px 0",background:"none",border:"none",cursor:"pointer",color:M===se.id?"var(--primary-apex)":"var(--text-muted)",fontFamily:"var(--font-main)",fontSize:11,fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:4,borderBottom:M===se.id?"2px solid var(--primary-apex)":"2px solid transparent",transition:"all 0.2s"},children:[se.icon,se.label]},se.id))}),s.jsxs("div",{style:{flex:1,overflow:"auto",padding:M==="chat"?0:"16px 20px 160px"},className:"no-scrollbar",children:[M==="members"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[s.jsxs("h3",{style:{fontSize:15,fontWeight:700},children:["Members (",$.members.length,")"]}),s.jsxs("button",{onClick:()=>v(!x),style:{background:"rgba(255,95,31,0.1)",border:"1px solid rgba(255,95,31,0.3)",borderRadius:8,color:"var(--primary-apex)",padding:"6px 12px",cursor:"pointer",fontFamily:"var(--font-main)",fontSize:12,fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[s.jsx(In,{size:12})," Add"]})]}),x&&s.jsxs("div",{className:"glass-panel",style:{padding:12,marginBottom:16},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10,padding:"8px 12px",borderRadius:10,background:"rgba(255,255,255,0.04)"},children:[s.jsx(Vi,{size:14,color:"var(--text-muted)"}),s.jsx("input",{type:"text",placeholder:"Search contacts...",value:w,onChange:se=>T(se.target.value),style:{background:"transparent",border:"none",color:"white",fontSize:13,fontFamily:"var(--font-main)",outline:"none",flex:1}})]}),ou.filter(se=>!$.members.find(Se=>Se.id===se.id)&&(se.name.toLowerCase().includes(w.toLowerCase())||se.username.toLowerCase().includes(w.toLowerCase()))).map(se=>s.jsxs("div",{onClick:()=>_({type:"ADD_MEMBER",payload:{id:se.id,name:se.name,vehicle:se.vehicle}}),style:{display:"flex",alignItems:"center",gap:10,padding:"8px 4px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.04)"},onMouseEnter:Se=>Se.currentTarget.style.background="rgba(255,255,255,0.04)",onMouseLeave:Se=>Se.currentTarget.style.background="transparent",children:[s.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:"linear-gradient(135deg, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,fontWeight:700},children:se.name.charAt(0)}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:13,fontWeight:600},children:se.name}),s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)"},children:se.vehicle})]}),s.jsx(In,{size:14,color:"var(--primary-apex)"})]},se.id))]}),$.members.map((se,Se)=>s.jsxs("div",{className:"glass-panel",style:{padding:"12px 16px",marginBottom:8,display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:Se===0?"linear-gradient(135deg, var(--primary-apex), #ff8f00)":"linear-gradient(135deg, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,fontWeight:700},children:se.name.charAt(0)}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("p",{style:{fontSize:14,fontWeight:600},children:[se.name," ",Se===0&&s.jsx("span",{style:{fontSize:10,color:"var(--primary-apex)"},children:"ADMIN"})]}),s.jsx("p",{style:{fontSize:12,color:"var(--text-secondary)"},children:se.vehicle})]}),Se>0&&s.jsx("button",{onClick:()=>_({type:"REMOVE_MEMBER",payload:se.id}),style:{background:"none",border:"none",color:"rgba(255,60,60,0.6)",cursor:"pointer",padding:4},children:s.jsx(fi,{size:14})})]},se.id))]}),M==="gallery"&&s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>_({type:"ADD_GALLERY_IMAGE",payload:`https://picsum.photos/seed/${Date.now()}/400/300`}),style:{width:"100%",padding:"20px",borderRadius:12,background:"rgba(255,255,255,0.03)",border:"1px dashed rgba(255,255,255,0.12)",color:"var(--text-muted)",cursor:"pointer",fontFamily:"var(--font-main)",fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:16},children:[s.jsx(no,{size:18})," Upload Photo"]}),$.gallery.length===0?s.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[s.jsx(op,{size:40,color:"var(--text-muted)",style:{opacity:.3,marginBottom:12}}),s.jsx("p",{style:{fontSize:14,color:"var(--text-muted)"},children:"No photos yet"}),s.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:4},children:"Upload pics from your convoy drive!"})]}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8},children:$.gallery.map((se,Se)=>s.jsx("div",{style:{borderRadius:12,overflow:"hidden",aspectRatio:"4/3"},children:s.jsx("img",{src:se,alt:`Gallery ${Se}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},Se))})]}),M==="route"&&($.route?s.jsxs("div",{className:"glass-panel",style:{padding:0,overflow:"hidden",position:"relative"},children:[s.jsxs("div",{style:{height:160,position:"relative"},children:[s.jsx("img",{src:$.route.image,alt:$.route.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.8))"}}),s.jsxs("div",{style:{position:"absolute",bottom:12,left:16,right:16},children:[s.jsx("h3",{style:{fontSize:18,fontWeight:800},children:$.route.name}),s.jsx("p",{style:{fontSize:13,color:"rgba(255,255,255,0.8)"},children:$.route.region})]})]}),s.jsxs("div",{style:{padding:"16px"},children:[$.description&&s.jsxs("div",{style:{marginBottom:20},children:[s.jsx("p",{style:{fontSize:11,fontWeight:700,color:"var(--text-muted)",marginBottom:4,textTransform:"uppercase",letterSpacing:.5},children:"ABOUT THIS DRIVE"}),s.jsx("p",{style:{fontSize:14,lineHeight:1.5,color:"rgba(255,255,255,0.9)"},children:$.description})]}),s.jsxs("div",{style:{display:"flex",gap:16,marginBottom:24},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase"},children:"Distance"}),s.jsxs("p",{style:{fontSize:15,fontWeight:700},children:[$.route.distance," km"]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase"},children:"Duration"}),s.jsxs("p",{style:{fontSize:15,fontWeight:700},children:[$.route.duration," min"]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase"},children:"Curviness"}),s.jsxs("p",{style:{fontSize:15,fontWeight:700},children:[$.route.curvinessIndex,"/5"]})]})]}),s.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.06)",paddingTop:16},children:[s.jsx("p",{style:{fontSize:12,fontWeight:700,marginBottom:16,color:"var(--text-secondary)"},children:"ROUTE TIMELINE"}),s.jsx(Fa,{route:$.route,userLocation:re,readOnly:!1,isEditing:Pe,onEdit:()=>_e(!0),onCancelEdit:()=>_e(!1),onSaveEdit:de,onAddStop:Ie,onStopUpdate:(se,Se)=>_({type:"UPDATE_STOP_DETAILS",payload:{index:se,details:Se}}),showHeader:!1})]})]}),s.jsxs("div",{style:{padding:"0 16px 16px",display:"flex",gap:10},children:[s.jsx("button",{style:{flex:1,padding:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Change Route"}),s.jsx("button",{style:{flex:1,padding:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:12,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Details"})]})]}):s.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[s.jsx(kr,{size:40,color:"var(--text-muted)",style:{opacity:.3,marginBottom:12}}),s.jsx("p",{style:{fontSize:14,color:"var(--text-muted)"},children:"No route set yet"}),s.jsxs("button",{style:{marginTop:16,padding:"12px 24px",borderRadius:12,background:"rgba(255,95,31,0.1)",border:"1px solid rgba(255,95,31,0.3)",color:"var(--primary-apex)",cursor:"pointer",fontFamily:"var(--font-main)",fontSize:13,fontWeight:600,display:"inline-flex",alignItems:"center",gap:8},children:[s.jsx(kr,{size:16})," Select Route"]})]})),M==="chat"&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[s.jsxs("div",{style:{flex:1,overflow:"auto",padding:"16px 16px 8px"},className:"no-scrollbar",children:[$.messages.map(se=>{const Se=se.userId==="u1";return s.jsx("div",{style:{display:"flex",justifyContent:Se?"flex-end":"flex-start",marginBottom:12},children:s.jsxs("div",{style:{maxWidth:"75%",padding:"10px 14px",borderRadius:Se?"16px 16px 4px 16px":"16px 16px 16px 4px",background:Se?"rgba(255,95,31,0.2)":"rgba(255,255,255,0.06)",border:Se?"1px solid rgba(255,95,31,0.2)":"1px solid rgba(255,255,255,0.04)"},children:[!Se&&s.jsx("p",{style:{fontSize:11,color:"var(--primary-apex)",fontWeight:600,marginBottom:4},children:se.name}),s.jsx("p",{style:{fontSize:14,lineHeight:1.4},children:se.text}),s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)",marginTop:4,textAlign:"right"},children:se.time})]})},se.id)}),s.jsx("div",{ref:me})]}),s.jsxs("div",{style:{flexShrink:0,padding:"8px 16px 170px",display:"flex",gap:8,borderTop:"1px solid rgba(255,255,255,0.06)"},children:[s.jsx("input",{type:"text",placeholder:"Type a message...",value:U,onChange:se=>O(se.target.value),onKeyDown:se=>se.key==="Enter"&&ce(),style:{...cr,padding:"12px 14px",fontSize:14}}),s.jsx("button",{onClick:ce,className:"btn-primary",style:{padding:"12px 16px",borderRadius:12,flexShrink:0},children:s.jsx(E1,{size:18})})]})]})]}),s.jsx("div",{style:{position:"absolute",bottom:90,left:20,right:20,zIndex:"var(--z-overlay)"},children:s.jsxs("button",{onClick:()=>{_({type:"START_DRIVE"}),d&&d({title:$.title||"Convoy",memberCount:$.members.length,members:$.members,navigateToStart:!0,...$.route||{}})},className:"btn-primary",style:{width:"100%",padding:"16px",fontSize:15,fontWeight:700,borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",gap:8,boxShadow:"0 8px 32px rgba(255,95,31,0.4)"},children:[s.jsx(Et,{size:18})," Start Drive"]})})]})}if(ct==="driving"){const ye={connected:{bg:"rgba(0,230,118,0.12)",border:"1px solid rgba(0,230,118,0.3)",color:"var(--sss-apex)",label:"Connected",icon:s.jsx(F1,{size:14})},fragmented:{bg:"rgba(255,145,0,0.12)",border:"1px solid rgba(255,145,0,0.3)",color:"var(--sss-good)",label:"Fragmented",icon:s.jsx(ap,{size:14})},disconnected:{bg:"rgba(255,23,68,0.12)",border:"1px solid rgba(255,23,68,0.3)",color:"var(--sss-danger)",label:"Disconnected",icon:s.jsx(ap,{size:14})}}[an.status];return s.jsxs("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden"},children:[s.jsxs("div",{style:{position:"absolute",inset:0,background:"radial-gradient(ellipse at 50% 50%, rgba(20,24,32,1) 0%, #0a0c10 100%)"},children:[s.jsx("div",{style:{position:"absolute",inset:"-50%",background:"linear-gradient(90deg, rgba(255,95,31,0.02) 1px, transparent 1px), linear-gradient(rgba(255,95,31,0.02) 1px, transparent 1px)",backgroundSize:"60px 60px"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:20,height:20,borderRadius:"50%",background:"var(--primary-apex)",boxShadow:"0 0 20px var(--primary-glow)",animation:"pulseGlow 2s ease infinite"}}),$.members.slice(1).map((Z,ce)=>s.jsx("div",{style:{position:"absolute",top:`${45+ce*3}%`,left:`${52+ce*5}%`,width:14,height:14,borderRadius:"50%",background:"var(--sss-apex)",border:"2px solid var(--bg-dark)",boxShadow:"0 0 8px rgba(0,230,118,0.4)"}},ce))]}),s.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,padding:"52px 20px 12px",zIndex:"var(--z-overlay)",display:"flex",alignItems:"center",gap:10},children:[s.jsx("button",{onClick:()=>{_({type:"END_DRIVE"}),p&&p()},style:{background:"rgba(0,0,0,0.5)",backdropFilter:"blur(12px)",border:"var(--border-glass)",borderRadius:"50%",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer"},children:s.jsx(Rn,{size:18})}),s.jsxs("div",{className:"glass-overlay",style:{flex:1,padding:"10px 14px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("span",{style:{fontSize:14,fontWeight:700},children:$.title||"Convoy"}),s.jsxs("span",{style:{fontSize:12,color:"var(--text-secondary)"},children:[s.jsx(st,{size:12})," ",$.members.length]})]})]}),s.jsxs("div",{style:{position:"absolute",top:110,left:20,right:20,zIndex:"var(--z-overlay)"},children:[s.jsxs("div",{style:{padding:"10px 16px",borderRadius:12,background:ye.bg,border:ye.border,display:"flex",alignItems:"center",gap:8,animation:an.status!=="connected"?"pulseAlert 1.5s ease infinite":"none"},children:[ye.icon,s.jsxs("span",{style:{fontSize:13,fontWeight:600,color:ye.color},children:["Digital Tether: ",ye.label]})]}),s.jsx("div",{style:{display:"flex",gap:6,marginTop:8},children:["connected","fragmented","disconnected"].map(Z=>s.jsx("button",{onClick:()=>_({type:"SET_TETHER",payload:Z}),style:{padding:"6px 10px",fontSize:10,borderRadius:8,background:an.status===Z?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.03)",border:"var(--border-glass)",color:"var(--text-secondary)",fontFamily:"var(--font-main)",cursor:"pointer",textTransform:"capitalize"},children:Z},Z))})]}),s.jsxs("div",{style:{position:"absolute",bottom:100,left:0,right:0,zIndex:"var(--z-overlay)",display:"flex",justifyContent:"center",gap:16,padding:"0 20px"},children:[s.jsxs("div",{className:"glass-overlay",style:{padding:"12px 20px",textAlign:"center"},children:[s.jsx("p",{style:{fontSize:32,fontWeight:800,lineHeight:1},children:"72"}),s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)"},children:"km/h"})]}),s.jsx("div",{style:{width:64,height:64,borderRadius:"50%",background:"rgba(255,255,255,0.08)",border:"2px solid rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:s.jsx(Aa,{size:24,color:"var(--text-secondary)"})}),s.jsxs("div",{className:"glass-overlay",style:{padding:"12px 20px",textAlign:"center"},children:[s.jsx("p",{style:{fontSize:16,fontWeight:700},children:"12 min"}),s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)"},children:"ETA"})]})]})]})}return ct==="ended"?s.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:64,marginBottom:16},children:""}),s.jsx("h2",{style:{fontSize:24,fontWeight:800,marginBottom:8},children:"Drive Complete!"}),s.jsx("p",{style:{fontSize:15,color:"var(--text-secondary)",marginBottom:32},children:"Great run with your squad."}),s.jsx("button",{onClick:()=>_({type:"BACK_TO_LOBBY"}),className:"btn-primary",style:{padding:"16px 40px",fontSize:15,fontWeight:700},children:"Back to Lobby"})]}):null},$v=({trip:e,onClick:t,onDelete:i})=>s.jsxs("div",{onClick:t,className:"glass-panel",style:{display:"flex",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease",position:"relative"},onMouseEnter:o=>{o.currentTarget.style.transform="scale(1.01)",o.currentTarget.style.boxShadow="0 6px 24px rgba(0,0,0,0.3)"},onMouseLeave:o=>{o.currentTarget.style.transform="scale(1)",o.currentTarget.style.boxShadow="none"},children:[s.jsxs("div",{style:{width:100,height:100,flexShrink:0,position:"relative",overflow:"hidden"},children:[s.jsx("img",{src:e.image,alt:e.routeName,style:{width:"100%",height:"100%",objectFit:"cover"},onError:o=>{o.target.style.display="none",o.target.parentElement.style.background="linear-gradient(135deg, #1a1d24, #2c3e50)"}}),e.photos>0&&s.jsxs("div",{style:{position:"absolute",bottom:4,right:4,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"2px 6px",borderRadius:6,fontSize:10,display:"flex",alignItems:"center",gap:3},children:[s.jsx(no,{size:9})," ",e.photos]})]}),s.jsxs("div",{style:{flex:1,padding:"12px 14px",display:"flex",flexDirection:"column",justifyContent:"center",minWidth:0},children:[s.jsx("h3",{style:{fontSize:15,fontWeight:700,marginBottom:4,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.routeName}),s.jsx("p",{style:{fontSize:12,color:"var(--text-secondary)",marginBottom:8},children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.jsxs("div",{style:{display:"flex",gap:12,fontSize:11,color:"var(--text-muted)"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(on,{size:10})," ",e.distance," km"]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3},children:[s.jsx(Wn,{size:10})," ",e.duration," min"]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"0 12px",color:"var(--text-muted)"},children:[i&&s.jsx("button",{onClick:o=>{o.stopPropagation(),i()},style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="rgba(255,255,255,0.12)",o.currentTarget.style.color="white"},onMouseLeave:o=>{o.currentTarget.style.background="rgba(255,255,255,0.06)",o.currentTarget.style.color="var(--text-muted)"},children:s.jsx(fi,{size:14})}),s.jsx(As,{size:18})]})]}),Yv=({data:e})=>e?s.jsxs("div",{style:{animation:"slideUp 0.3s ease"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10,marginBottom:20},children:[s.jsx($o,{icon:s.jsx(nd,{size:18,color:"var(--primary-apex)"}),label:"Top Speed",value:`${e.maxSpeed} km/h`,sub:`Avg: ${e.avgSpeed} km/h`}),s.jsx($o,{icon:s.jsx(tu,{size:18,color:"var(--sss-caution)"}),label:"Peak G-Force",value:`${e.maxGForce}G`,sub:`Avg: ${e.avgGForce}G`}),s.jsx($o,{icon:s.jsx(x1,{size:18,color:"var(--sss-good)"}),label:"Fuel Used",value:`${e.fuelUsed}L`}),s.jsx($o,{icon:s.jsx(td,{size:18,color:"var(--sss-apex)"}),label:"Gear Changes",value:e.gearChanges})]}),s.jsxs("div",{className:"glass-panel",style:{padding:16,marginBottom:20},children:[s.jsx("h4",{style:{fontSize:13,fontWeight:600,color:"var(--text-secondary)",marginBottom:12,textTransform:"uppercase",letterSpacing:.5},children:"G-Force Heatmap"}),s.jsxs("div",{style:{height:60,borderRadius:10,background:`linear-gradient(90deg, 
                        rgba(0,230,118,0.3) 0%, 
                        rgba(0,230,118,0.5) 15%, 
                        rgba(255,145,0,0.5) 25%, 
                        rgba(0,230,118,0.4) 35%, 
                        rgba(255,214,0,0.6) 45%, 
                        rgba(255,23,68,0.7) 50%, 
                        rgba(255,214,0,0.5) 55%, 
                        rgba(0,230,118,0.4) 65%, 
                        rgba(255,145,0,0.6) 75%, 
                        rgba(255,23,68,0.5) 82%, 
                        rgba(255,145,0,0.4) 90%, 
                        rgba(0,230,118,0.3) 100%)`,position:"relative",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",left:"50%",top:0,bottom:0,width:2,background:"var(--sss-danger)",opacity:.8}}),s.jsxs("div",{style:{position:"absolute",left:"calc(50% - 20px)",top:4,fontSize:9,fontWeight:700,color:"var(--sss-danger)",background:"rgba(0,0,0,0.6)",padding:"2px 6px",borderRadius:4},children:["Peak: ",e.maxGForce,"G"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:6,fontSize:10,color:"var(--text-muted)"},children:[s.jsx("span",{children:"Start"}),s.jsxs("span",{style:{display:"flex",gap:10},children:[s.jsx("span",{style:{color:"var(--sss-apex)"},children:" Low"}),s.jsx("span",{style:{color:"var(--sss-caution)"},children:" Med"}),s.jsx("span",{style:{color:"var(--sss-danger)"},children:" High"})]}),s.jsx("span",{children:"End"})]})]}),e.sectors&&e.sectors.length>0&&s.jsxs("div",{className:"glass-panel",style:{padding:16},children:[s.jsx("h4",{style:{fontSize:13,fontWeight:600,color:"var(--text-secondary)",marginBottom:14,textTransform:"uppercase",letterSpacing:.5},children:"Sector Breakdown"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:e.sectors.map((t,i)=>{const o=Math.max(...e.sectors.map(c=>c.speed)),l=t.speed/o*100;return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[s.jsx("span",{style:{fontSize:12,fontWeight:500},children:t.name}),s.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)"},children:t.time})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("div",{style:{flex:1,height:6,borderRadius:3,background:"rgba(255,255,255,0.06)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${l}%`,height:"100%",borderRadius:3,background:l>80?"linear-gradient(90deg, var(--primary-apex), #ff8f00)":l>50?"var(--sss-good)":"var(--sss-apex)",transition:"width 0.6s ease"}})}),s.jsxs("span",{style:{fontSize:12,fontWeight:700,minWidth:56,textAlign:"right"},children:[t.speed," km/h"]})]})]},i)})})]})]}):null,$o=({icon:e,label:t,value:i,sub:o})=>s.jsxs("div",{className:"glass-panel",style:{padding:16,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[s.jsx("div",{style:{marginBottom:8},children:e}),s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:t}),s.jsx("p",{style:{fontSize:20,fontWeight:800},children:i}),o&&s.jsx("p",{style:{fontSize:11,color:"var(--text-secondary)",marginTop:2},children:o})]}),qv=({favorites:e,bucketList:t,myRoutes:i=[],trips:o=[],onToggleFavorite:l,onRemoveTrip:c,onRemoveMyRoute:d,onClearTrips:p,onClearFavorites:f,onClearBucketList:g,onClearMyRoutes:_,onSelectRoute:y,onCreateRoute:k})=>{const[j,I]=S.useState("history"),[z,N]=S.useState(null),[x,v]=S.useState(!1),w=[{key:"history",label:"History",icon:s.jsx(Wn,{size:14})},{key:"favorites",label:"Favorites",icon:s.jsx(Na,{size:14})},{key:"bucketList",label:"Bucket List",icon:s.jsx(sd,{size:14})},{key:"myRoutes",label:"My Routes",icon:s.jsx(kr,{size:14})}],T=V=>{N(V),v(!1)},M=Er.filter(V=>e.has(V.id)),E=Er.filter(V=>t.has(V.id)),U=({onClick:V})=>s.jsx("button",{onClick:A=>{A.stopPropagation(),V()},style:{position:"absolute",top:8,right:8,zIndex:10,width:30,height:30,borderRadius:"50%",background:"rgba(255, 255, 255, 0.06)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(6px)"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.12)",A.currentTarget.style.color="white",A.currentTarget.style.transform="scale(1.1)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.06)",A.currentTarget.style.color="var(--text-secondary)",A.currentTarget.style.transform="scale(1)"},title:"Delete",children:s.jsx(fi,{size:14})}),O=({onClick:V,label:A="Clear All"})=>s.jsxs("button",{onClick:V,style:{width:"100%",padding:"14px",marginTop:12,background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:14,color:"var(--text-secondary)",fontWeight:600,fontSize:13,fontFamily:"var(--font-main)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.2s"},onMouseEnter:te=>{te.currentTarget.style.background="rgba(255, 255, 255, 0.08)",te.currentTarget.style.color="white"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(255, 255, 255, 0.03)",te.currentTarget.style.color="var(--text-secondary)"},children:[s.jsx(fi,{size:14})," ",A]});return s.jsxs("div",{style:{height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{padding:"56px 20px 0",flexShrink:0},children:[s.jsx("h1",{style:{fontSize:32,fontWeight:500,marginBottom:4,fontFamily:"var(--font-display)"},children:"Trips"}),s.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginBottom:20},children:"Your drive memories & future adventures"}),s.jsx("div",{style:{display:"flex",gap:4,padding:4,borderRadius:14,background:"rgba(255,255,255,0.04)"},children:w.map(V=>s.jsxs("button",{onClick:()=>{I(V.key),N(null)},style:{flex:1,padding:"10px",borderRadius:10,border:"none",background:j===V.key?"rgba(255,95,31,0.12)":"transparent",color:j===V.key?"var(--primary-apex)":"var(--text-secondary)",fontWeight:600,fontSize:12,fontFamily:"var(--font-main)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:5,transition:"all 0.2s"},children:[V.icon," ",V.label]},V.key))})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px 20px 100px"},className:"no-scrollbar",children:z?s.jsxs("div",{style:{animation:"fadeIn 0.3s ease"},children:[s.jsx("button",{onClick:()=>N(null),style:{background:"none",border:"none",color:"var(--primary-apex)",fontFamily:"var(--font-main)",fontSize:13,fontWeight:600,cursor:"pointer",marginBottom:16,padding:0},children:" All Trips"}),s.jsxs("div",{style:{borderRadius:16,overflow:"hidden",marginBottom:20,position:"relative"},children:[s.jsx("img",{src:z.image,alt:z.routeName,style:{width:"100%",height:180,objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(transparent 30%, rgba(15,17,21,0.9) 100%)"}}),s.jsxs("div",{style:{position:"absolute",bottom:16,left:16},children:[s.jsx("h2",{style:{fontSize:24,fontWeight:500,marginBottom:4,fontFamily:"var(--font-display)"},children:z.routeName}),s.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)"},children:new Date(z.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:10,marginBottom:20},children:[s.jsx(oc,{label:"Distance",value:`${z.distance} km`}),s.jsx(oc,{label:"Duration",value:`${z.duration} min`}),s.jsx(oc,{label:"Photos",value:z.photos})]}),s.jsxs("div",{className:"glass-panel",style:{padding:16,marginBottom:20},children:[s.jsx("h4",{style:{fontSize:13,fontWeight:600,color:"var(--text-secondary)",marginBottom:10,textTransform:"uppercase",letterSpacing:.5},children:" Notes"}),s.jsx("p",{style:{fontSize:14,lineHeight:1.6,color:"var(--text-primary)"},children:z.notes})]}),s.jsxs("button",{onClick:()=>v(!x),style:{width:"100%",padding:"14px",background:x?"rgba(255,95,31,0.12)":"rgba(255,255,255,0.04)",border:x?"1px solid rgba(255,95,31,0.3)":"var(--border-glass)",borderRadius:14,color:x?"var(--primary-apex)":"var(--text-secondary)",fontWeight:600,fontSize:14,fontFamily:"var(--font-main)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.2s",marginBottom:16},children:[" ",x?"Hide":"Show"," Performance Data"]}),x&&z.performance&&s.jsx(Yv,{data:z.performance})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[j==="history"&&(o.length>0?s.jsxs(s.Fragment,{children:[o.map(V=>s.jsx("div",{style:{position:"relative"},children:s.jsx($v,{trip:V,onClick:()=>T(V),onDelete:()=>c&&c(V.id)})},V.id)),s.jsx(O,{onClick:()=>p&&p(),label:"Clear History"})]}):s.jsx(Yo,{icon:"Clock",title:"No trips yet",desc:"Start driving to build your history"})),j==="favorites"&&(M.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:14},children:M.map(V=>s.jsxs("div",{style:{position:"relative"},children:[s.jsx(U,{onClick:()=>l&&l(V.id)}),s.jsx(Fs,{route:V,onClick:()=>y&&y(V)})]},V.id))}),s.jsx(O,{onClick:()=>f&&f(),label:"Clear Favorites"})]}):s.jsx(Yo,{icon:"Heart",title:"No favorites yet",desc:"Heart routes while browsing Discover to save them here"})),j==="bucketList"&&(E.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:14},children:E.map(V=>s.jsxs("div",{style:{position:"relative"},children:[s.jsx(U,{onClick:()=>l&&l(V.id)}),s.jsx(Fs,{route:V,onClick:()=>y&&y(V)})]},V.id))}),s.jsx(O,{onClick:()=>g&&g(),label:"Clear Bucket List"})]}):s.jsx(Yo,{icon:"Star",title:"Your bucket list is empty",desc:"Star routes in Discover to add them to your must-drive list"})),j==="myRoutes"&&(i.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:14},children:i.map(V=>s.jsxs("div",{style:{position:"relative"},children:[s.jsx(U,{onClick:()=>d&&d(V.id)}),s.jsx(Fs,{route:V,onClick:()=>y&&y(V)})]},V.id))}),s.jsx(O,{onClick:()=>_&&_(),label:"Clear My Routes"})]}):s.jsx(Yo,{icon:"Route",title:"No saved routes yet",desc:"Create your own custom routes to see them here",action:s.jsxs("button",{onClick:k,style:{marginTop:16,padding:"12px 24px",background:"var(--primary-apex)",color:"white",border:"none",borderRadius:12,fontWeight:600,fontSize:14,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:8,boxShadow:"0 4px 12px rgba(255, 95, 31, 0.3)"},children:[s.jsx(kr,{size:16})," Create Route"]})}))]})})]})},oc=({label:e,value:t})=>s.jsxs("div",{style:{padding:"14px 10px",background:"rgba(255,255,255,0.03)",border:"var(--border-glass)",borderRadius:12,textAlign:"center"},children:[s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:e}),s.jsx("p",{style:{fontSize:18,fontWeight:800},children:t})]}),Yo=({icon:e,title:t,desc:i,action:o})=>s.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",marginTop:20},children:[s.jsx("div",{style:{fontSize:48,marginBottom:16,opacity:.5,filter:"grayscale(1)"},children:e==="Heart"?"":e==="Star"?"":e==="Route"?"":""}),s.jsx("h3",{style:{fontWeight:600,marginBottom:8,fontSize:18},children:t}),s.jsx("p",{style:{color:"var(--text-secondary)",fontSize:14,maxWidth:280,margin:"0 auto",lineHeight:1.5},children:i}),o&&o]}),Qv=()=>{const[e,t]=S.useState(7),[i,o]=S.useState(!1),l=async()=>{if(o(!0),"serviceWorker"in navigator){const c=await navigator.serviceWorker.getRegistration();c?(await c.update(),c.waiting?(c.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})):setTimeout(()=>o(!1),1e3)):o(!1)}else o(!1)};return s.jsxs("div",{style:{height:"100%",overflow:"auto",padding:"56px 20px 100px"},className:"no-scrollbar",children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[s.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, var(--primary-apex), #ff8f00)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,fontWeight:800,margin:"0 auto 14px",boxShadow:"0 4px 24px var(--primary-glow)"},children:"S"}),s.jsx("h1",{style:{fontSize:32,fontWeight:500,fontFamily:"var(--font-display)"},children:"Stefan K."}),s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,marginTop:8,padding:"6px 14px",background:"rgba(0,230,118,0.1)",border:"1px solid rgba(0,230,118,0.2)",borderRadius:20,color:"var(--sss-apex)",fontSize:13,fontWeight:600},children:[s.jsx(R1,{size:14})," Verified Pilot"]})]}),s.jsxs("div",{className:"glass-panel",style:{padding:20,marginBottom:20},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[s.jsxs("h3",{style:{fontSize:20,fontWeight:500,fontFamily:"var(--font-display)",display:"flex",alignItems:"center",gap:8},children:[s.jsx(m1,{size:18,color:"var(--primary-apex)"})," My Vehicle"]}),s.jsxs("button",{style:{background:"none",border:"none",color:"var(--primary-apex)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontFamily:"var(--font-main)",fontSize:13,fontWeight:500},children:[s.jsx(z1,{size:13})," Edit"]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[s.jsx(ws,{label:"Make / Model",value:"McLaren 720S"}),s.jsx(ws,{label:"Year",value:"2024"}),s.jsx(ws,{label:"VIN",value:"9982"}),s.jsx(ws,{label:"Ground Clearance",value:"120mm",highlight:!0}),s.jsx(ws,{label:"Power",value:"720 PS (530 kW)"})]})]}),s.jsxs("div",{className:"glass-panel",style:{padding:20,marginBottom:20},children:[s.jsxs("h3",{style:{fontSize:20,fontWeight:500,fontFamily:"var(--font-display)",marginBottom:16,display:"flex",alignItems:"center",gap:8},children:[s.jsx(M1,{size:18,color:"var(--primary-apex)"})," Preferences"]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[s.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Minimum SSS Threshold"}),s.jsx("span",{style:{fontSize:14,fontWeight:700,color:"var(--primary-apex)"},children:e.toFixed(1)})]}),s.jsx("input",{type:"range",min:0,max:10,step:.5,value:e,onChange:c=>t(parseFloat(c.target.value)),style:{width:"100%",accentColor:"var(--primary-apex)"}}),s.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginTop:4},children:"Routes below this score will show a warning"})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[s.jsx(qo,{label:"Preferred Roads",value:"Mountain Passes, Forest Roads"}),s.jsx(qo,{label:"Avoid",value:"Speed Humps, Unpaved"}),s.jsx(qo,{label:"Units",value:"Metric (km/h)"}),s.jsx(qo,{label:"Hump Alerts",value:"200m warning"})]})]}),s.jsxs("div",{className:"glass-panel",style:{padding:20},children:[s.jsx("h3",{style:{fontSize:20,fontWeight:500,fontFamily:"var(--font-display)",marginBottom:16},children:" Statistics"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:[s.jsx(Qo,{label:"Total Drives",value:"47"}),s.jsx(Qo,{label:"Total Distance",value:"2,840 km"}),s.jsx(Qo,{label:"Avg. SSS",value:"8.9",color:"var(--sss-apex)"}),s.jsx(Qo,{label:"Best G-Force",value:"1.8G",color:"var(--primary-apex)"})]})]}),s.jsxs("div",{className:"glass-panel",style:{padding:20,marginBottom:20},children:[s.jsx("h3",{style:{fontSize:15,fontWeight:700,marginBottom:16},children:"App Info"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Version"}),s.jsx("span",{style:{fontSize:13,color:"var(--text-primary)"},children:"v1.0.2"})]}),s.jsxs("button",{onClick:l,disabled:i,className:"btn-glass",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginTop:8,borderColor:"var(--primary-apex)",color:"var(--primary-apex)"},children:[s.jsx(eu,{size:14,className:i?"spin-icon":""}),i?"Checking...":"Update App"]})]})]})]})},ws=({label:e,value:t,highlight:i})=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},children:[s.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:e}),s.jsx("span",{style:{fontSize:14,fontWeight:600,color:i?"var(--sss-caution)":"var(--text-primary)"},children:t})]}),qo=({label:e,value:t})=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[s.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:e}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:"var(--text-primary)",fontSize:13,fontWeight:500},children:[t,s.jsx(As,{size:14,color:"var(--text-muted)"})]})]}),Qo=({label:e,value:t,color:i})=>s.jsxs("div",{style:{padding:"14px",textAlign:"center",background:"rgba(255,255,255,0.03)",border:"var(--border-glass)",borderRadius:12},children:[s.jsx("p",{style:{fontSize:10,color:"var(--text-muted)",marginBottom:6,textTransform:"uppercase",letterSpacing:.5},children:e}),s.jsx("p",{style:{fontSize:22,fontWeight:800,color:i||"white"},children:t})]}),dp=[{text:"Straight roads are for fast cars, turns are for fast drivers.",author:"Colin McRae"},{text:"If you have everything under control, you're not moving fast enough.",author:"Mario Andretti"},{text:"A racing car is an animal with a thousand adjustments.",author:"Mario Andretti"},{text:"Theres a point at 7,000 RPM where everything fades. The machine becomes weightless. It just disappears.",author:"Ken Miles"},{text:"To win a race, the fastest way is to go as slow as possible as fast as possible.",author:"Jackie Stewart"},{text:"When you're racing, it's life. Anything that happens before or after is just waiting.",author:"Steve McQueen"},{text:"Speed has never killed anyone, suddenly becoming stationary thats what gets you.",author:"Jeremy Clarkson"},{text:"Fast cars are my only vice.",author:"Michael Landon"},{text:"Racing is the only time I feel whole.",author:"James Dean"},{text:"Ive always been a fan of fast cars. Its a great way to clear the head.",author:"Jenson Button"},{text:"Driving is the most fun you can have with your clothes on.",author:"Julian Richards"},{text:"A car is like a mother-in-law  if you let it, it will rule your life.",author:"Jaime Alguersuari"},{text:"The best therapy is a long drive and a loud engine.",author:"David Brown"},{text:"Life is too short to drive boring cars.",author:"Hanan Mazouzi"},{text:"Everything in life is somewhere else, and you get there in a car.",author:"E.B. White"}],Xv=({onFinish:e})=>{const[t,i]=S.useState(null),[o,l]=S.useState(!1);return S.useEffect(()=>{const c=Math.floor(Math.random()*dp.length);i(dp[c]);const d=setTimeout(()=>{l(!0)},5e3),p=setTimeout(()=>{e&&e()},6e3);return()=>{clearTimeout(d),clearTimeout(p)}},[e]),t?s.jsxs("div",{style:{position:"fixed",inset:0,backgroundColor:"#000000",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",textAlign:"center",transition:"opacity 1s ease-out",opacity:o?0:1,pointerEvents:o?"none":"auto",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url(/splash-bg.jpg)",backgroundSize:"cover",backgroundPosition:"center",opacity:.5,zIndex:0,filter:"grayscale(0.2) contrast(1.1) saturate(0.8)"}}),s.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle at center, rgba(26, 29, 36, 0.4) 0%, #000000 100%)",zIndex:1}}),s.jsxs("div",{style:{maxWidth:"680px",position:"relative",zIndex:10},children:[s.jsx("div",{style:{position:"absolute",top:-40,left:-20,fontSize:"120px",lineHeight:1,fontFamily:"serif",color:"rgba(255, 95, 31, 0.1)",pointerEvents:"none"},children:""}),s.jsx("h1",{style:{fontSize:"32px",fontWeight:300,lineHeight:1.4,color:"#ffffff",marginBottom:"32px",fontFamily:'Didot, "Didot LT STD", "Hoefler Text", Garamond, "Times New Roman", serif',letterSpacing:"-0.02em",textShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:t.text}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",opacity:0,animation:"fadeInUp 1s ease-out 0.5s forwards"},children:[s.jsx("div",{style:{width:40,height:1,background:"var(--primary-apex)",opacity:.6}}),s.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:"var(--text-secondary)",letterSpacing:"3px",textTransform:"uppercase",fontFamily:"var(--font-main)"},children:t.author}),s.jsx("div",{style:{width:40,height:1,background:"var(--primary-apex)",opacity:.6}})]})]}),s.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"3px",background:"transparent"},children:s.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, transparent, var(--primary-apex), transparent)",width:"50%",opacity:.8,animation:"scanline 2s ease-in-out infinite"}})}),s.jsx("style",{children:`
                @keyframes fadeInUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes scanline {
                    0% { transform: translateX(-100%); }
                    100% { transform: translateX(200%); }
                }
            `})]}):null};function Jv(){const[e,t]=S.useState("discover"),[i,o]=S.useState(new Set),[l,c]=S.useState(new Set),[d,p]=S.useState([]),[f,g]=S.useState([...Uv]),_=de=>{o(Ie=>{const Oe=new Set(Ie);return Oe.has(de)?Oe.delete(de):Oe.add(de),Oe})},y=de=>{c(Ie=>{const Oe=new Set(Ie);return Oe.has(de)?Oe.delete(de):Oe.add(de),Oe})},k=S.useCallback(de=>{p(Ie=>Ie.some(Oe=>Oe.id===de.id)?Ie:[...Ie,de])},[]),j=S.useCallback(de=>{p(Ie=>Ie.filter(Oe=>Oe.id!==de))},[]),I=S.useCallback(de=>{g(Ie=>Ie.filter(Oe=>Oe.id!==de))},[]),z=S.useCallback(de=>{g(Ie=>[de,...Ie])},[]),N=S.useCallback(()=>g([]),[]),x=S.useCallback(()=>o(new Set),[]),v=S.useCallback(()=>c(new Set),[]),w=S.useCallback(()=>p([]),[]),[T,M]=S.useState(!1),[E,U]=S.useState(!1),[O,V]=S.useState(null),[A,te]=S.useState([]),[Y,X]=S.useState(null),[Q,me]=S.useState(null),[ve,Ae]=S.useState(!1),B=S.useCallback(()=>{t("discover"),M(!0)},[]),K=S.useCallback(de=>{de!=null&&de.member&&te([de.member]),de!=null&&de.route&&X(de.route),de!=null&&de.id&&!de.coordinates&&!de.route&&te([de]),t("squad")},[]),D=S.useCallback(de=>{me(de),t("discover")},[]),re=S.useCallback(()=>{me(null)},[]),[ge,Pe]=S.useState(null),_e=S.useCallback(()=>{me(null),Pe(null),V(null),t("discover")},[]),pe=S.useCallback(de=>{Pe(de),t("discover")},[]),oe=()=>{switch(e){case"squad":return s.jsx(Kv,{myRoutes:d,onConvoyChange:V,initialMembers:A,onClearInitialMembers:()=>te([]),initialRoute:Y,onClearInitialRoute:()=>X(null),onStartDrive:D,onEndDrive:re,onBack:()=>t("discover")});case"trips":return s.jsx(qv,{favorites:i,bucketList:l,myRoutes:d,trips:f,onToggleFavorite:_,onRemoveTrip:I,onRemoveMyRoute:j,onClearTrips:N,onClearFavorites:x,onClearBucketList:v,onClearMyRoutes:w,onCreateRoute:B,onSelectRoute:pe});case"profile":return s.jsx(Qv,{});default:return s.jsx(Vv,{favorites:i,bucketList:l,onToggleFavorite:_,onToggleBucketList:y,onSaveMyRoute:k,onSaveTrip:z,createMode:T,onResetCreateMode:()=>M(!1),initialRoute:ge,onClearInitialRoute:()=>Pe(null),onRequestConvoy:K,drivingMode:Q,onStartDrive:D,onEndDrive:_e,squadEnabled:E,setSquadEnabled:U,onLeaveConvoy:()=>V(null)})}},[Fe,lt]=S.useState(!0);return s.jsxs("div",{className:"app-container",style:{height:"100vh",width:"100vw",position:"relative",overflow:"hidden",background:"#000000",color:"white"},children:[Fe&&s.jsx(Xv,{onFinish:()=>lt(!1)}),s.jsx("main",{style:{height:"100%"},children:oe()}),s.jsx(O1,{activeTab:e,onTabChange:t,activeConvoy:O,hidden:!!Q||ve,squadEnabled:E})]})}class ex extends Ai.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){this.setState({error:t,errorInfo:i}),console.error("Uncaught error:",t,i)}render(){return this.state.hasError?s.jsxs("div",{style:{padding:20,color:"white",background:"#1a1a1a",height:"100vh",overflow:"auto"},children:[s.jsx("h1",{children:"Something went wrong."}),s.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),s.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}ac.createRoot(document.getElementById("root")).render(s.jsx(ex,{children:s.jsx(Jv,{})}));
